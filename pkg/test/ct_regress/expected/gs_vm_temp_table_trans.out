

SQL> drop table if exists vm_temp_table;

Succeed.

SQL> create global temporary table vm_temp_table(f_int1 int);

Succeed.

SQL> insert into vm_temp_table values(1);

1 rows affected.

SQL> delete from vm_temp_table;

1 rows affected.

SQL> 
SQL> --Do not change expectations easily; there may be a virtual memory leak,
SQL> -- Unstable use case, due to SYS_TMP_SEG_STATS, all table will record stat info, even the table drop, stat info is not free
SQL> --select ID,TOTAL_VIRTUAL,FREE_VIRTUAL,PAGE_SIZE,TOTAL_PAGES,FREE_PAGES from v$temp_pool;
SQL> 
SQL> insert into vm_temp_table values(1);

1 rows affected.

SQL> commit;

Succeed.

SQL> 
SQL> --Do not change expectations easily; there may be a virtual memory leak
SQL> -- Unstable use case, due to SYS_TMP_SEG_STATS, all table will record stat info, even the table drop, stat info is not free
SQL> --select ID,TOTAL_VIRTUAL,FREE_VIRTUAL,PAGE_SIZE,TOTAL_PAGES,FREE_PAGES from v$temp_pool;
SQL> 
SQL> 


