

SQL> DROP  TABLE if exists  j_purchaseorder;

Succeed.

SQL> CREATE TABLE j_purchaseorder
  2    (id          RAW (16) NOT NULL,
  3     date_loaded TIMESTAMP WITH TIME ZONE,
  4     po_document CLOB
  5     CONSTRAINT ensure_json CHECK (po_document IS JSON)); 

Succeed.

SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --begin with array
SQL> --pass
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '[{"A1":"A1111"},{"A2":"A2222"},{"A3":"A3333"},{"A4":"A4444"}]');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> SELECT json_value(po_document, '$[2].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[2].A3')                              
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].A3')                              
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$[0 to 3].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0 TO 3].A3')                         
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$[0,1,2].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0,1,2].A3')                          
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$[0,1,3].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0,1,3].A3')                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[to].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[TO].A3')                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[1, to].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[1, TO].A3')                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[2 to].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[2 TO].A3')                           
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$[to 3].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[TO 3].A3')                           
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> 
SQL> --XX on empty
SQL> select 1 from dual where (SELECT json_value(po_document, '$[0,1,3].A3' empty on empty) FROM j_purchaseorder) is null;

CT-02501, [1:34]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select 1 from dual where (SELECT json_value(po_document, '$[0,1,3].A3' null on empty) FROM j_purchaseorder) is null;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where (SELECT json_value(po_document, '$[0,1,3].A3' true on empty) FROM j_purchaseorder) = true;

CT-02501, Invalid RETURNING/ON clause, 
SQL> select 1 from dual where (SELECT json_value(po_document, '$[0,1,3].A3' true on empty) FROM j_purchaseorder) = 'true';

CT-02501, Invalid RETURNING/ON clause, 
SQL> select 1 from dual where (SELECT json_value(po_document, '$[0,1,3].A3' false on empty) FROM j_purchaseorder) = false;

CT-02501, Invalid RETURNING/ON clause, 
SQL> select 1 from dual where (SELECT json_value(po_document, '$[0,1,3].A3' false on empty) FROM j_purchaseorder) = 'false';

CT-02501, Invalid RETURNING/ON clause, 
SQL> select 1 from dual where (SELECT json_value(po_document, '$[0,1,3].A3' error on empty) FROM j_purchaseorder) = true;

CT-02506, JSON_VALUE evaluated to no value
SQL> 
SQL> --XX on error
SQL> select 1 from dual where (SELECT json_value(po_document, '$$$[0,1,3, to].A3' empty on error) FROM j_purchaseorder) ='[]';

CT-02501, [1:34]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select 1 from dual where (SELECT json_value(po_document, '$$$[0,1,3, to].A3' null on error) FROM j_purchaseorder) is null;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> select 1 from dual where (SELECT json_value(po_document, '$$$[0,1,3, to].A3' true on error) FROM j_purchaseorder) = true;

CT-02501, [1:34]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select 1 from dual where (SELECT json_value(po_document, '$$$[0,1,3, to].A3' true on error) FROM j_purchaseorder) = 'true';

CT-02501, [1:34]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select 1 from dual where (SELECT json_value(po_document, '$$$[0,1,3, to].A3' false on error) FROM j_purchaseorder) = false;

CT-02501, [1:34]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select 1 from dual where (SELECT json_value(po_document, '$$$[0,1,3, to].A3' false on error) FROM j_purchaseorder) = 'false';

CT-02501, [1:34]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select 1 from dual where (SELECT json_value(po_document, '$$$[0,1,3, to].A3' error on error) FROM j_purchaseorder) = true;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --internal node is array
SQL> --pass
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '{"XX":[{"A1":"A1111"},{"A2":"A2222"},{"A3":"A3333"},{"A4":"A4444"}]}');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> SELECT json_value(po_document, '$.XX[2].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[2].A3')                           
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$.   [2].       A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.   [2].       A3')                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$.   *  [    2     ].       A3   ') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.   *  [    2     ].       A3   ')    
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[*].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[*].A3')                           
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[0 to 3].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[0 TO 3].A3')                      
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[0,1,2].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[0,1,2].A3')                       
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[0,1,3].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[0,1,3].A3')                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> SELECT json_query(po_document, '$') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$')                                    
----------------------------------------------------------------
{"XX":[{"A1":"A1111"},{"A2":"A2222"},{"A3":"A3333"},{"A4":"A4444"}]}

1 rows fetched.

SQL> SELECT json_query(po_document, '$[*]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[*]')                                 
----------------------------------------------------------------
{"XX":[{"A1":"A1111"},{"A2":"A2222"},{"A3":"A3333"},{"A4":"A4444"}]}

1 rows fetched.

SQL> SELECT json_query(po_document, '$[0]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[0]')                                 
----------------------------------------------------------------
{"XX":[{"A1":"A1111"},{"A2":"A2222"},{"A3":"A3333"},{"A4":"A4444"}]}

1 rows fetched.

SQL> SELECT json_query(po_document, '$[1 to 5]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[1 TO 5]')                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$[to,to,to,to]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[TO,TO,TO,TO]')                       
----------------------------------------------------------------
{"XX":[{"A1":"A1111"},{"A2":"A2222"},{"A3":"A3333"},{"A4":"A4444"}]}

1 rows fetched.

SQL> 
SQL> SELECT json_value(po_document, '        $.XX[*].A3     ') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '        $.XX[*].A3     ')              
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '        $.XX[*]   .     A3     ') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '        $.XX[*]   .     A3     ')      
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[*].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[*].A3')                           
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$.  *  [  *  ].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.  *  [  *  ].A3')                    
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> 
SQL> SELECT json_value(po_document, '$.  XX  [*].  A3  ') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.  XX  [*].  A3  ')                   
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$[  *  ].  XX  [*].  A3  ') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[  *  ].  XX  [*].  A3  ')            
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_query(po_document, '$[  *  ].  XX  [*].  A3  ') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[  *  ].  XX  [*].  A3  ')            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> SELECT json_query(po_document, '$[1].  XX  [*].  A3  ') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[1].  XX  [*].  A3  ')                
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$[     1     ]  .  XX  [*].  A3  ') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[     1     ]  .  XX  [*].  A3  ')    
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[0,0 to 3, 4, 5 to 7].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[0,0 TO 3, 4, 5 TO 7].A3')         
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[0,0 to 3, to , to 4, 4, 5 to 7].A3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[0,0 TO 3, TO , TO 4, 4, 5 TO 7].A3
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> 
SQL> --error order
SQL> SELECT json_value(po_document, '$.XX[0,0 to 3, 4, 5 to 7, 4 to 2].A3') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, invalid order of array indexes
SQL> SELECT json_query(po_document, '$[ 2, 5 to 3 ].  XX  [*].  A3  ') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, invalid order of array indexes
SQL> 
SQL> --error char
SQL> SELECT json_query(po_document, '$[ 2b, 5 to 3 ].  XX  [*].  A3  ') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, invlid array index
SQL> SELECT json_query(po_document, '$[ 2, 5h to 3 ].  XX  [*].  A3  ') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, invlid array index
SQL> 
SQL> --error array
SQL> SELECT json_query(po_document, '$[[ 2, 5 to 3 ].  XX  [*].  A3  ') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, invlid array index
SQL> SELECT json_query(po_document, '$[ 2, 5 to 3 .  XX  [*].  A3  ') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, 
SQL> SELECT json_query(po_document, '$[ 2, 5 to 3 ]].  XX  [*].  A3  ') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, 
SQL> SELECT json_value(po_document, '        $.XX[*]  A3     ') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, 
SQL> SELECT json_query(po_document, '  $[  ].  XX  [*].  A3  ') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, invalid array index
SQL> SELECT json_query(po_document, '$[ 1 ,  *  ].  XX  [*].  A3  ') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, array wildcard must be used alone
SQL> 
SQL> --error begin
SQL> SELECT json_query(po_document, '    gg$[ 2, 5 to 3 ].  XX  [*].  A3  ') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> SELECT json_query(po_document, '    *$h [ 2, 5 to 3 ].  XX  [*].  A3  ') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> SELECT json_query(po_document, '$bb[ 2, 5 to 3 .  XX  [*].  A3  ') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> 
SQL> --pass
SQL> SELECT json_value(po_document, '  $[  to  ].  XX  [*].  A3  ') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '  $[  TO  ].  XX  [*].  A3  ')         
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> SELECT json_value(po_document, '   $[ 5 to  ].  XX  [*].  A3  ') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '   $[ 5 TO  ].  XX  [*].  A3  ')       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, ' $[ 3 ,  5 to  ].  XX  [*].  A3  ') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, ' $[ 3 ,  5 TO  ].  XX  [*].  A3  ')    
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '   $[ 2,  to  8  ].  XX  [*].  A3  ') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '   $[ 2,  TO  8  ].  XX  [*].  A3  ')  
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, ' $[ *     ]   .  XX  [   2,  to  8 , 9 to,to   15   ,to,18 to].  A3  ') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, ' $[ *     ]   .  XX  [   2,  TO  8 , 9 
----------------------------------------------------------------
A3333                                                           

1 rows fetched.

SQL> 
SQL> SELECT json_query(po_document, '  $[  to  ].  XX  [*].  A3  ') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '  $[  TO  ].  XX  [*].  A3  ')         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '   $[ 5 to  ].  XX  [*].  A3  ') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '   $[ 5 TO  ].  XX  [*].  A3  ')       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, ' $[ 3 ,  5 to  ].  XX  [*].  A3  ') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, ' $[ 3 ,  5 TO  ].  XX  [*].  A3  ')    
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '   $[ 2,  to  8  ].  XX  [*].  A3  ') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '   $[ 2,  TO  8  ].  XX  [*].  A3  ')  
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, ' $[ *     ]   .  XX  [   2,  to  8 , 9 to,to   15   ,to,18 to].  A3  ') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, ' $[ *     ]   .  XX  [   2,  TO  8 , 9 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --begin with object
SQL> --pass
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '{"PONumber":66666, "PONumber1":8888, "PONumber2":5459, "jdd":"I Love China..."}');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> SELECT json_query(po_document, '$[0]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[0]')                                 
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888,"PONumber2":5459,"jdd":"I Love China..."}

1 rows fetched.

SQL> SELECT json_query(po_document, '$[0 to 3]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[0 TO 3]')                            
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888,"PONumber2":5459,"jdd":"I Love China..."}

1 rows fetched.

SQL> SELECT json_query(po_document, '$[1]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[1]')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$[1 to 3]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[1 TO 3]')                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$')                                    
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888,"PONumber2":5459,"jdd":"I Love China..."}

1 rows fetched.

SQL> SELECT json_query(po_document, '$[to]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[TO]')                                
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888,"PONumber2":5459,"jdd":"I Love China..."}

1 rows fetched.

SQL> SELECT json_query(po_document, '$[*]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[*]')                                 
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888,"PONumber2":5459,"jdd":"I Love China..."}

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].PONumber1') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].PONUMBER1')                       
----------------------------------------------------------------
8888                                                            

1 rows fetched.

SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --internal node is object
SQL> --pass
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '{"XX":{"PONumber":66666, "PONumber1":8888, "PONumber2":5459, "ASDF":{"PONumber3":9999}, "QWER":{"PONumber4":[1,2,3,4]}}}');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> SELECT json_query(po_document, '$.XX[0]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$.XX[0]')                              
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888,"PONumber2":5459,"ASDF":{"PONumber3":9999},"QWER":{"PONumber4":[1,2,3,4]}}

1 rows fetched.

SQL> SELECT json_query(po_document, '$.XX[0 to 3]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$.XX[0 TO 3]')                         
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888,"PONumber2":5459,"ASDF":{"PONumber3":9999},"QWER":{"PONumber4":[1,2,3,4]}}

1 rows fetched.

SQL> SELECT json_query(po_document, '$.XX[1]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$.XX[1]')                              
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$.XX[1 to 3]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$.XX[1 TO 3]')                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$.XX[*]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$.XX[*]')                              
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888,"PONumber2":5459,"ASDF":{"PONumber3":9999},"QWER":{"PONumber4":[1,2,3,4]}}

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX.PONumber1') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX.PONUMBER1')                       
----------------------------------------------------------------
8888                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[*].PONumber1') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[*].PONUMBER1')                    
----------------------------------------------------------------
8888                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$.*.PONumber1') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.*.PONUMBER1')                        
----------------------------------------------------------------
8888                                                            

1 rows fetched.

SQL> 
SQL> --Path Expression Syntax Relaxation
SQL> SELECT json_value(po_document, '$.*.*.PONumber3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.*.*.PONUMBER3')                      
----------------------------------------------------------------
9999                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$.*[*].*.PONumber3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.*[*].*.PONUMBER3')                   
----------------------------------------------------------------
9999                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].*[*].*.PONumber3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].*[*].*.PONUMBER3')                
----------------------------------------------------------------
9999                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].*[*].*[*].PONumber3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].*[*].*[*].PONUMBER3')             
----------------------------------------------------------------
9999                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$[0].*[*].*[*].PONumber3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0].*[*].*[*].PONUMBER3')             
----------------------------------------------------------------
9999                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].*[*].ASDF[*].PONumber3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].*[*].ASDF[*].PONUMBER3')          
----------------------------------------------------------------
9999                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].*[*].ASDF[0].PONumber3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].*[*].ASDF[0].PONUMBER3')          
----------------------------------------------------------------
9999                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].*[*].ASDF[to, TO, To, tO].PONumber3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].*[*].ASDF[TO, TO, TO, TO].PONUMBER
----------------------------------------------------------------
9999                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].*[*].ASDF.PONumber3') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].*[*].ASDF.PONUMBER3')             
----------------------------------------------------------------
9999                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].*[*].ASDF.*[0]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].*[*].ASDF.*[0]')                  
----------------------------------------------------------------
9999                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].*[*].ASDF.*[*]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].*[*].ASDF.*[*]')                  
----------------------------------------------------------------
9999                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$[to].*[*].ASDF.*') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[TO].*[*].ASDF.*')                    
----------------------------------------------------------------
9999                                                            

1 rows fetched.

SQL> 
SQL> SELECT json_query(po_document, '$.*.*.PONumber4') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$.*.*.PONUMBER4')                      
----------------------------------------------------------------
[1,2,3,4]                                                       

1 rows fetched.

SQL> SELECT json_value(po_document, '$.*.*.PONumber4[2]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.*.*.PONUMBER4[2]')                   
----------------------------------------------------------------
3                                                               

1 rows fetched.

SQL> 
SQL> SELECT json_value(po_document, '$.XX  PONumber1') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --* can not appear alone
SQL> --pass
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '{"XX":{"PONumber":66666, "PONumber1":8888, "PONumber2":5459}}');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> SELECT json_value(po_document, '$.XX[*].PONumber1') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[*].PONUMBER1')                    
----------------------------------------------------------------
8888                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[*].PONumber1[0]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[*].PONUMBER1[0]')                 
----------------------------------------------------------------
8888                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[*].PONumber1[to]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[*].PONUMBER1[TO]')                
----------------------------------------------------------------
8888                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[*].PONumber1[1]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[*].PONUMBER1[1]')                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[*].PONumber*') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> 
SQL> --head node is scaler
SQL> --* can not appear alone
SQL> --pass
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '123');

CT-01127, Check constraint violated
SQL> COMMIT;

Succeed.

SQL> 
SQL> SELECT json_value(po_document, '$[0]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0]')                                 
----------------------------------------------------------------

0 rows fetched.

SQL> SELECT json_value(po_document, '$[*]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*]')                                 
----------------------------------------------------------------

0 rows fetched.

SQL> SELECT json_value(po_document, '$') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$')                                    
----------------------------------------------------------------

0 rows fetched.

SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --pass
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '[1,2,3,4,5,6]');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> SELECT json_value(po_document, '$[0]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0]')                                 
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*]')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$')                                    
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> SELECT json_query(po_document, '$[0]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[0]')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$[0,1]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[0,1]')                               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$[*]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[*]')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$')                                    
----------------------------------------------------------------
[1,2,3,4,5,6]                                                   

1 rows fetched.

SQL> 
SQL> --error
SQL> SELECT json_query(po_document, '$*') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --pass 
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '[[1,2],[3,4]]');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> SELECT json_query(po_document, '$[*]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[*]')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$[0]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[0]')                                 
----------------------------------------------------------------
[1,2]                                                           

1 rows fetched.

SQL> SELECT json_query(po_document, '$[0].[0]') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, step name not specified
SQL> SELECT json_value(po_document, '$[0].[0]') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, step name not specified
SQL> SELECT json_query(po_document, '$[0][0]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[0][0]')                              
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[0][0]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0][0]')                              
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> SELECT json_value(po_document, '$[0].*[0]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0].*[0]')                            
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> 
SQL> --error
SQL> SELECT json_value(po_document, '$[0][0]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0][0]')                              
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --pass 
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '[[[1,2],[3,4]],[[5,6],[7,8]]]');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> SELECT json_value(po_document, '$[0].*[0].*[0]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0].*[0].*[0]')                       
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> SELECT json_value(po_document, '$[0].[0].[0]') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, step name not specified
SQL> SELECT json_value(po_document, '$[0][0][0]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0][0][0]')                           
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> SELECT json_query(po_document, '$[0].*[0]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[0].*[0]')                            
----------------------------------------------------------------
[1,2]                                                           

1 rows fetched.

SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --pass
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '{"XX":[1111]}');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> SELECT json_value(po_document, '$.XX[0]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[0]')                              
----------------------------------------------------------------
1111                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[*]') FROM j_purchaseorder; 

JSON_VALUE(PO_DOCUMENT, '$.XX[*]')                              
----------------------------------------------------------------
1111                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$.*[*]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.*[*]')                               
----------------------------------------------------------------
1111                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].*[*]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].*[*]')                            
----------------------------------------------------------------
1111                                                            

1 rows fetched.

SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --pass
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '{"XX":[1111, 2222, 3333]}');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> SELECT json_value(po_document, '$.XX') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$.XX') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$.XX')                                 
----------------------------------------------------------------
[1111,2222,3333]                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$.XX[*]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.XX[*]')                              
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$.*[*]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.*[*]')                               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].*[*]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].*[*]')                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --func test
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '{"PONumber":66666, "PONumber1":8888.6666, "PONumber2":5459, "jdd":"I Love China...", "HJM":"you Love me..."}');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> SELECT json_value(po_document, '$[*].PONumber1') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].PONUMBER1')                       
----------------------------------------------------------------
8888.6666                                                       

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].PONumber1.number()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*].PONumber1.upper()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*].PONumber1.ceiling()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*].PONumber1') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].PONUMBER1')                       
----------------------------------------------------------------
8888.6666                                                       

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].  PONumber1') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].  PONUMBER1')                     
----------------------------------------------------------------
8888.6666                                                       

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*   ]. PONumber1   ') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*   ]. PONUMBER1   ')                
----------------------------------------------------------------
8888.6666                                                       

1 rows fetched.

SQL> 
SQL> SELECT json_value(po_document, '$[*].jdd') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].JDD')                             
----------------------------------------------------------------
I Love China...                                                 

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].  jdd ') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].  JDD ')                          
----------------------------------------------------------------
I Love China...                                                 

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].  jdd  .  upper  (    )  ') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*].jdd.upper()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*].jdd') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].JDD')                             
----------------------------------------------------------------
I Love China...                                                 

1 rows fetched.

SQL> 
SQL> SELECT json_value(po_document, '$[0].HJM') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0].HJM')                             
----------------------------------------------------------------
you Love me...                                                  

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].HJM.upper()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*].HJM.lower()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> 
SQL> SELECT json_value(po_document, '$[0].HJM.upper()?  (  @ > 0)', 'returning number') FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[0].  HJM   .                                                                         upper  (      )  ?  (@ > 0)', 'returning number') FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[0].  HJM    ?  (@ > 0)', 'returning number') FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> 
SQL> SELECT json_query(po_document, '$[0]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[0]')                                 
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888.6666,"PONumber2":5459,"jdd":"I Love China...","HJM":"you Love me..."}

1 rows fetched.

SQL> SELECT json_query(po_document, '$[0 to 3]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[0 TO 3]')                            
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888.6666,"PONumber2":5459,"jdd":"I Love China...","HJM":"you Love me..."}

1 rows fetched.

SQL> SELECT json_query(po_document, '$[1]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[1]')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$[1 to 3]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[1 TO 3]')                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$')                                    
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888.6666,"PONumber2":5459,"jdd":"I Love China...","HJM":"you Love me..."}

1 rows fetched.

SQL> SELECT json_query(po_document, '$[to]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[TO]')                                
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888.6666,"PONumber2":5459,"jdd":"I Love China...","HJM":"you Love me..."}

1 rows fetched.

SQL> SELECT json_query(po_document, '$[*]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[*]')                                 
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888.6666,"PONumber2":5459,"jdd":"I Love China...","HJM":"you Love me..."}

1 rows fetched.

SQL> 
SQL> --error
SQL> SELECT json_value(po_document, '$[*].jdd?') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, missing expression
SQL> SELECT json_value(po_document, '$[0].HJM.upper()(@ > 0)' returning number) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[0].HJM?.upper()?(@ > 0)' returning number) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].PONumber1.ceiling(()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*].PONumber1.number().ceiling()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*].PONumber1') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].PONUMBER1')                       
----------------------------------------------------------------
8888.6666                                                       

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].PONumber1.number()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*].jdd.upper().lower()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[0].HJM.upper().lower()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*].jdd.upper()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[0].HJM.upper()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*  ].  jdd') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*  ].  JDD')                         
----------------------------------------------------------------
I Love China...                                                 

1 rows fetched.

SQL> SELECT json_value(po_document, '$[0].HJM') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0].HJM')                             
----------------------------------------------------------------
you Love me...                                                  

1 rows fetched.

SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --(JSON_MERGEPATH_TEST)
SQL> --func test
SQL> --pass
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '{"PONumber":66666, "PONumber1":8888.6, "PONumber2":5459, "jdd":"I Love China...", "HJM":"You Love Me..."}');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> --replace
SQL> select po_document from j_purchaseorder;

PO_DOCUMENT                                                     
----------------------------------------------------------------
{"PONumber":66666, "PONumber1":8888.6, "PONumber2":5459, "jdd":"I Love China...", "HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"PONumber2":123456}') FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"PONUMBER2":123456}')            
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888.6,"PONumber2":123456,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"PONumber2":[1,2,3,4]}') FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"PONUMBER2":[1,2,3,4]}')         
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888.6,"PONumber2":[1,2,3,4],"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"PONumber2":{"name":"jordon"}}') FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"PONUMBER2":{"NAME":"JORDON"}}') 
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888.6,"PONumber2":{"name":"jordon"},"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"HJM":true, "PONumber2":{"name":"jordon"}}') FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"HJM":TRUE, "PONUMBER2":{"NAME":"
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888.6,"PONumber2":{"name":"jordon"},"jdd":"I Love China...","HJM":true}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"PONumber1":{"name":"jordon"}}') FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"PONUMBER1":{"NAME":"JORDON"}}') 
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon"},"PONumber2":5459,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"PONumber1":{"name":"jordon", "number":23, "dcfee":[5623,96,878]}}') FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"PONUMBER1":{"NAME":"JORDON", "NU
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","number":23,"dcfee":[5623,96,878]},"PONumber2":5459,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"PONumber1":{"name":"jordon", "number":23, "hob":["ball","movie","reading",{"pat":[{"aa":23, "bb":96},9,6,7]}]}}') 
  2      as test_val FROM j_purchaseorder;

TEST_VAL                                                        
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":23,"bb":96},9,6,7]}]},"PONumber2":5459,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> 
SQL> select json_value(test_val, '$.PONumber1.hob[0].upper()') from 
  2     (SELECT json_mergepatch(po_document, '{"PONumber1":{"name":"jordon", "number":23, "hob":["ball","movie","reading",{"pat":[{"aa":23, "bb":96},9,6,7]}]}}') 
  3      as test_val FROM j_purchaseorder);

CT-02503, JSON path expression syntax error, Invalid json func
SQL> 
SQL> select json_value(test_val, '$.PONumber1.hob[0]') from 
  2     (SELECT json_mergepatch(po_document, '{"PONumber1":{"name":"jordon", "number":23, "hob":["ball","movie","reading",{"pat":[{"aa":23, "bb":96},9,6,7]}]}}') 
  3      as test_val FROM j_purchaseorder);

JSON_VALUE(TEST_VAL, '$.PONUMBER1.HOB[0]')                      
----------------------------------------------------------------
ball                                                            

1 rows fetched.

SQL> 
SQL> select json_value(test_val, '$.PONumber2[3]') from 
  2     (SELECT json_mergepatch(po_document, '{"PONumber2":[1,2,3,4]}') 
  3      as test_val FROM j_purchaseorder);

JSON_VALUE(TEST_VAL, '$.PONUMBER2[3]')                          
----------------------------------------------------------------
4                                                               

1 rows fetched.

SQL> 
SQL> select json_value(test_val, '$.PONumber1.hob[0]') from 
  2     (SELECT json_mergepatch(po_document, '{"PONumber1":{"name":"jordon", "number":23, "hob":["ball","movie","reading",{"pat":[{"aa":23, "bb":96},9,6,7]}]}}') 
  3      as test_val FROM j_purchaseorder);

JSON_VALUE(TEST_VAL, '$.PONUMBER1.HOB[0]')                      
----------------------------------------------------------------
ball                                                            

1 rows fetched.

SQL> 
SQL> select json_value(test_val, '$.PONumber1.hob[*].pat[*].aa') from 
  2     (SELECT json_mergepatch(po_document, '{"PONumber1":{"name":"jordon", "number":23, "hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!", "bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]}}') 
  3      as test_val FROM j_purchaseorder);

JSON_VALUE(TEST_VAL, '$.PONUMBER1.HOB[*].PAT[*].AA')            
----------------------------------------------------------------
china no.1 !!!                                                  

1 rows fetched.

SQL> 
SQL> select json_value('{"PONumber":66666,"PONumber1":{"name":"jordon","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"jdd":"I Love China...","HJM":"You Love Me..."}', '$.PONumber1.hob[*].pat[0].aa') from dual;

JSON_VALUE('{"PONUMBER":66666,"PONUMBER1":{"NAME":"JORDON","NUMB
----------------------------------------------------------------
china no.1 !!!                                                  

1 rows fetched.

SQL> 
SQL> select json_value(test_val, '$[0].HJM[*].lower()') from 
  2     (SELECT json_mergepatch(po_document, '{"PONumber1":{"name":"jordon", "number":23}}') 
  3      as test_val FROM j_purchaseorder);

CT-02503, JSON path expression syntax error, Invalid json func
SQL> 
SQL> select json_value(test_val, '$[0].HJM[*]') from 
  2     (SELECT json_mergepatch(po_document, '{"PONumber1":{"name":"jordon", "number":23}}') 
  3      as test_val FROM j_purchaseorder);

JSON_VALUE(TEST_VAL, '$[0].HJM[*]')                             
----------------------------------------------------------------
You Love Me...                                                  

1 rows fetched.

SQL> 
SQL> select json_value('{"PONumber":66666,"PONumber1":{"name":"jordon","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"jdd":"I Love China...","HJM":"You Love Me..."}', '$.PONumber1.hob[0].pat[0].aa') from dual;

JSON_VALUE('{"PONUMBER":66666,"PONUMBER1":{"NAME":"JORDON","NUMB
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> select json_value('{"PONumber":66666,"PONumber1":{"name":"jordon","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"jdd":"I Love China...","HJM":"You Love Me..."}', '$.PONumber1.hob[*].pat[0].aa') from dual;

JSON_VALUE('{"PONUMBER":66666,"PONUMBER1":{"NAME":"JORDON","NUMB
----------------------------------------------------------------
china no.1 !!!                                                  

1 rows fetched.

SQL> 
SQL> select json_value('{"PONumber":66666,"PONumber1":{"name":"jordon","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"jdd":"I Love China...","HJM":"You Love Me..."}', '$.PONumber1.hob[0].pat[*].aa') from dual;

JSON_VALUE('{"PONUMBER":66666,"PONUMBER1":{"NAME":"JORDON","NUMB
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> select json_value('{"PONumber":66666,"PONumber1":{"name":"jordon","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"jdd":"I Love China...","HJM":"You Love Me..."}', '$.PONumber1.hob[*].pat[*].aa') from dual;

JSON_VALUE('{"PONUMBER":66666,"PONUMBER1":{"NAME":"JORDON","NUMB
----------------------------------------------------------------
china no.1 !!!                                                  

1 rows fetched.

SQL> 
SQL> --replace
SQL> select json_mergepatch('{"User":"ABULL", "PONumber":1600}', '{"PONumber":99999}') from dual;

JSON_MERGEPATCH('{"USER":"ABULL", "PONUMBER":1600}', '{"PONUMBER
----------------------------------------------------------------
{"User":"ABULL","PONumber":99999}                               

1 rows fetched.

SQL> select json_mergepatch('{"PONumber":1600, "LineItems":[1, 2, 3]}', '{"LineItems":[4,5,6]}') from dual;

JSON_MERGEPATCH('{"PONUMBER":1600, "LINEITEMS":[1, 2, 3]}', '{"L
----------------------------------------------------------------
{"PONumber":1600,"LineItems":[4,5,6]}                           

1 rows fetched.

SQL> 
SQL> --deep test
SQL> select json_mergepatch('{"User":"ABULL", "PONumber":{"test":101, "A":256}, "test":101}', '{"PONumber":{"A":66}}') from dual;

JSON_MERGEPATCH('{"USER":"ABULL", "PONUMBER":{"TEST":101, "A":25
----------------------------------------------------------------
{"User":"ABULL","PONumber":{"test":101,"A":66},"test":101}      

1 rows fetched.

SQL> select json_mergepatch('{"User":"ABULL", "PONumber":{"test":101, "A":{"test":101, "B":256}, "test":101}, "test":101}', '{"PONumber":{"A":{"B":66}}}') from dual;

JSON_MERGEPATCH('{"USER":"ABULL", "PONUMBER":{"TEST":101, "A":{"
----------------------------------------------------------------
{"User":"ABULL","PONumber":{"test":101,"A":{"test":101,"B":66},"test":101},"test":101}

1 rows fetched.

SQL> select json_mergepatch('{"User":"ABULL", "PONumber":{"test":101, "A":{"test":101, "B":{"test":101, "C":256}, "test":101}, "test":101}, "test":101}', '{"PONumber":{"A":{"B":{"C":66}}}}') from dual;

JSON_MERGEPATCH('{"USER":"ABULL", "PONUMBER":{"TEST":101, "A":{"
----------------------------------------------------------------
{"User":"ABULL","PONumber":{"test":101,"A":{"test":101,"B":{"test":101,"C":66},"test":101},"test":101},"test":101}

1 rows fetched.

SQL> select json_mergepatch('{"User":"ABULL", "PONumber":{"test":101, "A":{"test":101, "B":{"test":101, "C":{"test":101, "D":256}, "test":101}, "test":101}, "test":101}, "test":101}', '{"PONumber":{"A":{"B":{"C":{"D":66}}}}}') from dual;

JSON_MERGEPATCH('{"USER":"ABULL", "PONUMBER":{"TEST":101, "A":{"
----------------------------------------------------------------
{"User":"ABULL","PONumber":{"test":101,"A":{"test":101,"B":{"test":101,"C":{"test":101,"D":66},"test":101},"test":101},"test":101},"test":101}

1 rows fetched.

SQL> select json_mergepatch('{"User":"ABULL", "PONumber":{"test":101, "A":{"test":101, "B":{"test":101, "C":{"test":101, "D":256}, "test":101}, "test":101}, "test":101}, "test":101}', '{"PONumber":{"A":{"B":{"C":{"D":66, "add":true}}}}}') from dual;

JSON_MERGEPATCH('{"USER":"ABULL", "PONUMBER":{"TEST":101, "A":{"
----------------------------------------------------------------
{"User":"ABULL","PONumber":{"test":101,"A":{"test":101,"B":{"test":101,"C":{"test":101,"D":66,"add":true},"test":101},"test":101},"test":101},"test":101}

1 rows fetched.

SQL> select json_mergepatch('{"User":"ABULL", "PONumber":{"test":101, "A":{"test":101, "B":{"test":101, "C":{"test":101, "D":256}, "test":101}, "test":101}, "test":101}, "test":101}', '{"PONumber":{"A":{"B":{"C":{"D":66, "add":true}, "add":true}}, "add":true}}') from dual;

JSON_MERGEPATCH('{"USER":"ABULL", "PONUMBER":{"TEST":101, "A":{"
----------------------------------------------------------------
{"User":"ABULL","PONumber":{"test":101,"A":{"test":101,"B":{"test":101,"C":{"test":101,"D":66,"add":true},"test":101,"add":true},"test":101},"test":101,"add":true},"test":101}

1 rows fetched.

SQL> select json_mergepatch('{"User":"ABULL", "PONumber":{"test":101, "A":{"test":101, "B":{"test":101, "C":{"test":101, "D":256}, "test":101}, "test":101}, "test":101}, "test":101}', '{"PONumber":{"A":{"B":{"C":{"D":null, "add":true}, "add":true}}, "add":true}}') from dual;

JSON_MERGEPATCH('{"USER":"ABULL", "PONUMBER":{"TEST":101, "A":{"
----------------------------------------------------------------
{"User":"ABULL","PONumber":{"test":101,"A":{"test":101,"B":{"test":101,"C":{"test":101,"add":true},"test":101,"add":true},"test":101},"test":101,"add":true},"test":101}

1 rows fetched.

SQL> select json_mergepatch('{"User":"ABULL", "PONumber":{"test":101, "A":256}, "test":101}', '{"PONumber":{"A":66}, "User":NULL}') from dual;

CT-02504, [1:120]JSON syntax error, unexpected N found
SQL> select json_mergepatch('{"User":"ABULL", "PONumber":{"test":101, "A":256}, "test":101}', '{"PONumber":{"A":996}, "User":null}') from dual;

JSON_MERGEPATCH('{"USER":"ABULL", "PONUMBER":{"TEST":101, "A":25
----------------------------------------------------------------
{"PONumber":{"test":101,"A":996},"test":101}                    

1 rows fetched.

SQL> 
SQL> -- when path is scaler,should all output error
SQL> -- patch can not be null, true, false, number, string.  all error, but the target is null
SQL> ---------------------
SQL> SELECT json_mergepatch(po_document, 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, dsafdsfds) FROM j_purchaseorder;

CT-00601, [1:37]Sql syntax error: invalid column name 'DSAFDSFDS'
SQL> SELECT json_mergepatch(po_document, 'dsafdsfds') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, '"dsafdsfds"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, 'true') FROM j_purchaseorder
  2 SELECT json_mergepatch(po_document, '"true"') FROM j_purchaseorder
  3 SELECT json_mergepatch(po_document, false) FROM j_purchaseorder;

CT-00601, [2:1]Sql syntax error: invalid word 'SELECT' found
SQL> SELECT json_mergepatch(po_document, 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, NULL) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, 'NULL') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, '"NULL"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, sysdate) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, localtimestamp) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, current_timestamp) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> 
SQL> SELECT json_mergepatch(po_document, 123456 error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, '123456' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, '"123456"' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, true error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, 'true' error on error) FROM j_purchaseorder
  2 SELECT json_mergepatch(po_document, '"true"' error on error) FROM j_purchaseorder
  3 SELECT json_mergepatch(po_document, false error on error) FROM j_purchaseorder;

CT-00601, [2:1]Sql syntax error: invalid word 'SELECT' found
SQL> SELECT json_mergepatch(po_document, 'false' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, '"false"' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, null error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, 'null' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, '"null"' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, NULL error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, 'NULL' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, '"NULL"' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, sysdate error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, localtimestamp error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(po_document, current_timestamp error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> -------------------------------
SQL> 
SQL> select 1 from dual where 'NULL' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'null' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'true' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'true' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'false' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'FALSE' is json;

1           
------------

0 rows fetched.

SQL> 
SQL> -- when patch is array, directly replace the target
SQL> SELECT json_mergepatch(po_document, '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '[2,1,5,6,8,9]')                   
----------------------------------------------------------------
[2,1,5,6,8,9]                                                   

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '["dsfds",1,5,"dsfds",8,"dsfds"]') FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '["DSFDS",1,5,"DSFDS",8,"DSFDS"]') 
----------------------------------------------------------------
["dsfds",1,5,"dsfds",8,"dsfds"]                                 

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '[2,"dsfds",5,6,"dsfds",9]') FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '[2,"DSFDS",5,6,"DSFDS",9]')       
----------------------------------------------------------------
[2,"dsfds",5,6,"dsfds",9]                                       

1 rows fetched.

SQL> 
SQL> --add
SQL> select json_mergepatch('{}', 123) from dual;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> select json_mergepatch('{}', 123 error on error) from dual;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> select json_mergepatch('{"PONumber":1600}', '{"tracking":123456}') from dual;

JSON_MERGEPATCH('{"PONUMBER":1600}', '{"TRACKING":123456}')     
----------------------------------------------------------------
{"PONumber":1600,"tracking":123456}                             

1 rows fetched.

SQL> select json_mergepatch('{"PONumber":1600}', '{"tracking":123456, "pz":[0,1,2,3]}') from dual;

JSON_MERGEPATCH('{"PONUMBER":1600}', '{"TRACKING":123456, "PZ":[
----------------------------------------------------------------
{"PONumber":1600,"tracking":123456,"pz":[0,1,2,3]}              

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"tracking":123456}')   FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"TRACKING":123456}')             
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888.6,"PONumber2":5459,"jdd":"I Love China...","HJM":"You Love Me...","tracking":123456}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"tracking":null}')   FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"TRACKING":NULL}')               
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888.6,"PONumber2":5459,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"tracking":123456, "HUAWEI":"to be no.1"}')   FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"TRACKING":123456, "HUAWEI":"TO B
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888.6,"PONumber2":5459,"jdd":"I Love China...","HJM":"You Love Me...","tracking":123456,"HUAWEI":"to be no.1"}

1 rows fetched.

SQL> 
SQL> --delete
SQL> select json_mergepatch('{"PONumber":1600, "Reference":"ABULL-20140421"}', '{"Reference":null}') from dual;

JSON_MERGEPATCH('{"PONUMBER":1600, "REFERENCE":"ABULL-20140421"}
----------------------------------------------------------------
{"PONumber":1600}                                               

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"PONumber1":null}')   FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"PONUMBER1":NULL}')              
----------------------------------------------------------------
{"PONumber":66666,"PONumber2":5459,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"PONumber2":null}')   FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"PONUMBER2":NULL}')              
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":8888.6,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"PONumber2":null, "PONumber1":null}')   FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"PONUMBER2":NULL, "PONUMBER1":NUL
----------------------------------------------------------------
{"PONumber":66666,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"HJM":null, "PONumber1":null}')   FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"HJM":NULL, "PONUMBER1":NULL}')  
----------------------------------------------------------------
{"PONumber":66666,"PONumber2":5459,"jdd":"I Love China..."}     

1 rows fetched.

SQL> 
SQL> --Mixed scene from rfc
SQL> select json_mergepatch('{
  2      "a": "b",
  3      "c": {
  4        "d": "e",
  5        "f": "g"
  6      }
  7    }', 
  8    '{
  9      "a":"z",
 10      "c": {
 11        "f": null
 12      }
 13    }') as val from dual;

VAL                                                             
----------------------------------------------------------------
{"a":"z","c":{"d":"e"}}                                         

1 rows fetched.

SQL> 
SQL> select json_mergepatch('{
  2      "title": "Goodbye!",
  3      "author" : {
  4        "givenName" : "John",
  5        "familyName" : "Doe"
  6      },
  7      "tags":[ "example", "sample" ],
  8      "content": "This will be unchanged"
  9    }', 
 10    '{
 11      "title": "Hello!",
 12      "phoneNumber": "+01-123-456-7890",
 13      "author": {
 14        "familyName": null
 15      },
 16      "tags": [ "example" ]
 17    }') as val from dual;

VAL                                                             
----------------------------------------------------------------
{"title":"Hello!","author":{"givenName":"John"},"tags":["example"],"content":"This will be unchanged","phoneNumber":"+01-123-456-7890"}

1 rows fetched.

SQL> 
SQL> --other scene
SQL> --the target can be null
SQL> --when the target is null, and the patch is not null or string or clob, will raise error, otherwise return null
SQL> SELECT json_mergepatch(null, null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, sysdate) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, localtimestamp) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, current_timestamp) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, '{}') FROM j_purchaseorder;

JSON_MERGEPATCH(NULL, '{}')                                     
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(null, '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH(NULL, '{"ASSD":256}')                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(null, '[]') FROM j_purchaseorder;

JSON_MERGEPATCH(NULL, '[]')                                     
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(null, '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH(NULL, '[2,1,5,6,8,9]')                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(null, '{}' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH(NULL, '{}' ERROR ON ERROR)                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(null, '{"assd":256}' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH(NULL, '{"ASSD":256}' ERROR ON ERROR)            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(null, '[]' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH(NULL, '[]' ERROR ON ERROR)                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(null, '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH(NULL, '[2,1,5,6,8,9]' ERROR ON ERROR)           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> --all error but the path is valid,return null ; when add on-error clasue will also raise error
SQL> SELECT json_mergepatch('null', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', sysdate) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', localtimestamp) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', current_timestamp) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('null', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('NULL', '{}')                                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('null', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('NULL', '{"ASSD":256}')                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('null', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('NULL', '[]')                                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('null', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('NULL', '[2,1,5,6,8,9]')                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('null', '{}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('null', '{"assd":256}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('null', '[]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('null', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --all error but the path is valid,return null ; when add on-error clasue will also raise error
SQL> SELECT json_mergepatch('"null"', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', sysdate) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', localtimestamp) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', current_timestamp) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('"NULL"', '{}')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"null"', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('"NULL"', '{"ASSD":256}')                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"null"', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('"NULL"', '[]')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"null"', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('"NULL"', '[2,1,5,6,8,9]')                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"null"', '{}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('"null"', '{"assd":256}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('"null"', '[]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('"null"', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> 
SQL> --target can be scaler
SQL> SELECT json_mergepatch(123456, null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(123456, 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(123456, '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(123456, true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(123456, 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(123456, '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(123456, false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(123456, 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(123456, '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(123456, 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(123456, '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(123456, '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(123456, '{}') FROM j_purchaseorder;

JSON_MERGEPATCH(123456, '{}')                                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(123456, '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH(123456, '{"ASSD":256}')                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(123456, '[]') FROM j_purchaseorder;

JSON_MERGEPATCH(123456, '[]')                                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(123456, '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH(123456, '[2,1,5,6,8,9]')                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(123456, '{}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch(123456, '{"assd":256}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch(123456, '[]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch(123456, '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> SELECT json_mergepatch('123456', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('123456', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('123456', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('123456', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('123456', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('123456', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('123456', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('123456', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('123456', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('123456', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('123456', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('123456', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('123456', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('123456', '{}')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('123456', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('123456', '{"ASSD":256}')                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('123456', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('123456', '[]')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('123456', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('123456', '[2,1,5,6,8,9]')                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('123456', '{}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('123456', '{"assd":256}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('123456', '[]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('123456', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> SELECT json_mergepatch('"123456"', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"123456"', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"123456"', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"123456"', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"123456"', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"123456"', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"123456"', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"123456"', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"123456"', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"123456"', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"123456"', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"123456"', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"123456"', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('"123456"', '{}')                               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"123456"', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('"123456"', '{"ASSD":256}')                     
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"123456"', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('"123456"', '[]')                               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"123456"', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('"123456"', '[2,1,5,6,8,9]')                    
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"123456"', '{}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('"123456"', '{"assd":256}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('"123456"', '[]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('"123456"', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> 
SQL> SELECT json_mergepatch('true', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('true', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('true', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('true', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('true', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('true', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('true', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('true', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('true', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('true', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('true', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('true', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('true', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('TRUE', '{}')                                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('true', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('TRUE', '{"ASSD":256}')                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('true', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('TRUE', '[]')                                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('true', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('TRUE', '[2,1,5,6,8,9]')                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('true', '{}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('true', '{"assd":256}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('true', '[]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('true', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> SELECT json_mergepatch('"true"', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"true"', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"true"', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"true"', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"true"', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"true"', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"true"', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"true"', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"true"', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"true"', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"true"', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"true"', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"true"', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('"TRUE"', '{}')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"true"', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('"TRUE"', '{"ASSD":256}')                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"true"', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('"TRUE"', '[]')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"true"', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('"TRUE"', '[2,1,5,6,8,9]')                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"true"', '{}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('"true"', '{"assd":256}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('"true"', '[]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('"true"', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> SELECT json_mergepatch('qsfregtghtrh', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('qsfregtghtrh', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('qsfregtghtrh', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('qsfregtghtrh', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('qsfregtghtrh', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('qsfregtghtrh', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('qsfregtghtrh', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('qsfregtghtrh', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('qsfregtghtrh', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('qsfregtghtrh', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('qsfregtghtrh', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('qsfregtghtrh', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('qsfregtghtrh', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('QSFREGTGHTRH', '{}')                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('qsfregtghtrh', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('QSFREGTGHTRH', '{"ASSD":256}')                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('qsfregtghtrh', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('QSFREGTGHTRH', '[]')                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('qsfregtghtrh', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('QSFREGTGHTRH', '[2,1,5,6,8,9]')                
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('qsfregtghtrh', '{}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('qsfregtghtrh', '{"assd":256}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('qsfregtghtrh', '[]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('qsfregtghtrh', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('qsfregtghtrh', '{}' null on error) FROM j_purchaseorder;

JSON_MERGEPATCH('QSFREGTGHTRH', '{}' NULL ON ERROR)             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('qsfregtghtrh', '{"assd":256}' null on error) FROM j_purchaseorder;

JSON_MERGEPATCH('QSFREGTGHTRH', '{"ASSD":256}' NULL ON ERROR)   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('qsfregtghtrh', '[]' null on error) FROM j_purchaseorder;

JSON_MERGEPATCH('QSFREGTGHTRH', '[]' NULL ON ERROR)             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('qsfregtghtrh', '[2,1,5,6,8,9]' null on error) FROM j_purchaseorder;

JSON_MERGEPATCH('QSFREGTGHTRH', '[2,1,5,6,8,9]' NULL ON ERROR)  
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> 
SQL> SELECT json_mergepatch('"qsfregtghtrh"', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"qsfregtghtrh"', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"qsfregtghtrh"', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"qsfregtghtrh"', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"qsfregtghtrh"', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"qsfregtghtrh"', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"qsfregtghtrh"', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"qsfregtghtrh"', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"qsfregtghtrh"', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"qsfregtghtrh"', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"qsfregtghtrh"', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"qsfregtghtrh"', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"qsfregtghtrh"', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('"QSFREGTGHTRH"', '{}')                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"qsfregtghtrh"', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('"QSFREGTGHTRH"', '{"ASSD":256}')               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"qsfregtghtrh"', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('"QSFREGTGHTRH"', '[]')                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"qsfregtghtrh"', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('"QSFREGTGHTRH"', '[2,1,5,6,8,9]')              
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('"qsfregtghtrh"', '{}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('"qsfregtghtrh"', '{"assd":256}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('"qsfregtghtrh"', '[]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch('"qsfregtghtrh"', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> -- the same as null
SQL> SELECT json_mergepatch('', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('', '{}')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('', '{"ASSD":256}')                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('', '[]')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('', '[2,1,5,6,8,9]')                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('', '{}' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('', '{}' ERROR ON ERROR)                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('', '{"assd":256}' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('', '{"ASSD":256}' ERROR ON ERROR)              
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('', '[]' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('', '[]' ERROR ON ERROR)                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('', '[2,1,5,6,8,9]' ERROR ON ERROR)             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> --the target is array , the path can not be scaler
SQL> SELECT json_mergepatch('[]', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[]', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[]', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[]', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[]', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[]', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[]', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[]', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[]', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[]', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[]', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[]', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[]', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('[]', '{}')                                     
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('[]', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('[]', '{"ASSD":256}')                           
----------------------------------------------------------------
{"assd":256}                                                    

1 rows fetched.

SQL> SELECT json_mergepatch('[]', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('[]', '[]')                                     
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('[]', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('[]', '[2,1,5,6,8,9]')                          
----------------------------------------------------------------
[2,1,5,6,8,9]                                                   

1 rows fetched.

SQL> SELECT json_mergepatch('[]', '{}' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('[]', '{}' ERROR ON ERROR)                      
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('[]', '{"assd":256}' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('[]', '{"ASSD":256}' ERROR ON ERROR)            
----------------------------------------------------------------
{"assd":256}                                                    

1 rows fetched.

SQL> SELECT json_mergepatch('[]', '[]' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('[]', '[]' ERROR ON ERROR)                      
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('[]', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('[]', '[2,1,5,6,8,9]' ERROR ON ERROR)           
----------------------------------------------------------------
[2,1,5,6,8,9]                                                   

1 rows fetched.

SQL> 
SQL> --the target is array , the path can not be scaler
SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('[1,2,3,4,5,6]', '{}')                          
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('[1,2,3,4,5,6]', '{"ASSD":256}')                
----------------------------------------------------------------
{"assd":256}                                                    

1 rows fetched.

SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('[1,2,3,4,5,6]', '[]')                          
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('[1,2,3,4,5,6]', '[2,1,5,6,8,9]')               
----------------------------------------------------------------
[2,1,5,6,8,9]                                                   

1 rows fetched.

SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', '{}' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('[1,2,3,4,5,6]', '{}' ERROR ON ERROR)           
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', '{"assd":256}' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('[1,2,3,4,5,6]', '{"ASSD":256}' ERROR ON ERROR) 
----------------------------------------------------------------
{"assd":256}                                                    

1 rows fetched.

SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', '[]' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('[1,2,3,4,5,6]', '[]' ERROR ON ERROR)           
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('[1,2,3,4,5,6]', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('[1,2,3,4,5,6]', '[2,1,5,6,8,9]' ERROR ON ERROR)
----------------------------------------------------------------
[2,1,5,6,8,9]                                                   

1 rows fetched.

SQL> 
SQL> 
SQL> SELECT json_mergepatch('{}', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{}', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{}', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{}', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{}', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{}', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{}', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{}', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{}', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{}', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{}', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{}', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{}', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('{}', '{}')                                     
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('{}', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('{}', '{"ASSD":256}')                           
----------------------------------------------------------------
{"assd":256}                                                    

1 rows fetched.

SQL> SELECT json_mergepatch('{}', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('{}', '[]')                                     
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('{}', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('{}', '[2,1,5,6,8,9]')                          
----------------------------------------------------------------
[2,1,5,6,8,9]                                                   

1 rows fetched.

SQL> SELECT json_mergepatch('{}', '{}' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('{}', '{}' ERROR ON ERROR)                      
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('{}', '{"assd":256}' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('{}', '{"ASSD":256}' ERROR ON ERROR)            
----------------------------------------------------------------
{"assd":256}                                                    

1 rows fetched.

SQL> SELECT json_mergepatch('{}', '[]' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('{}', '[]' ERROR ON ERROR)                      
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('{}', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('{}', '[2,1,5,6,8,9]' ERROR ON ERROR)           
----------------------------------------------------------------
[2,1,5,6,8,9]                                                   

1 rows fetched.

SQL> 
SQL> SELECT json_mergepatch('{"name":"fdgd"}', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('{"NAME":"FDGD"}', '{}')                        
----------------------------------------------------------------
{"name":"fdgd"}                                                 

1 rows fetched.

SQL> SELECT json_mergepatch('{"name":"fdgd"}', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('{"NAME":"FDGD"}', '{"ASSD":256}')              
----------------------------------------------------------------
{"name":"fdgd","assd":256}                                      

1 rows fetched.

SQL> SELECT json_mergepatch('{"name":"fdgd"}', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('{"NAME":"FDGD"}', '[]')                        
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('{"name":"fdgd"}', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('{"NAME":"FDGD"}', '[2,1,5,6,8,9]')             
----------------------------------------------------------------
[2,1,5,6,8,9]                                                   

1 rows fetched.

SQL> SELECT json_mergepatch('{"name":"fdgd"}', '{}' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('{"NAME":"FDGD"}', '{}' ERROR ON ERROR)         
----------------------------------------------------------------
{"name":"fdgd"}                                                 

1 rows fetched.

SQL> SELECT json_mergepatch('{"name":"fdgd"}', '{"assd":256}' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('{"NAME":"FDGD"}', '{"ASSD":256}' ERROR ON ERROR
----------------------------------------------------------------
{"name":"fdgd","assd":256}                                      

1 rows fetched.

SQL> SELECT json_mergepatch('{"name":"fdgd"}', '[]' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('{"NAME":"FDGD"}', '[]' ERROR ON ERROR)         
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('{"name":"fdgd"}', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

JSON_MERGEPATCH('{"NAME":"FDGD"}', '[2,1,5,6,8,9]' ERROR ON ERRO
----------------------------------------------------------------
[2,1,5,6,8,9]                                                   

1 rows fetched.

SQL> 
SQL> 
SQL> --error target json format
SQL> SELECT json_mergepatch('{"name" "fdgd"}', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name" "fdgd"}', 'null') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name" "fdgd"}', '"null"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name" "fdgd"}', true) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name" "fdgd"}', 'true') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name" "fdgd"}', '"true"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name" "fdgd"}', false) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name" "fdgd"}', 'false') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name" "fdgd"}', '"false"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name" "fdgd"}', 123456) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name" "fdgd"}', '123456') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name" "fdgd"}', '"123456"') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name" "fdgd"}', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('{"NAME" "FDGD"}', '{}')                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('{"name" "fdgd"}', '{"assd":256}') FROM j_purchaseorder;

JSON_MERGEPATCH('{"NAME" "FDGD"}', '{"ASSD":256}')              
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('{"name" "fdgd"}', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('{"NAME" "FDGD"}', '[]')                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('{"name" "fdgd"}', '[2,1,5,6,8,9]') FROM j_purchaseorder;

JSON_MERGEPATCH('{"NAME" "FDGD"}', '[2,1,5,6,8,9]')             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch('{"name" "fdgd"}', '{}' error on error) FROM j_purchaseorder;

CT-02504, [1:33]JSON syntax error, unexpected " found
SQL> SELECT json_mergepatch('{"name" "fdgd"}', '{"assd":256}' error on error) FROM j_purchaseorder;

CT-02504, [1:33]JSON syntax error, unexpected " found
SQL> SELECT json_mergepatch('{"name" "fdgd"}', '[]' error on error) FROM j_purchaseorder;

CT-02504, [1:33]JSON syntax error, unexpected " found
SQL> SELECT json_mergepatch('{"name" "fdgd"}', '[2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

CT-02504, [1:33]JSON syntax error, unexpected " found
SQL> 
SQL> --error path json format
SQL> SELECT json_mergepatch('{"name":"fdgd"}', '}') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', '"assd":256}') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', ']') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', '2,1,5,6,8,9]') FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', '}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', '"assd":256}' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', ']' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{"name":"fdgd"}', '2,1,5,6,8,9]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> 
SQL> 
SQL> SELECT json_mergepatch('{}', null) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('{}', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('{}', '[]')                                     
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('[]', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('[]', '{}')                                     
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('{}', '{}') FROM j_purchaseorder;

JSON_MERGEPATCH('{}', '{}')                                     
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> SELECT json_mergepatch('[]', '[]') FROM j_purchaseorder;

JSON_MERGEPATCH('[]', '[]')                                     
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> 
SQL> select json_mergepatch('[1,2,3]', 123) from dual;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> select json_mergepatch('[1,2,3]', '[6,8]') from dual;

JSON_MERGEPATCH('[1,2,3]', '[6,8]')                             
----------------------------------------------------------------
[6,8]                                                           

1 rows fetched.

SQL> select json_mergepatch(123, '[6,8]') from dual;

JSON_MERGEPATCH(123, '[6,8]')                                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_mergepatch(123, 123) from dual;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> select json_mergepatch(123, 'true') from dual;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> select json_mergepatch(123, true) from dual;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> select json_mergepatch(123, 'null') from dual;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> select json_mergepatch(123, null) from dual;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> 
SQL> SELECT json_mergepatch(null, sysdate) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, localtimestamp) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, current_timestamp) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, sysdate error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, localtimestamp error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch(null, current_timestamp error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> 
SQL> SELECT json_mergepatch('"null"', sysdate) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', localtimestamp) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', current_timestamp) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', sysdate error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', localtimestamp error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> SELECT json_mergepatch('"null"', current_timestamp error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, patch is not valid JSON
SQL> 
SQL> SELECT json_mergepatch(sysdate, '[]') FROM j_purchaseorder;

JSON_MERGEPATCH(SYSDATE, '[]')                                  
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(localtimestamp, '[]') FROM j_purchaseorder;

JSON_MERGEPATCH(LOCALTIMESTAMP, '[]')                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(current_timestamp, '[]') FROM j_purchaseorder;

JSON_MERGEPATCH(CURRENT_TIMESTAMP, '[]')                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_mergepatch(sysdate, '[]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch(localtimestamp, '[]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT json_mergepatch(current_timestamp, '[]' error on error) FROM j_purchaseorder;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --func test
SQL> --pass
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> select po_document from j_purchaseorder;

PO_DOCUMENT                                                     
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"PONumber":8888}') FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"PONUMBER":8888}')               
----------------------------------------------------------------
{"PONumber":8888,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_mergepatch(po_document, '{"aa":123456}') FROM j_purchaseorder;

JSON_MERGEPATCH(PO_DOCUMENT, '{"AA":123456}')                   
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":123456,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_set(po_document, '$.aa', '123456') FROM j_purchaseorder;

JSON_SET(PO_DOCUMENT, '$.AA', '123456')                         
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":123456,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_set(po_document, '$.PONumber', '8888') FROM j_purchaseorder;

JSON_SET(PO_DOCUMENT, '$.PONUMBER', '8888')                     
----------------------------------------------------------------
{"PONumber":8888,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_set(po_document, '$.PONumberrrrr', '8888') FROM j_purchaseorder;

JSON_SET(PO_DOCUMENT, '$.PONUMBERRRRR', '8888')                 
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":555,"jdd":"I Love China...","HJM":"You Love Me...","PONumberrrrr":8888}

1 rows fetched.

SQL> SELECT json_set(po_document, '$.PONumber1.hob[*].pat[*].aa') FROM j_purchaseorder;

JSON_SET(PO_DOCUMENT, '$.PONUMBER1.HOB[*].PAT[*].AA')           
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_set(po_document, '$.PONumber2', '[5]') FROM j_purchaseorder;

JSON_SET(PO_DOCUMENT, '$.PONUMBER2', '[5]')                     
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[5],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_set(po_document, '$.PONumber2', '[36, 89, 26, true]') FROM j_purchaseorder;

JSON_SET(PO_DOCUMENT, '$.PONUMBER2', '[36, 89, 26, TRUE]')      
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[36,89,26,true],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_set(po_document, '$.PONumber2', '[]') FROM j_purchaseorder;

JSON_SET(PO_DOCUMENT, '$.PONUMBER2', '[]')                      
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_set(po_document, '$.PONumber2', '[2]') FROM j_purchaseorder;

JSON_SET(PO_DOCUMENT, '$.PONUMBER2', '[2]')                     
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[2],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> 
SQL> select json_query(po_document, '$[0]' error on error) from j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[0]' ERROR ON ERROR)                  
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_set(po_document, '$.[0]', '[5]') FROM j_purchaseorder;

JSON_SET(PO_DOCUMENT, '$.[0]', '[5]')                           
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":555,"jdd":"I Love China...","HJM":"You Love Me...","":[5]}

1 rows fetched.

SQL> 
SQL> SELECT json_value('[5]', '$') from dual;

JSON_VALUE('[5]', '$')                                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value('[36]', '$') from dual;

JSON_VALUE('[36]', '$')                                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value('[]', '$') from dual;

JSON_VALUE('[]', '$')                                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value('[2]', '$') from dual;

JSON_VALUE('[2]', '$')                                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> SELECT json_value('[5]', '$[*]') from dual;

JSON_VALUE('[5]', '$[*]')                                       
----------------------------------------------------------------
5                                                               

1 rows fetched.

SQL> SELECT json_value('[36]', '$[*]') from dual;

JSON_VALUE('[36]', '$[*]')                                      
----------------------------------------------------------------
36                                                              

1 rows fetched.

SQL> SELECT json_value('[]', '$[*]') from dual;

JSON_VALUE('[]', '$[*]')                                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value('[2]', '$[*]') from dual;

JSON_VALUE('[2]', '$[*]')                                       
----------------------------------------------------------------
2                                                               

1 rows fetched.

SQL> 
SQL> SELECT json_value('[5, 7]', '$[*]') from dual;

JSON_VALUE('[5, 7]', '$[*]')                                    
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value('[36, 7]', '$[*]') from dual;

JSON_VALUE('[36, 7]', '$[*]')                                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value('[]', '$[*]') from dual;

JSON_VALUE('[]', '$[*]')                                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value('[2, 7]', '$[*]') from dual;

JSON_VALUE('[2, 7]', '$[*]')                                    
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> SELECT json_query('[5]', '$') from dual;

JSON_QUERY('[5]', '$')                                          
----------------------------------------------------------------
[5]                                                             

1 rows fetched.

SQL> SELECT json_query('[36]', '$') from dual;

JSON_QUERY('[36]', '$')                                         
----------------------------------------------------------------
[36]                                                            

1 rows fetched.

SQL> SELECT json_query('[]', '$') from dual;

JSON_QUERY('[]', '$')                                           
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> SELECT json_query('[2]', '$') from dual;

JSON_QUERY('[2]', '$')                                          
----------------------------------------------------------------
[2]                                                             

1 rows fetched.

SQL> 
SQL> SELECT json_query('[5]', '$[*]') from dual;

JSON_QUERY('[5]', '$[*]')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query('[36]', '$[*]') from dual;

JSON_QUERY('[36]', '$[*]')                                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query('[]', '$[*]') from dual;

JSON_QUERY('[]', '$[*]')                                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_query('[2]', '$[*]') from dual;

JSON_QUERY('[2]', '$[*]')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> 
SQL> SELECT json_value('[1,2,[3,4,{"num":[5,6,7,{"aa":8}]}]]', '$[*].*[*].num.aa') from dual;

JSON_VALUE('[1,2,[3,4,{"NUM":[5,6,7,{"AA":8}]}]]', '$[*].*[*].NU
----------------------------------------------------------------
8                                                               

1 rows fetched.

SQL> SELECT json_value('[1,2,[3,4,{"num":[5,6,7,{"aa":8}]}]]', '$[*].*[*].num[3].aa') from dual;

JSON_VALUE('[1,2,[3,4,{"NUM":[5,6,7,{"AA":8}]}]]', '$[*].*[*].NU
----------------------------------------------------------------
8                                                               

1 rows fetched.

SQL> SELECT json_value('[1,2,[3,4,{"num":[5,6,7,{"aa":8}]}]]', '$[*].*[*].num[*].aa') from dual;

JSON_VALUE('[1,2,[3,4,{"NUM":[5,6,7,{"AA":8}]}]]', '$[*].*[*].NU
----------------------------------------------------------------
8                                                               

1 rows fetched.

SQL> SELECT json_value('[1,2,[3,4,{"num":[5,6,7,{"aa":8}]}]]', '$[*].*[*].*[*].aa') from dual;

JSON_VALUE('[1,2,[3,4,{"NUM":[5,6,7,{"AA":8}]}]]', '$[*].*[*].*[
----------------------------------------------------------------
8                                                               

1 rows fetched.

SQL> 
SQL> SELECT json_value('[1,2,[3,4,{"num":[5,6,7,{"aa":8}]}]]', '$[*].*.num[3].aa') from dual;

JSON_VALUE('[1,2,[3,4,{"NUM":[5,6,7,{"AA":8}]}]]', '$[*].*.NUM[3
----------------------------------------------------------------
8                                                               

1 rows fetched.

SQL> SELECT json_value('[1,2,[3,4,{"num":[5,6,7,{"aa":8}]}]]', '$[*].[*].num[3].aa') from dual;

CT-02503, JSON path expression syntax error, step name not specified
SQL> SELECT json_value('[1,2,[3,4,{"num":[5,6,7,{"aa":8}]}]]', '$[*][*].num[3].aa') from dual;

JSON_VALUE('[1,2,[3,4,{"NUM":[5,6,7,{"AA":8}]}]]', '$[*][*].NUM[
----------------------------------------------------------------
8                                                               

1 rows fetched.

SQL> SELECT json_value('[1,2,[3,4,{"num":[5,6,7,{"aa":8}]}]]', '$[*].*[*].num[3].aa') from dual;

JSON_VALUE('[1,2,[3,4,{"NUM":[5,6,7,{"AA":8}]}]]', '$[*].*[*].NU
----------------------------------------------------------------
8                                                               

1 rows fetched.

SQL> 
SQL> 
SQL> --orcale
SQL> SELECT json_value('[1,2,[3,4,{"num":[5,6,7,{"aa":8}]}]]', '$[*][*].num.aa') from dual;

JSON_VALUE('[1,2,[3,4,{"NUM":[5,6,7,{"AA":8}]}]]', '$[*][*].NUM.
----------------------------------------------------------------
8                                                               

1 rows fetched.

SQL> SELECT json_value('[1,2,[3,4,{"num":[5,6,7,{"aa":8}]}]]', '$[*][*].num[*].aa') from dual;

JSON_VALUE('[1,2,[3,4,{"NUM":[5,6,7,{"AA":8}]}]]', '$[*][*].NUM[
----------------------------------------------------------------
8                                                               

1 rows fetched.

SQL> SELECT json_value('[1,2,[3,4,{"num":[5,6,7,{"aa":8}]}]]', '$[*][*].*[*].aa') from dual;

JSON_VALUE('[1,2,[3,4,{"NUM":[5,6,7,{"AA":8}]}]]', '$[*][*].*[*]
----------------------------------------------------------------
8                                                               

1 rows fetched.

SQL> SELECT json_value('[1,2,[3,4,{"num":[5,6,7,{"aa":8}]}]]', '$[*][*].num[3].aa') from dual;

JSON_VALUE('[1,2,[3,4,{"NUM":[5,6,7,{"AA":8}]}]]', '$[*][*].NUM[
----------------------------------------------------------------
8                                                               

1 rows fetched.

SQL> SELECT json_value('[1,2,[3,4,{"num":[5,6,7,{"aa":8}]}]]', '$.num[3].aa') from dual;

JSON_VALUE('[1,2,[3,4,{"NUM":[5,6,7,{"AA":8}]}]]', '$.NUM[3].AA'
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> 
SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --* can not appear alone
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '{"XX":[1111, 2222, 3333]}');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> select json_array(11,22,33) from dual;

JSON_ARRAY(11,22,33)                                            
----------------------------------------------------------------
[11,22,33]                                                      

1 rows fetched.

SQL> select json_array('11','22','33') from dual;

JSON_ARRAY('11','22','33')                                      
----------------------------------------------------------------
["11","22","33"]                                                

1 rows fetched.

SQL> select json_array('11','22','[33,44]', 55) from dual;

JSON_ARRAY('11','22','[33,44]', 55)                             
----------------------------------------------------------------
["11","22","[33,44]",55]                                        

1 rows fetched.

SQL> select json_array('11','22   ','[11,  11,[22,   22,[33,   33,[   44,   44]]]]') from dual;

JSON_ARRAY('11','22   ','[11,  11,[22,   22,[33,   33,[   44,   
----------------------------------------------------------------
["11","22   ","[11,  11,[22,   22,[33,   33,[   44,   44]]]]"]  

1 rows fetched.

SQL> select json_array('true','22','false','"true"','"false"') from dual;

JSON_ARRAY('TRUE','22','FALSE','"TRUE"','"FALSE"')              
----------------------------------------------------------------
["true","22","false","\"true\"","\"false\""]                    

1 rows fetched.

SQL> 
SQL> select json_array('"11"','22','"33"','"aaBB"') from dual;

JSON_ARRAY('"11"','22','"33"','"AABB"')                         
----------------------------------------------------------------
["\"11\"","22","\"33\"","\"aaBB\""]                             

1 rows fetched.

SQL> select json_array('"11"','"22"','[33,44]') from dual;

JSON_ARRAY('"11"','"22"','[33,44]')                             
----------------------------------------------------------------
["\"11\"","\"22\"","[33,44]"]                                   

1 rows fetched.

SQL> select json_array('"11"','"22   "','[11,  11,[22,   "22"     ,[33,   "33",[   44,   44]]]]') from dual;

JSON_ARRAY('"11"','"22   "','[11,  11,[22,   "22"     ,[33,   "3
----------------------------------------------------------------
["\"11\"","\"22   \"","[11,  11,[22,   \"22\"     ,[33,   \"33\",[   44,   44]]]]"]

1 rows fetched.

SQL> select json_array('true','22','false','{"GG":[1,2.3,5]}') from dual;

JSON_ARRAY('TRUE','22','FALSE','{"GG":[1,2.3,5]}')              
----------------------------------------------------------------
["true","22","false","{\"GG\":[1,2.3,5]}"]                      

1 rows fetched.

SQL> 
SQL> select json_query(json_array('true','22','false','{"GG":[1,2.3,5]}'), '$[*].GG') from dual;

JSON_QUERY(JSON_ARRAY('TRUE','22','FALSE','{"GG":[1,2.3,5]}'), '
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value(json_array('true','22','false','{"GG":[1,2.3,5]}'), '$[*].GG[1]') from dual;

JSON_VALUE(JSON_ARRAY('TRUE','22','FALSE','{"GG":[1,2.3,5]}'), '
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> select json_object('{"a":11}','{"b":22}','{"c":33}', '{"fdd":55, "sdds":85}') from dual;

CT-00601, [1:30]Sql syntax error: 'is' expected but , found
SQL> select json_object('{"a":11}','{"b":22}','{"c":33}', '{"aaaa":{"fdd":55, "sdds":85}}') from dual;

CT-00601, [1:30]Sql syntax error: 'is' expected but , found
SQL> 
SQL> select json_query(json_object('{"a":11}','{"b":22}','{"c":33}', '{"aaaa":{"fdd":55, "sdds":85}}'), '$[*].aaaa') from dual;

CT-00601, [1:41]Sql syntax error: 'is' expected but , found
SQL> select json_value(json_object('{"a":11}','{"b":22}','{"c":33}', '{"aaaa":{"fdd":55, "sdds":85}}'), '$[*].aaaa.sdds') from dual;

CT-00601, [1:41]Sql syntax error: 'is' expected but , found
SQL> 
SQL> --error
SQL> select json_object('11','22','[33,44]','true') from dual;

CT-00601, [1:24]Sql syntax error: 'is' expected but , found
SQL> select json_object('11','22','[11,11,[22,22,[33,33,[44,44]]]]') from dual;

CT-00601, [1:24]Sql syntax error: 'is' expected but , found
SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --* path expr cluse and filter expr are Reserved
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '{"XX":[1111, 2222, 3333, {"name":"jdd"}]}');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> SELECT json_value(po_document, '$[*].XX[2]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].XX[2]')                           
----------------------------------------------------------------
3333                                                            

1 rows fetched.

SQL> SELECT json_query(po_document, '$[*].XX') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[*].XX')                              
----------------------------------------------------------------
[1111,2222,3333,{"name":"jdd"}]                                 

1 rows fetched.

SQL> SELECT json_query(po_document, '$[*].XX[*]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[*].XX[*]')                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].XX[*].name.upper()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*].XX[2 , to ].name.upper()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*].XX[2 to 3].name.upper()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> SELECT json_value(po_document, '$[*].XX[*].name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].XX[*].NAME')                      
----------------------------------------------------------------
jdd                                                             

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].XX[2 , to ].name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].XX[2 , TO ].NAME')                
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].XX[2 to 3].name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].XX[2 TO 3].NAME')                 
----------------------------------------------------------------
jdd                                                             

1 rows fetched.

SQL> SELECT json_query(po_document, '$[*].XX[3]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[*].XX[3]')                           
----------------------------------------------------------------
{"name":"jdd"}                                                  

1 rows fetched.

SQL> 
SQL> SELECT json_value(po_document, '$[*].XX[0]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].XX[0]')                           
----------------------------------------------------------------
1111                                                            

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].XX[0]?(@.NAME > 0)')              
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> --pass
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' null on error) FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].XX[0]?(@.NAME > 0)' NULL ON ERROR)
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)'  empty on error) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)'  empty on error error on empty ) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)'  empty on error true on empty ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)'  false on error error on empty ) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)'  empty on error null on empty ) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)'  empty on error error on empty ) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)'   false on error null on empty ) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' null on error) FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].XX[0]?(@.NAME > 0)' NULL ON ERROR)
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' null on empty ) FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].XX[0]?(@.NAME > 0)' NULL ON EMPTY 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' false on empty ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' null on empty ) FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].XX[0]?(@.NAME > 0)' NULL ON EMPTY 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' error on error ) FROM j_purchaseorder;

CT-02506, JSON_VALUE evaluated to no value
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' empty on error    ) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> 
SQL> SELECT json_value(po_document, '$[1].XX[0]?(@.name > 0)' empty on error error on empty ) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> SELECT json_value(po_document, '$[1].XX[0]?(@.name > 0)' empty on error true on empty ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[1].XX[0]?(@.name > 0)' empty on error false on empty ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[1].XX[0]?(@.name > 0)' empty on error null on empty ) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> SELECT json_value(po_document, '$[1].XX'  empty on error false on empty ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> 
SQL> SELECT json_value(po_document, '$[1].XX[0]?' empty on error) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> SELECT json_value(po_document, '$[1].XX[0]?' null on error) FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, missing expression
SQL> SELECT json_value(po_document, '$[1].XX[0]?' true on error) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> SELECT json_value(po_document, '$[1].XX[0]?' false on error) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> SELECT json_value(po_document, '$[1].XX[0]?' error on error) FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, missing expression
SQL> SELECT json_value(po_document, '$[*].XX[*].name.upper()()' empty object on error) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> 
SQL> SELECT json_query(po_document, '$[1]' empty on empty) FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[1]' EMPTY ON EMPTY)                  
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> SELECT json_query(po_document, '$[1]' true on empty) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_query(po_document, '$[1]' false on empty) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_query(po_document, '$[1]' null on empty) FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[1]' NULL ON EMPTY)                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[X]??(@.name > 0)' empty array on error  ) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> SELECT json_value(po_document, '$[X]??(@.name > 0)' empty object on error  ) FROM j_purchaseorder;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> 
SQL> --error
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' returning numberdd) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' dd numberdd) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' returning number empty) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' dd numberdd) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' returning cc number empty on error error on empty ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' returning number empty) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' returning number false on error gg error on empty ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' returning number empty on error null on) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' returning number empty on error error on empty null on mismatch WITH time) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' returning timestamp with local WRAPPER ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' returning timestamp with time  with WRAPPER ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' returning  varchar2 with time zone without WRAPPER ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' returning date with time zone without WRAPPER ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' date with time zone without WRAPPER ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' zone without WRAPPER ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[0]?(@.name > 0)' error on ) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT json_value(po_document, '$[*].XX[*].name' error on error) FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].XX[*].NAME' ERROR ON ERROR)       
----------------------------------------------------------------
jdd                                                             

1 rows fetched.

SQL> SELECT json_value(po_document, '$[*].XX[*].name' number error on error) FROM j_purchaseorder;

CT-02501, Invalid RETURNING/ON clause, 
SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> --* path expr path is valid
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '{"XX":[1111, [55, true, {"AA":{"c":76, "d":88}}], 3333, {"name":"jdd"}]}');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> select json_query(po_document, '$[to]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[TO]')                                
----------------------------------------------------------------
{"XX":[1111,[55,true,{"AA":{"c":76,"d":88}}],3333,{"name":"jdd"}]}

1 rows fetched.

SQL> select json_value(po_document, '$[to].XX[0]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[TO].XX[0]')                          
----------------------------------------------------------------
1111                                                            

1 rows fetched.

SQL> select json_query(po_document, '$[to].XX[1]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[TO].XX[1]')                          
----------------------------------------------------------------
[55,true,{"AA":{"c":76,"d":88}}]                                

1 rows fetched.

SQL> select json_query(po_document, '$[to].XX[3]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[TO].XX[3]')                          
----------------------------------------------------------------
{"name":"jdd"}                                                  

1 rows fetched.

SQL> select json_value(po_document, '$[to].XX[3].name.upper()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> select json_value(po_document, '$[to].XX.name.upper()') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> select json_value(po_document, '$[to].XX[3].name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[TO].XX[3].NAME')                     
----------------------------------------------------------------
jdd                                                             

1 rows fetched.

SQL> select json_value(po_document, '$[to].XX.name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[TO].XX.NAME')                        
----------------------------------------------------------------
jdd                                                             

1 rows fetched.

SQL> select json_value(po_document, '$[to].XX[1].[0]') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, step name not specified
SQL> select json_value(po_document, '$[to].XX[1].[1]') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, step name not specified
SQL> select json_query(po_document, '$[to].XX[1].[2]') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, step name not specified
SQL> select json_value(po_document, '$[to].XX[1].*[0]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[TO].XX[1].*[0]')                     
----------------------------------------------------------------
55                                                              

1 rows fetched.

SQL> select json_value(po_document, '$[to].XX[1].*[1]') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[TO].XX[1].*[1]')                     
----------------------------------------------------------------
true                                                            

1 rows fetched.

SQL> select json_query(po_document, '$[to].XX[1].*[2]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$[TO].XX[1].*[2]')                     
----------------------------------------------------------------
{"AA":{"c":76,"d":88}}                                          

1 rows fetched.

SQL> 
SQL> 
SQL> select json_query('[]', '$') from dual;

JSON_QUERY('[]', '$')                                           
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> select json_query('[]', '$[ to 5].[6].[1,1,1,5,6]') from dual;

CT-02503, JSON path expression syntax error, step name not specified
SQL> select json_query('[]', '$%') from dual;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> select json_query('[]', '$[5]..') from dual;

CT-02503, JSON path expression syntax error, invlid step name
SQL> select json_query('[]', '$[5].') from dual;

CT-02503, JSON path expression syntax error, invlid step name
SQL> select json_query('[]', '$[ to 5].[].[]') from dual;

CT-02503, JSON path expression syntax error, step name not specified
SQL> select json_query('[]', '$[5],') from dual;

CT-02503, JSON path expression syntax error, 
SQL> select json_query('[]', '$[5,,,,,]') from dual;

CT-02503, JSON path expression syntax error, invalid array index
SQL> select json_query('[]', '$[ to 5].[8].[1,1,1,5,2]') from dual;

CT-02503, JSON path expression syntax error, step name not specified
SQL> select json_query('[]', '$[ to 5].[6].[1,1,1,5,6]?') from dual;

CT-02503, JSON path expression syntax error, step name not specified
SQL> select * from dual where 123 is json;

DUMMY
-----

0 rows fetched.

SQL> select * from dual where null is json;

DUMMY
-----

0 rows fetched.

SQL> select * from dual where '"123"' is json;

DUMMY
-----

0 rows fetched.

SQL> select * from dual where 'true' is json;

DUMMY
-----

0 rows fetched.

SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> SELECT JSON_QUERY('{}', '$') from dual;

JSON_QUERY('{}', '$')                                           
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> SELECT JSON_QUERY('[]', '$') from dual;

JSON_QUERY('[]', '$')                                           
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> 
SQL> 
SQL> select json_value(null,'$') from dual;

JSON_VALUE(NULL,'$')                                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select length(json_value(null,'$')) from dual;

LENGTH(JSON_VALUE(NULL,'$'))
----------------------------
                            

1 rows fetched.

SQL> select 1 from dual where json_value(null,'$') is null;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where length(json_value(null,'$')) is null;

1           
------------
1           

1 rows fetched.

SQL> SELECT JSON_QUERY('{}', '$') from dual;

JSON_QUERY('{}', '$')                                           
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> SELECT JSON_QUERY('[]', '$') from dual;

JSON_QUERY('[]', '$')                                           
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> 
SQL> 
SQL> select json_array('"asd"',221,96,to_clob('{"sddsdsssssssssssssss":56}')) from dual;

JSON_ARRAY('"ASD"',221,96,TO_CLOB('{"SDDSDSSSSSSSSSSSSSSS":56}')
----------------------------------------------------------------
["\"asd\"",221,96,"{\"sddsdsssssssssssssss\":56}"]              

1 rows fetched.

SQL> 
SQL> 
SQL> select json_value(null,'$') from dual;

JSON_VALUE(NULL,'$')                                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value('[5]', '$') from dual;

JSON_VALUE('[5]', '$')                                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> select * from dual where 'name' is json;

DUMMY
-----

0 rows fetched.

SQL> select * from dual where '"name"' is json;

DUMMY
-----

0 rows fetched.

SQL> 
SQL> --same as orcale
SQL> select json_array(1   ,'[2,3]','[4,5,6]','7','"name"', 'true',null,true) from dual;

CT-02504, [1:69]JSON syntax error, unexpected T found
SQL> select json_array(1   ,'[2,3]','[4,5,6]',null,'7','"name"', 'true',null) from dual;

JSON_ARRAY(1   ,'[2,3]','[4,5,6]',NULL,'7','"NAME"', 'TRUE',NULL
----------------------------------------------------------------
[1,"[2,3]","[4,5,6]","7","\"name\"","true"]                     

1 rows fetched.

SQL> select json_array(1   ,'[2,3]','[4,5,6]','7','"name"', 'true', 'null') from dual;

JSON_ARRAY(1   ,'[2,3]','[4,5,6]','7','"NAME"', 'TRUE', 'NULL') 
----------------------------------------------------------------
[1,"[2,3]","[4,5,6]","7","\"name\"","true","null"]              

1 rows fetched.

SQL> select json_array(1   ,'[2,3]' format json,'[4,5,6]' format json,null,'7','"name"', 'true' format json,null) from dual;

JSON_ARRAY(1   ,'[2,3]' FORMAT JSON,'[4,5,6]' FORMAT JSON,NULL,'
----------------------------------------------------------------
[1,[2,3],[4,5,6],"7","\"name\"",true]                           

1 rows fetched.

SQL> select json_array(1   ,'[2,3]' format json,'[4,5,6]' format json,'7','"name"', 'true' format json, 'null') from dual;

JSON_ARRAY(1   ,'[2,3]' FORMAT JSON,'[4,5,6]' FORMAT JSON,'7','"
----------------------------------------------------------------
[1,[2,3],[4,5,6],"7","\"name\"",true,"null"]                    

1 rows fetched.

SQL> select json_array(1,null,765) from dual;

JSON_ARRAY(1,NULL,765)                                          
----------------------------------------------------------------
[1,765]                                                         

1 rows fetched.

SQL> select json_array(1 format json,null,765 format json) from dual;

JSON_ARRAY(1 FORMAT JSON,NULL,765 FORMAT JSON)                  
----------------------------------------------------------------
[1,765]                                                         

1 rows fetched.

SQL> select json_array(1,null format json,765) from dual;

JSON_ARRAY(1,NULL FORMAT JSON,765)                              
----------------------------------------------------------------
[1,765]                                                         

1 rows fetched.

SQL> 
SQL> --same as orcale
SQL> select json_array(true) from dual;

CT-02504, [1:20]JSON syntax error, unexpected T found
SQL> select json_array(true format json) from dual;

CT-02504, [1:20]JSON syntax error, unexpected T found
SQL> select json_array('true') from dual;

JSON_ARRAY('TRUE')                                              
----------------------------------------------------------------
["true"]                                                        

1 rows fetched.

SQL> select json_array('true' format json) from dual;

JSON_ARRAY('TRUE' FORMAT JSON)                                  
----------------------------------------------------------------
[true]                                                          

1 rows fetched.

SQL> 
SQL> --same as orcale
SQL> select json_array(null) from dual;

JSON_ARRAY(NULL)                                                
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> select json_array(null format json) from dual;

JSON_ARRAY(NULL FORMAT JSON)                                    
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> select json_array('null') from dual;

JSON_ARRAY('NULL')                                              
----------------------------------------------------------------
["null"]                                                        

1 rows fetched.

SQL> select json_array('null' format json) from dual;

JSON_ARRAY('NULL' FORMAT JSON)                                  
----------------------------------------------------------------
[null]                                                          

1 rows fetched.

SQL> select json_array(1,null ,3) from dual;

JSON_ARRAY(1,NULL ,3)                                           
----------------------------------------------------------------
[1,3]                                                           

1 rows fetched.

SQL> select json_array(1,null format json ,3) from dual;

JSON_ARRAY(1,NULL FORMAT JSON ,3)                               
----------------------------------------------------------------
[1,3]                                                           

1 rows fetched.

SQL> 
SQL> --same as orcale
SQL> select json_array(123) from dual;

JSON_ARRAY(123)                                                 
----------------------------------------------------------------
[123]                                                           

1 rows fetched.

SQL> select json_array(123 format json) from dual;

JSON_ARRAY(123 FORMAT JSON)                                     
----------------------------------------------------------------
[123]                                                           

1 rows fetched.

SQL> select json_array('123') from dual;

JSON_ARRAY('123')                                               
----------------------------------------------------------------
["123"]                                                         

1 rows fetched.

SQL> select json_array('123' format json) from dual;

JSON_ARRAY('123' FORMAT JSON)                                   
----------------------------------------------------------------
[123]                                                           

1 rows fetched.

SQL> select json_array('123.321') from dual;

JSON_ARRAY('123.321')                                           
----------------------------------------------------------------
["123.321"]                                                     

1 rows fetched.

SQL> select json_array('123.321' format json) from dual;

JSON_ARRAY('123.321' FORMAT JSON)                               
----------------------------------------------------------------
[123.321]                                                       

1 rows fetched.

SQL> 
SQL> --same as orcale
SQL> --select json_array(sysdate) from dual;
SQL> --select json_array(sysdate format json) from dual;
SQL> 
SQL> --zenith support tstz type
SQL> --select json_array(current_timestamp) from dual;
SQL> --select json_array(current_timestamp format json) from dual;
SQL> 
SQL> --diff cases
SQL> select json_array('name') from dual;

JSON_ARRAY('NAME')                                              
----------------------------------------------------------------
["name"]                                                        

1 rows fetched.

SQL> select json_array('name' format json) from dual;   --we think orcale output maybe a bug!!!

CT-02504, [1:20]JSON syntax error, unexpected n found
SQL> select json_array('"name"') from dual;             --zenith need add escape char

JSON_ARRAY('"NAME"')                                            
----------------------------------------------------------------
["\"name\""]                                                    

1 rows fetched.

SQL> select json_array('"name"' format json) from dual;

JSON_ARRAY('"NAME"' FORMAT JSON)                                
----------------------------------------------------------------
["name"]                                                        

1 rows fetched.

SQL> 
SQL> --same as orcale
SQL> select json_array(1 format json, json_array(25, 26)) from dual;

JSON_ARRAY(1 FORMAT JSON, JSON_ARRAY(25, 26))                   
----------------------------------------------------------------
[1,[25,26]]                                                     

1 rows fetched.

SQL> select json_array(1 format json, json_array(25, json_array(5,8,9,10))) from dual;

JSON_ARRAY(1 FORMAT JSON, JSON_ARRAY(25, JSON_ARRAY(5,8,9,10))) 
----------------------------------------------------------------
[1,[25,[5,8,9,10]]]                                             

1 rows fetched.

SQL> select json_array(1 format json, json_array(json_value('[1,2,3]', '$[2]'), json_array(5,8,9,10))) from dual;

JSON_ARRAY(1 FORMAT JSON, JSON_ARRAY(JSON_VALUE('[1,2,3]', '$[2]
----------------------------------------------------------------
[1,["3",[5,8,9,10]]]                                            

1 rows fetched.

SQL> select json_array(1 format json, json_array(json_value('[1,2,3]', '$[2]') format json, json_array(5,8,9,10))) from dual;

JSON_ARRAY(1 FORMAT JSON, JSON_ARRAY(JSON_VALUE('[1,2,3]', '$[2]
----------------------------------------------------------------
[1,[3,[5,8,9,10]]]                                              

1 rows fetched.

SQL> select json_array(1 , json_array(json_value('[1,2,3]', '$[2]') format json, json_array(5,8,9,10))) from dual;

JSON_ARRAY(1 , JSON_ARRAY(JSON_VALUE('[1,2,3]', '$[2]') FORMAT J
----------------------------------------------------------------
[1,[3,[5,8,9,10]]]                                              

1 rows fetched.

SQL> select json_array(1 , json_value('[1,2,3]', '$[2]')) from dual;

JSON_ARRAY(1 , JSON_VALUE('[1,2,3]', '$[2]'))                   
----------------------------------------------------------------
[1,"3"]                                                         

1 rows fetched.

SQL> select json_array(1 , json_value('[1,2,3]', '$[2]') format json) from dual;

JSON_ARRAY(1 , JSON_VALUE('[1,2,3]', '$[2]') FORMAT JSON)       
----------------------------------------------------------------
[1,3]                                                           

1 rows fetched.

SQL> 
SQL> select json_value('[1,2,3]', '$[2]') from dual;

JSON_VALUE('[1,2,3]', '$[2]')                                   
----------------------------------------------------------------
3                                                               

1 rows fetched.

SQL> select json_array(json_value('[1,2,3]', '$[2]')) from dual;

JSON_ARRAY(JSON_VALUE('[1,2,3]', '$[2]'))                       
----------------------------------------------------------------
["3"]                                                           

1 rows fetched.

SQL> select json_array(1, json_value('[1,2,3]', '$[2]')) from dual;

JSON_ARRAY(1, JSON_VALUE('[1,2,3]', '$[2]'))                    
----------------------------------------------------------------
[1,"3"]                                                         

1 rows fetched.

SQL> select json_array(json_query('[1,2,3]', '$')) from dual;

JSON_ARRAY(JSON_QUERY('[1,2,3]', '$'))                          
----------------------------------------------------------------
[[1,2,3]]                                                       

1 rows fetched.

SQL> select json_array(1, json_query('[1,2,3]', '$')) from dual;

JSON_ARRAY(1, JSON_QUERY('[1,2,3]', '$'))                       
----------------------------------------------------------------
[1,[1,2,3]]                                                     

1 rows fetched.

SQL> select json_array(json_array(json_value('[1,2,3]', '$[2]') format json, json_array(5,8,9,10))) from dual;

JSON_ARRAY(JSON_ARRAY(JSON_VALUE('[1,2,3]', '$[2]') FORMAT JSON,
----------------------------------------------------------------
[[3,[5,8,9,10]]]                                                

1 rows fetched.

SQL> 
SQL> select json_array(1 ,'[2,3]','[4,5,6]' format json,'7','"name"', 'true',null) from dual;

JSON_ARRAY(1 ,'[2,3]','[4,5,6]' FORMAT JSON,'7','"NAME"', 'TRUE'
----------------------------------------------------------------
[1,"[2,3]",[4,5,6],"7","\"name\"","true"]                       

1 rows fetched.

SQL> select json_array(1,'[2,3]','[4,5,6]','7','"name"', 'true',null) from dual;

JSON_ARRAY(1,'[2,3]','[4,5,6]','7','"NAME"', 'TRUE',NULL)       
----------------------------------------------------------------
[1,"[2,3]","[4,5,6]","7","\"name\"","true"]                     

1 rows fetched.

SQL> 
SQL> select json_array('"asd"' format json, 125 format json, 'true' format json) from dual;

JSON_ARRAY('"ASD"' FORMAT JSON, 125 FORMAT JSON, 'TRUE' FORMAT J
----------------------------------------------------------------
["asd",125,true]                                                

1 rows fetched.

SQL> select json_array('"asd"' format json, 5*8 format json, 'true' format json) from dual;

JSON_ARRAY('"ASD"' FORMAT JSON, 5*8 FORMAT JSON, 'TRUE' FORMAT J
----------------------------------------------------------------
["asd",40,true]                                                 

1 rows fetched.

SQL> select json_value(json_array('"asd"' format json, 5*8 format json, 'true' format json), '$[1]') from dual;

JSON_VALUE(JSON_ARRAY('"ASD"' FORMAT JSON, 5*8 FORMAT JSON, 'TRU
----------------------------------------------------------------
40                                                              

1 rows fetched.

SQL> 
SQL> select json_array(trim('          "asdsfds        "        ') format json, 5*8 format json, 'true' format json) from dual;

JSON_ARRAY(TRIM('          "ASDSFDS        "        ') FORMAT JS
----------------------------------------------------------------
["asdsfds        ",40,true]                                     

1 rows fetched.

SQL> 
SQL> --select json_array(current_timestamp);
SQL> --select json_array(sysdate, 32, 32 format json) from dual;
SQL> 
SQL> --error
SQL> select json_array('"asd"' format json   125 format json, 'true' format json);

CT-02501, Invalid RETURNING/ON clause, 
SQL> select json_array('"asd"' format json ,  125 dd format json, 'true' format json);

CT-02501, Invalid RETURNING/ON clause, 
SQL> select json_array('"asd"' format json, 125 format json, 'true' format json,,);

CT-00601, [1:76]Sql syntax error: invalid expression
SQL> select json_array(5*8 format json, 'true' format json, 8/2 format XX);

CT-00601, [1:67]Sql syntax error: 'json' expected but XX found
SQL> select json_array(5*8 format json, 'true' format json, 8/2  XX);

CT-02501, Invalid RETURNING/ON clause, 
SQL> 
SQL> --ok
SQL> select json_object(key '"name"' is '"jdd"' format json) from dual;

JSON_OBJECT(KEY '"NAME"' IS '"JDD"' FORMAT JSON)                
----------------------------------------------------------------
{"\"name\"":"jdd"}                                              

1 rows fetched.

SQL> select json_object('"name"' is '"jdd"' format json) from dual;

JSON_OBJECT('"NAME"' IS '"JDD"' FORMAT JSON)                    
----------------------------------------------------------------
{"\"name\"":"jdd"}                                              

1 rows fetched.

SQL> select json_object('"name"' is '"jdd"') from dual;

JSON_OBJECT('"NAME"' IS '"JDD"')                                
----------------------------------------------------------------
{"\"name\"":"\"jdd\""}                                          

1 rows fetched.

SQL> select json_object(key 'null' is '"jdd"' format json) from dual;

JSON_OBJECT(KEY 'NULL' IS '"JDD"' FORMAT JSON)                  
----------------------------------------------------------------
{"null":"jdd"}                                                  

1 rows fetched.

SQL> select json_object('null' is '"jdd"' format json) from dual;

JSON_OBJECT('NULL' IS '"JDD"' FORMAT JSON)                      
----------------------------------------------------------------
{"null":"jdd"}                                                  

1 rows fetched.

SQL> select json_object('null' is '"jdd"' ) from dual;

JSON_OBJECT('NULL' IS '"JDD"' )                                 
----------------------------------------------------------------
{"null":"\"jdd\""}                                              

1 rows fetched.

SQL> select json_object(key 'true' is '"jdd"' format json) from dual;

JSON_OBJECT(KEY 'TRUE' IS '"JDD"' FORMAT JSON)                  
----------------------------------------------------------------
{"true":"jdd"}                                                  

1 rows fetched.

SQL> select json_object('true' is '"jdd"' format json) from dual;

JSON_OBJECT('TRUE' IS '"JDD"' FORMAT JSON)                      
----------------------------------------------------------------
{"true":"jdd"}                                                  

1 rows fetched.

SQL> select json_object('true' is '"jdd"' ) from dual;

JSON_OBJECT('TRUE' IS '"JDD"' )                                 
----------------------------------------------------------------
{"true":"\"jdd\""}                                              

1 rows fetched.

SQL> select json_object(key 'true' is '"jdd"' format json) from dual;

JSON_OBJECT(KEY 'TRUE' IS '"JDD"' FORMAT JSON)                  
----------------------------------------------------------------
{"true":"jdd"}                                                  

1 rows fetched.

SQL> select json_object('false' is '"jdd"' format json) from dual;

JSON_OBJECT('FALSE' IS '"JDD"' FORMAT JSON)                     
----------------------------------------------------------------
{"false":"jdd"}                                                 

1 rows fetched.

SQL> select json_object('false' is '"jdd"' ) from dual;

JSON_OBJECT('FALSE' IS '"JDD"' )                                
----------------------------------------------------------------
{"false":"\"jdd\""}                                             

1 rows fetched.

SQL> 
SQL> select json_object(key '"name"' is '"jdd"' format json  ,  '"name"' is '"jdd"' format json  ,  '"name"' is '"jdd"') from dual;

JSON_OBJECT(KEY '"NAME"' IS '"JDD"' FORMAT JSON  ,  '"NAME"' IS 
----------------------------------------------------------------
{"\"name\"":"jdd","\"name\"":"jdd","\"name\"":"\"jdd\""}        

1 rows fetched.

SQL> 
SQL> select json_object(key '"name"' is '"jdd"' format json, key 'addr' is '{"a":21, "b":98}' format json) from dual;

JSON_OBJECT(KEY '"NAME"' IS '"JDD"' FORMAT JSON, KEY 'ADDR' IS '
----------------------------------------------------------------
{"\"name\"":"jdd","addr":{"a":21,"b":98}}                       

1 rows fetched.

SQL> select json_object('"name"' is '"jdd"' format json, 'addr' is '{"a":21, "b":98}' format json) from dual;

JSON_OBJECT('"NAME"' IS '"JDD"' FORMAT JSON, 'ADDR' IS '{"A":21,
----------------------------------------------------------------
{"\"name\"":"jdd","addr":{"a":21,"b":98}}                       

1 rows fetched.

SQL> select json_object(key '"name"' is '"jdd"', key 'addr' is '{"a":21, "b":98}') from dual;

JSON_OBJECT(KEY '"NAME"' IS '"JDD"', KEY 'ADDR' IS '{"A":21, "B"
----------------------------------------------------------------
{"\"name\"":"\"jdd\"","addr":"{\"a\":21, \"b\":98}"}            

1 rows fetched.

SQL> 
SQL> select json_object(null is '"jdd"' format json) from dual;

CT-00601, Sql syntax error: Name input to JSON generation function cannot be null.
SQL> select json_object('name' is null format json, 'name1' is null format json) from dual;

JSON_OBJECT('NAME' IS NULL FORMAT JSON, 'NAME1' IS NULL FORMAT J
----------------------------------------------------------------
{"name":null,"name1":null}                                      

1 rows fetched.

SQL> 
SQL> select json_object('true' is '"jdd"' format json , 'false' is json_array(1 format json, json_array(25, json_array(5,8,9,10))) ) from dual;

JSON_OBJECT('TRUE' IS '"JDD"' FORMAT JSON , 'FALSE' IS JSON_ARRA
----------------------------------------------------------------
{"true":"jdd","false":[1,[25,[5,8,9,10]]]}                      

1 rows fetched.

SQL> select json_object('true' is '"jdd"' format json , 'false' is json_array(1 format json, json_array(25, json_array(5,8,9,10))) format json) from dual;

JSON_OBJECT('TRUE' IS '"JDD"' FORMAT JSON , 'FALSE' IS JSON_ARRA
----------------------------------------------------------------
{"true":"jdd","false":[1,[25,[5,8,9,10]]]}                      

1 rows fetched.

SQL> 
SQL> select json_object(key '"name"' is '"jdd"' format json) from dual;

JSON_OBJECT(KEY '"NAME"' IS '"JDD"' FORMAT JSON)                
----------------------------------------------------------------
{"\"name\"":"jdd"}                                              

1 rows fetched.

SQL> select json_value(json_object(key '"name"' is '"jdd"' format json), '$.name') from dual;

JSON_VALUE(JSON_OBJECT(KEY '"NAME"' IS '"JDD"' FORMAT JSON), '$.
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value(json_object(key '"name"' is '"jdd"' format json), '$."name"') from dual;

JSON_VALUE(JSON_OBJECT(KEY '"NAME"' IS '"JDD"' FORMAT JSON), '$.
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value(json_object(key '"name"' is '"jdd"' format json), '$.\"name\"') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> select json_value(json_object(key '"name"' is '"jdd"'), '$.name') from dual;

JSON_VALUE(JSON_OBJECT(KEY '"NAME"' IS '"JDD"'), '$.NAME')      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> select json_object(key 'name' is '"jdd"' format json) from dual;

JSON_OBJECT(KEY 'NAME' IS '"JDD"' FORMAT JSON)                  
----------------------------------------------------------------
{"name":"jdd"}                                                  

1 rows fetched.

SQL> select json_value(json_object(key 'name' is '"jdd"' format json), '$.name') from dual;

JSON_VALUE(JSON_OBJECT(KEY 'NAME' IS '"JDD"' FORMAT JSON), '$.NA
----------------------------------------------------------------
jdd                                                             

1 rows fetched.

SQL> select json_value(json_object(key 'name' is '"jdd"'), '$.name') from dual;

JSON_VALUE(JSON_OBJECT(KEY 'NAME' IS '"JDD"'), '$.NAME')        
----------------------------------------------------------------
"jdd"                                                           

1 rows fetched.

SQL> select json_value(json_object(key 'name' is 'jdd'), '$.name') from dual;

JSON_VALUE(JSON_OBJECT(KEY 'NAME' IS 'JDD'), '$.NAME')          
----------------------------------------------------------------
jdd                                                             

1 rows fetched.

SQL> 
SQL> select json_object(key 'null' is '"jdd"' format json) from dual;

JSON_OBJECT(KEY 'NULL' IS '"JDD"' FORMAT JSON)                  
----------------------------------------------------------------
{"null":"jdd"}                                                  

1 rows fetched.

SQL> 
SQL> --scaler test
SQL> select json_object(key 'value' is true) from dual;

CT-02504, [1:36]JSON syntax error, unexpected T found
SQL> select json_object(key 'value' is true format json) from dual;

CT-02504, [1:36]JSON syntax error, unexpected T found
SQL> select json_object(key 'value' is false) from dual;

CT-02504, [1:36]JSON syntax error, unexpected F found
SQL> select json_object(key 'value' is false format json) from dual;

CT-02504, [1:36]JSON syntax error, unexpected F found
SQL> select json_object(key 'value' is 'true') from dual;

JSON_OBJECT(KEY 'VALUE' IS 'TRUE')                              
----------------------------------------------------------------
{"value":"true"}                                                

1 rows fetched.

SQL> select json_object(key 'value' is 'true' format json) from dual;

JSON_OBJECT(KEY 'VALUE' IS 'TRUE' FORMAT JSON)                  
----------------------------------------------------------------
{"value":true}                                                  

1 rows fetched.

SQL> select json_object(key 'value' is 'false') from dual;

JSON_OBJECT(KEY 'VALUE' IS 'FALSE')                             
----------------------------------------------------------------
{"value":"false"}                                               

1 rows fetched.

SQL> select json_object(key 'value' is 'false' format json) from dual;

JSON_OBJECT(KEY 'VALUE' IS 'FALSE' FORMAT JSON)                 
----------------------------------------------------------------
{"value":false}                                                 

1 rows fetched.

SQL> select json_object(key 'value' is '"true"') from dual;

JSON_OBJECT(KEY 'VALUE' IS '"TRUE"')                            
----------------------------------------------------------------
{"value":"\"true\""}                                            

1 rows fetched.

SQL> select json_object(key 'value' is '"true"' format json) from dual;

JSON_OBJECT(KEY 'VALUE' IS '"TRUE"' FORMAT JSON)                
----------------------------------------------------------------
{"value":"true"}                                                

1 rows fetched.

SQL> select json_object(key 'value' is '"false"') from dual;

JSON_OBJECT(KEY 'VALUE' IS '"FALSE"')                           
----------------------------------------------------------------
{"value":"\"false\""}                                           

1 rows fetched.

SQL> select json_object(key 'value' is '"false"' format json) from dual;

JSON_OBJECT(KEY 'VALUE' IS '"FALSE"' FORMAT JSON)               
----------------------------------------------------------------
{"value":"false"}                                               

1 rows fetched.

SQL> 
SQL> select json_object(key 'value' is 123) from dual;

JSON_OBJECT(KEY 'VALUE' IS 123)                                 
----------------------------------------------------------------
{"value":123}                                                   

1 rows fetched.

SQL> select json_object(key 'value' is 123 format json) from dual;

JSON_OBJECT(KEY 'VALUE' IS 123 FORMAT JSON)                     
----------------------------------------------------------------
{"value":123}                                                   

1 rows fetched.

SQL> select json_object(key 'value' is '123') from dual;

JSON_OBJECT(KEY 'VALUE' IS '123')                               
----------------------------------------------------------------
{"value":"123"}                                                 

1 rows fetched.

SQL> select json_object(key 'value' is '123' format json) from dual;

JSON_OBJECT(KEY 'VALUE' IS '123' FORMAT JSON)                   
----------------------------------------------------------------
{"value":123}                                                   

1 rows fetched.

SQL> select json_object(key 'value' is '"123"') from dual;

JSON_OBJECT(KEY 'VALUE' IS '"123"')                             
----------------------------------------------------------------
{"value":"\"123\""}                                             

1 rows fetched.

SQL> select json_object(key 'value' is '"123"' format json) from dual;

JSON_OBJECT(KEY 'VALUE' IS '"123"' FORMAT JSON)                 
----------------------------------------------------------------
{"value":"123"}                                                 

1 rows fetched.

SQL> select json_object(key 'value' is '123...85') from dual;

JSON_OBJECT(KEY 'VALUE' IS '123...85')                          
----------------------------------------------------------------
{"value":"123...85"}                                            

1 rows fetched.

SQL> select json_object(key 'value' is '123...85' format json) from dual;

CT-02504, [1:36]JSON syntax error, invalid json number format 123...85
SQL> select json_object(key 'value' is '"123...85"') from dual;

JSON_OBJECT(KEY 'VALUE' IS '"123...85"')                        
----------------------------------------------------------------
{"value":"\"123...85\""}                                        

1 rows fetched.

SQL> select json_object(key 'value' is '"123...85"' format json) from dual;

JSON_OBJECT(KEY 'VALUE' IS '"123...85"' FORMAT JSON)            
----------------------------------------------------------------
{"value":"123...85"}                                            

1 rows fetched.

SQL> 
SQL> select json_object(key 'value' is null) from dual;

JSON_OBJECT(KEY 'VALUE' IS NULL)                                
----------------------------------------------------------------
{"value":null}                                                  

1 rows fetched.

SQL> select json_object(key 'value' is null format json) from dual;

JSON_OBJECT(KEY 'VALUE' IS NULL FORMAT JSON)                    
----------------------------------------------------------------
{"value":null}                                                  

1 rows fetched.

SQL> select json_object(key 'value' is 'null') from dual;

JSON_OBJECT(KEY 'VALUE' IS 'NULL')                              
----------------------------------------------------------------
{"value":"null"}                                                

1 rows fetched.

SQL> select json_object(key 'value' is 'null' format json) from dual;

JSON_OBJECT(KEY 'VALUE' IS 'NULL' FORMAT JSON)                  
----------------------------------------------------------------
{"value":null}                                                  

1 rows fetched.

SQL> select json_object(key 'value' is '"null"') from dual;

JSON_OBJECT(KEY 'VALUE' IS '"NULL"')                            
----------------------------------------------------------------
{"value":"\"null\""}                                            

1 rows fetched.

SQL> select json_object(key 'value' is '"null"' format json) from dual;

JSON_OBJECT(KEY 'VALUE' IS '"NULL"' FORMAT JSON)                
----------------------------------------------------------------
{"value":"null"}                                                

1 rows fetched.

SQL> 
SQL> select json_object(key 'value' is asdf) from dual;

CT-00601, [1:35]Sql syntax error: invalid column name 'ASDF'
SQL> select json_object(key 'value' is asdf format json) from dual;

CT-00601, [1:35]Sql syntax error: invalid column name 'ASDF'
SQL> select json_object(key 'value' is 'asdf') from dual;

JSON_OBJECT(KEY 'VALUE' IS 'ASDF')                              
----------------------------------------------------------------
{"value":"asdf"}                                                

1 rows fetched.

SQL> select json_object(key 'value' is 'asdf' format json) from dual;

CT-02504, [1:36]JSON syntax error, unexpected a found
SQL> select json_object(key 'value' is '"asdf"') from dual;

JSON_OBJECT(KEY 'VALUE' IS '"ASDF"')                            
----------------------------------------------------------------
{"value":"\"asdf\""}                                            

1 rows fetched.

SQL> select json_object(key 'value' is '"asdf"' format json) from dual;

JSON_OBJECT(KEY 'VALUE' IS '"ASDF"' FORMAT JSON)                
----------------------------------------------------------------
{"value":"asdf"}                                                

1 rows fetched.

SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> --error
SQL> select json_object(key '"name"'  format json is '"jdd"' format json) from dual;

CT-00601, [1:34]Sql syntax error: 'is' expected but format found
SQL> select json_object(key '"name"'  format  is '"jdd"' format json) from dual;

CT-00601, [1:34]Sql syntax error: 'is' expected but format found
SQL> select json_object(key '"name"'  json  is '"jdd"' format json) from dual;

CT-00601, [1:34]Sql syntax error: 'is' expected but json found
SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> SELECT json_mergepatch('{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}', '{"aa":123456}') FROM dual;

JSON_MERGEPATCH('{"PONUMBER":66666,"PONUMBER1":{"NAME":"JORDON",
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":123456,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> 
SQL> SELECT json_set('{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}', '$.PONumber', '8888') FROM dual;

JSON_SET('{"PONUMBER":66666,"PONUMBER1":{"NAME":"JORDON","AA":"F
----------------------------------------------------------------
{"PONumber":8888,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> SELECT json_set('{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":"china no.1 !!!","bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}', '$.PONumber1.hob[*].pat[*].aa', '123456') FROM dual;

JSON_SET('{"PONUMBER":66666,"PONUMBER1":{"NAME":"JORDON","AA":"F
----------------------------------------------------------------
{"PONumber":66666,"PONumber1":{"name":"jordon","aa":"fgfddffdfddf","number":23,"hob":["ball","movie","reading",{"pat":[{"aa":123456,"bb":"haHaFDfdgdfgFDgFSD"},9,6,7]}]},"PONumber2":[1,2,3,4],"aa":555,"jdd":"I Love China...","HJM":"You Love Me..."}

1 rows fetched.

SQL> 
SQL> ---------------------------------------------------------------------------------------------------------
SQL> select json_value('{"asd":256}', '$.asd'error on error null on empty) from dual;

JSON_VALUE('{"ASD":256}', '$.ASD'ERROR ON ERROR NULL ON EMPTY)  
----------------------------------------------------------------
256                                                             

1 rows fetched.

SQL> select json_value('{"asd":256}', '$.asd' error on error null on empty) from dual;

JSON_VALUE('{"ASD":256}', '$.ASD' ERROR ON ERROR NULL ON EMPTY) 
----------------------------------------------------------------
256                                                             

1 rows fetched.

SQL> select json_value('{"asd":256}', '$.asd' error on error null on empty   ) from dual;

JSON_VALUE('{"ASD":256}', '$.ASD' ERROR ON ERROR NULL ON EMPTY  
----------------------------------------------------------------
256                                                             

1 rows fetched.

SQL> select json_value('{"asd":256}', '$.asd'   error    on    error null    on empty   ) from dual;

JSON_VALUE('{"ASD":256}', '$.ASD'   ERROR    ON    ERROR NULL   
----------------------------------------------------------------
256                                                             

1 rows fetched.

SQL> select json_value('{"asd":256}', '$....asd' true on error null on empty) from dual;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> 
SQL> 
SQL> 
SQL> ------------------------------------------  the first param of json_value and json_query is scalar
SQL> --null on error and null on empty  are default setting
SQL> -------------------------------------------------------------------------
SQL> --null
SQL> --run same as orcale
SQL> select json_value(null, '$') from dual;

JSON_VALUE(NULL, '$')                                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value(null, '$' error on error) from dual;

JSON_VALUE(NULL, '$' ERROR ON ERROR)                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query(null, '$') from dual;

JSON_QUERY(NULL, '$')                                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query(null, '$' error on error) from dual;

JSON_QUERY(NULL, '$' ERROR ON ERROR)                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> select 1 from dual where (select json_value(null, '$') from dual) is null;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where (select json_value(null, '$' error on error) from dual) is null;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> --run same as orcale
SQL> select json_value('null', '$') from dual;

JSON_VALUE('NULL', '$')                                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('null', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('null', '$') from dual;

JSON_QUERY('NULL', '$')                                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('null', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> select json_value('"null"', '$') from dual;

JSON_VALUE('"NULL"', '$')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('"null"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('"null"', '$') from dual;

JSON_QUERY('"NULL"', '$')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('"null"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> select json_value('""null""', '$') from dual;

JSON_VALUE('""NULL""', '$')                                     
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('""null""', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('""null""', '$') from dual;

JSON_QUERY('""NULL""', '$')                                     
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('""null""', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --However
SQL> select json_array(null, 'null', '"null"') from dual;

JSON_ARRAY(NULL, 'NULL', '"NULL"')                              
----------------------------------------------------------------
["null","\"null\""]                                             

1 rows fetched.

SQL> --["null","\"null\""]
SQL> select json_array(null format json, 'null' format json, '"null"' format json) from dual;

JSON_ARRAY(NULL FORMAT JSON, 'NULL' FORMAT JSON, '"NULL"' FORMAT
----------------------------------------------------------------
[null,"null"]                                                   

1 rows fetched.

SQL> --[null,"null"]
SQL> 
SQL> 
SQL> -------------------------------------------------------------------------(SEARCH_POINT_SCALER_TEST)
SQL> --number
SQL> --orcale: inconsistent datatypes: expected - got NUMBER
SQL> --zenith: invalid input syntax for json, JSON syntax error, unexpected scaler value.
SQL> select json_value(123, '$') from dual;

JSON_VALUE(123, '$')                                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value(123, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query(123, '$') from dual;

JSON_QUERY(123, '$')                                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query(123, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --run same as orcale
SQL> select json_value('123', '$') from dual;

JSON_VALUE('123', '$')                                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('123', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('123', '$') from dual;

JSON_QUERY('123', '$')                                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('123', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --run same as orcale
SQL> select json_value('"123"', '$') from dual;

JSON_VALUE('"123"', '$')                                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('"123"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('"123"', '$') from dual;

JSON_QUERY('"123"', '$')                                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('"123"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --However
SQL> select json_array(123, 'true', '"true"') from dual;

JSON_ARRAY(123, 'TRUE', '"TRUE"')                               
----------------------------------------------------------------
[123,"true","\"true\""]                                         

1 rows fetched.

SQL> --[123,"true","\"true\""]
SQL> select json_array(123 format json, 'true' format json, '"true"' format json) from dual;

JSON_ARRAY(123 FORMAT JSON, 'TRUE' FORMAT JSON, '"TRUE"' FORMAT 
----------------------------------------------------------------
[123,true,"true"]                                               

1 rows fetched.

SQL> --[123,true,"true"]
SQL> 
SQL> 
SQL> -------------------------------------------------------------------------
SQL> --constant string
SQL> --run same as orcale
SQL> select json_value(asdfg, '$') from dual;

CT-00601, [1:19]Sql syntax error: invalid column name 'ASDFG'
SQL> select json_value(asdfg, '$' error on error) from dual;

CT-00601, [1:19]Sql syntax error: invalid column name 'ASDFG'
SQL> select json_query(asdfg, '$') from dual;

CT-00601, [1:19]Sql syntax error: invalid column name 'ASDFG'
SQL> select json_query(asdfg, '$' error on error) from dual;

CT-00601, [1:19]Sql syntax error: invalid column name 'ASDFG'
SQL> 
SQL> select json_value('asdfg', '$') from dual;

JSON_VALUE('ASDFG', '$')                                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('asdfg', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('asdfg', '$') from dual;

JSON_QUERY('ASDFG', '$')                                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('asdfg', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> select json_value('"asdfg"', '$') from dual;

JSON_VALUE('"ASDFG"', '$')                                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('"asdfg"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('"asdfg"', '$') from dual;

JSON_QUERY('"ASDFG"', '$')                                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('"asdfg"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --However
SQL> select json_array('asdfg', '"asdfg"') from dual;

JSON_ARRAY('ASDFG', '"ASDFG"')                                  
----------------------------------------------------------------
["asdfg","\"asdfg\""]                                           

1 rows fetched.

SQL> --["asdfg","\"asdfg\""]
SQL> select json_array('asdfg' format json, '"asdfg"' format json) from dual;

CT-02504, [1:20]JSON syntax error, unexpected a found
SQL> --[asdfg,"asdfg"]      --this case we think it a bug.
SQL> 
SQL> 
SQL> -------------------------------------------------------------------------
SQL> --boolean
SQL> --orcale: invalid identifier
SQL> select json_value(true, '$') from dual;

JSON_VALUE(TRUE, '$')                                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value(true, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_value(false, '$') from dual;

JSON_VALUE(FALSE, '$')                                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value(false, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query(true, '$') from dual;

JSON_QUERY(TRUE, '$')                                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query(true, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query(false, '$') from dual;

JSON_QUERY(FALSE, '$')                                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query(false, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --orcale: JSON syntax error
SQL> select json_value('true', '$') from dual;

JSON_VALUE('TRUE', '$')                                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('true', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_value('false', '$') from dual;

JSON_VALUE('FALSE', '$')                                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('false', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('true', '$') from dual;

JSON_QUERY('TRUE', '$')                                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('true', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('false', '$') from dual;

JSON_QUERY('FALSE', '$')                                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('false', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --orcale: JSON syntax error
SQL> select json_value('"true"', '$') from dual;

JSON_VALUE('"TRUE"', '$')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('"true"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_value('"false"', '$') from dual;

JSON_VALUE('"FALSE"', '$')                                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('"false"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('"true"', '$') from dual;

JSON_QUERY('"TRUE"', '$')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('"true"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('"false"', '$') from dual;

JSON_QUERY('"FALSE"', '$')                                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('"false"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --orcale: JSON syntax error
SQL> select json_value('false', '$.a.b') from dual;

JSON_VALUE('FALSE', '$.A.B')                                    
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('false', '$.a.b' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_value('false', '$.a.b' null on error) from dual;

JSON_VALUE('FALSE', '$.A.B' NULL ON ERROR)                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> select json_value('false', '$.a.b' error on empty) from dual;--doesn't take effect

JSON_VALUE('FALSE', '$.A.B' ERROR ON EMPTY)                     
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('false', '$.a.b' null on empty) from dual;--doesn't take effect

JSON_VALUE('FALSE', '$.A.B' NULL ON EMPTY)                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> --the first param of json_value and json_query is scalar will raise a json data syntax error
SQL> 
SQL> 
SQL> --However
SQL> select json_array('true', '"true"') from dual;

JSON_ARRAY('TRUE', '"TRUE"')                                    
----------------------------------------------------------------
["true","\"true\""]                                             

1 rows fetched.

SQL> --["true","\"true\""]
SQL> select json_array('true' format json, '"true"' format json) from dual;

JSON_ARRAY('TRUE' FORMAT JSON, '"TRUE"' FORMAT JSON)            
----------------------------------------------------------------
[true,"true"]                                                   

1 rows fetched.

SQL> --[true,"true"]
SQL> 
SQL> --(ERROR_EMPTY_TEST)
SQL> -----------------------------------------------------other cases of error occurs
SQL> -------------------------------------------------------------------------
SQL> --orcale: JSON_VALUE evaluated to non-scalar value
SQL> select json_value('{"asd":256}', '$') from dual;

JSON_VALUE('{"ASD":256}', '$')                                  
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"asd":256}', '$' error on error) from dual;

CT-02506, JSON_VALUE evaluated to non-scalar value
SQL> select json_value('{"asd":256}', '$' error on empty) from dual;    --doesn't take effect

JSON_VALUE('{"ASD":256}', '$' ERROR ON EMPTY)                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> --orcale: result cannot be returned without array wrapper
SQL> select json_query('{"asd":256}', '$.asd') from dual;

JSON_QUERY('{"ASD":256}', '$.ASD')                              
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{"asd":256}', '$.asd' error on error) from dual;

CT-02506, JSON_VALUE evaluated to scalar value
SQL> select json_query('{"asd":256}', '$.asd' error on empty) from dual;    --doesn't take effect

JSON_QUERY('{"ASD":256}', '$.ASD' ERROR ON EMPTY)               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> --matched data, if the json_value meets the non-scalar value or json_query meets the scalar value will raise error, default seetings are null on error
SQL> --not empty reult, empty cl doesn't take effect
SQL> 
SQL> 
SQL> 
SQL> -------------------------------------------------------------------------
SQL> --you can regards it as error clause or empty clause ,default seetings are null on error, null on empty.
SQL> select json_value('{"asd":256}', '$.asda') from dual;

JSON_VALUE('{"ASD":256}', '$.ASDA')                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"asd":256}', '$.asda' error on error) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> 
SQL> select json_query('{"asd":256}', '$.asda') from dual;

JSON_QUERY('{"ASD":256}', '$.ASDA')                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{"asd":256}', '$.asda' error on error) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> 
SQL> --every sql takes effect
SQL> select json_value('{"asd":256}', '$.asda' null on error) from dual;

JSON_VALUE('{"ASD":256}', '$.ASDA' NULL ON ERROR)               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"asd":256}', '$.asda' null on empty) from dual;

JSON_VALUE('{"ASD":256}', '$.ASDA' NULL ON EMPTY)               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"asd":256}', '$.asda' error on error) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> select json_value('{"asd":256}', '$.asda' error on empty) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> 
SQL> --but empty clause has much Higher priority
SQL> select json_value('{"asd":256}', '$.asda' error on error null on empty) from dual;

JSON_VALUE('{"ASD":256}', '$.ASDA' ERROR ON ERROR NULL ON EMPTY)
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"asd":256}', '$.asda' error on error error on empty) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> select json_value('{"asd":256}', '$.asda' null on error error on empty) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> select json_value('{"asd":256}', '$.asda' null on error null on empty) from dual;

JSON_VALUE('{"ASD":256}', '$.ASDA' NULL ON ERROR NULL ON EMPTY) 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> 
SQL> -------------------------------------------------------------------------
SQL> --empty clause don't Take effect when json data syntax error occurs
SQL> select json_value('{"asd":::::256}', '$') from dual;

JSON_VALUE('{"ASD":::::256}', '$')                              
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"asd":::::256}', '$' error on error) from dual;

CT-02504, [1:27]JSON syntax error, unexpected : found
SQL> select json_value('{"asd":::::256}', '$' error on empty) from dual;    --don't Take effect

JSON_VALUE('{"ASD":::::256}', '$' ERROR ON EMPTY)               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> select json_query('{"asd"::34::55:256}', '$') from dual;

JSON_QUERY('{"ASD"::34::55:256}', '$')                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{"asd":::34::256}', '$' error on error) from dual;

CT-02504, [1:27]JSON syntax error, unexpected : found
SQL> select json_query('{"asd":::34::256}', '$' error on empty) from dual;    --don't Take effect

JSON_QUERY('{"ASD":::34::256}', '$' ERROR ON EMPTY)             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> 
SQL> -------------------------------------------------------------------------
SQL> --error clause and empty clause don't Take effect when path expr syntax error occurs
SQL> select json_value('{"asd":256}', '$[to 7, *].asda') from dual; --- zenith think it invalid.

CT-02503, JSON path expression syntax error, array wildcard must be used alone
SQL> 
SQL> select json_value('{"asd":256}', '$[ 7, *].asda') from dual;

CT-02503, JSON path expression syntax error, array wildcard must be used alone
SQL> select json_value('{"asd":256}', '$[ 7, *].asda' error on error) from dual;

CT-02503, JSON path expression syntax error, array wildcard must be used alone
SQL> select json_value('{"asd":256}', '$[ 7, *].asda' null on empty) from dual;

CT-02503, JSON path expression syntax error, array wildcard must be used alone
SQL> select json_value('{"asd":256}', '$[ 7[].asda') from dual;

CT-02503, JSON path expression syntax error, invlid array index
SQL> select json_value('{"asd":256}', '$[ 7[].asda' error on error) from dual;

CT-02503, JSON path expression syntax error, invlid array index
SQL> select json_value('{"asd":256}', '$[ 7[].asda' null on empty) from dual;

CT-02503, JSON path expression syntax error, invlid array index
SQL> select json_value('{"asd":256}', '$[ 7].as....da') from dual;

CT-02503, JSON path expression syntax error, invlid step name
SQL> select json_value('{"asd":256}', '$[ 7].as....da' error on error) from dual;

CT-02503, JSON path expression syntax error, invlid step name
SQL> select json_value('{"asd":256}', '$[ 7].as....da' null on empty) from dual;

CT-02503, JSON path expression syntax error, invlid step name
SQL> select json_value('{"asd":256}', '$.a[].sd') from dual;

CT-02503, JSON path expression syntax error, array subscript not specified
SQL> select json_value('{"asd":256}', '$.a[].sd' error on error) from dual;

CT-02503, JSON path expression syntax error, array subscript not specified
SQL> select json_value('{"asd":256}', '$.a[].sd' null on empty) from dual;

CT-02503, JSON path expression syntax error, array subscript not specified
SQL> select json_value('{"asd":"zxcv"}', '$.asd.xxx()' null on error) from dual;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> select json_value('{"asd":"zxcv"}', '$.asd.xxx()' null on empty) from dual;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> 
SQL> select json_query('{"asd":256}', '[ 7].asda') from dual;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> select json_query('{"asd":256}', '[ 7].asda' error on error) from dual;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> select json_query('{"asd":256}', '[ 7].asda' null on empty) from dual;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> select json_query('{"asd":256}', '[ 7].asda.ff()') from dual;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> select json_query('{"asd":256}', '[ 7].asda.ff()' error on error) from dual;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> select json_query('{"asd":256}', '[ 7].asda.ff()' null on empty) from dual;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> 
SQL> 
SQL> 
SQL> -------------------------------------------------------------------------
SQL> --error clause and empty clause don't Take effect when path clause syntax error occurs
SQL> select json_value('{"asd":256}', '$' ddss) from dual;

CT-02501, Invalid RETURNING/ON clause, 
SQL> select json_value('{"asd":256}', '$' ddss error on error) from dual;

CT-02501, Invalid RETURNING/ON clause, 
SQL> select json_value('{"asd":256}', '$' ddss null on empty) from dual;

CT-02501, Invalid RETURNING/ON clause, 
SQL> 
SQL> select json_query('{"asd":256}', '$' null to error) from dual;

CT-02501, Invalid RETURNING/ON clause, 
SQL> select json_query('{"asd":256}', '$' error  error) from dual;

CT-02501, Invalid RETURNING/ON clause, 
SQL> select json_query('{"asd":256}', '$' null  empty) from dual;

CT-02501, Invalid RETURNING/ON clause, 
SQL> 
SQL> -------------------------------------------------------------------------
SQL> --some empty clause and error clause only apears in json_query
SQL> select json_query('{"name":"12345678"}', '$.name1' empty array on empty ) from dual;

JSON_QUERY('{"NAME":"12345678"}', '$.NAME1' EMPTY ARRAY ON EMPTY
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> select json_query('{"name":"12345678"}', '$.name1' empty on empty ) from dual;

JSON_QUERY('{"NAME":"12345678"}', '$.NAME1' EMPTY ON EMPTY )    
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> select json_query('{"name":"12345678"}', '$.name1' empty object on empty ) from dual;

JSON_QUERY('{"NAME":"12345678"}', '$.NAME1' EMPTY OBJECT ON EMPT
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> 
SQL> select json_value('{"name":"12345678"}', '$.name1' empty array on empty ) from dual; --error clasue syntax

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select json_value('{"name":"12345678"}', '$.name1' empty on empty ) from dual; --error clasue syntax

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select json_value('{"name":"12345678"}', '$.name1' empty object on empty ) from dual; --error clasue syntax

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> 
SQL> select json_query('{"name":"12345678"}', '$.name1' empty array on error ) from dual;

JSON_QUERY('{"NAME":"12345678"}', '$.NAME1' EMPTY ARRAY ON ERROR
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> select json_query('{"name":"12345678"}', '$.name1' empty on error ) from dual;

JSON_QUERY('{"NAME":"12345678"}', '$.NAME1' EMPTY ON ERROR )    
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> select json_query('{"name":"12345678"}', '$.name1' empty object on error ) from dual;

JSON_QUERY('{"NAME":"12345678"}', '$.NAME1' EMPTY OBJECT ON ERRO
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> select json_query('{"name":"12345678"}', '$.name1' empty array on error null on empty) from dual; --empty clasue has higher priority

JSON_QUERY('{"NAME":"12345678"}', '$.NAME1' EMPTY ARRAY ON ERROR
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{"name":"12345678"}', '$.name1' empty on error null on empty) from dual; --empty clasue has higher priority

JSON_QUERY('{"NAME":"12345678"}', '$.NAME1' EMPTY ON ERROR NULL 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{"name":"12345678"}', '$.name1' empty object on error null on empty) from dual; --empty clasue has higher priority

JSON_QUERY('{"NAME":"12345678"}', '$.NAME1' EMPTY OBJECT ON ERRO
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> select json_value('{"name":"12345678"}', '$.name1' empty array on error ) from dual; --error clasue syntax

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select json_value('{"name":"12345678"}', '$.name1' empty on error ) from dual; --error clasue syntax

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select json_value('{"name":"12345678"}', '$.name1' empty object on error ) from dual; --error clasue syntax

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> 
SQL> -------------------------------------------------------------------------
SQL> ------------------------- IS JSON ---------------------------------------
SQL> -------------------------------------------------------------------------
SQL> 
SQL> select 1 from dual where '{"name":[1,2,3,"12356"]}' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '{"name":[1,2,3,"12356"]}' is not json;

1           
------------

0 rows fetched.

SQL> 
SQL> select 1 from dual where '{"name":[1,2,3,"12356":56]}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{"name":[1,2,3,"12356":56]}' is not json;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> select 1 from dual where '{"name":1,2,3,"12356"]}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{"name":1,2,3,"12356"]}' is not json;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> select 1 from dual where '123' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '123' is not json;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> select 1 from dual where 123 is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 123 is not json;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> select 1 from dual where 'asd' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'asd' is not json;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> select json_array(123,'123') from dual;

JSON_ARRAY(123,'123')                                           
----------------------------------------------------------------
[123,"123"]                                                     

1 rows fetched.

SQL> select json_array(123,'123' format json) from dual;

JSON_ARRAY(123,'123' FORMAT JSON)                               
----------------------------------------------------------------
[123,123]                                                       

1 rows fetched.

SQL> 
SQL> select 1 from dual where true is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where true is not json;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> select 1 from dual where 'true' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'true' is not json;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> select 1 from dual where null is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where null is not json;

1           
------------

0 rows fetched.

SQL> 
SQL> DROP TABLE j_purchaseorder;

Succeed.

SQL> CREATE TABLE j_purchaseorder
  2    (id          int NOT NULL,
  3     po_document varchar(4000)
  4     CONSTRAINT ensure_json CHECK (po_document IS JSON));

Succeed.

SQL> 
SQL> truncate table j_purchaseorder;

Succeed.

SQL> insert into j_purchaseorder values(1, '{"name":[1,2,3,"12356"]}');

1 rows affected.

SQL> insert into j_purchaseorder values(1, '"name":1,2,3,"12356"]}');

CT-01127, Check constraint violated
SQL> select * from j_purchaseorder;

ID           PO_DOCUMENT                                                     
------------ ----------------------------------------------------------------
1            {"name":[1,2,3,"12356"]}                                        

1 rows fetched.

SQL> select po_document from j_purchaseorder where po_document is json;

PO_DOCUMENT                                                     
----------------------------------------------------------------
{"name":[1,2,3,"12356"]}                                        

1 rows fetched.

SQL> select po_document from j_purchaseorder where po_document is not json;

PO_DOCUMENT                                                     
----------------------------------------------------------------

0 rows fetched.

SQL> 
SQL> DROP TABLE j_purchaseorder;

Succeed.

SQL> CREATE TABLE j_purchaseorder
  2    (id          int NOT NULL,
  3     po_document varchar(4000)
  4     CONSTRAINT ensure_json CHECK (po_document IS NOT JSON));

Succeed.

SQL> 
SQL> truncate table j_purchaseorder;

Succeed.

SQL> insert into j_purchaseorder values(1, '{"name":[1,2,3,"12356"]}');

CT-01127, Check constraint violated
SQL> insert into j_purchaseorder values(1, '"name":1,2,3,"12356"]}');

1 rows affected.

SQL> select * from j_purchaseorder;

ID           PO_DOCUMENT                                                     
------------ ----------------------------------------------------------------
1            "name":1,2,3,"12356"]}                                          

1 rows fetched.

SQL> select po_document from j_purchaseorder where po_document is json;

PO_DOCUMENT                                                     
----------------------------------------------------------------

0 rows fetched.

SQL> select po_document from j_purchaseorder where po_document is not json;

PO_DOCUMENT                                                     
----------------------------------------------------------------
"name":1,2,3,"12356"]}                                          

1 rows fetched.

SQL> 
SQL> DROP TABLE if exists j_purchaseorder;

Succeed.

SQL> CREATE TABLE j_purchaseorder
  2    (id          int NOT NULL,
  3     po_document clob
  4     CONSTRAINT ensure_json CHECK (po_document IS JSON));

Succeed.

SQL> 
SQL> truncate table j_purchaseorder;

Succeed.

SQL> insert into j_purchaseorder values(1, '{"name":[1,2,3,"12356"]}');

1 rows affected.

SQL> insert into j_purchaseorder values(1, '"name":1,2,3,"12356"]}');

CT-01127, Check constraint violated
SQL> select * from j_purchaseorder;

ID           PO_DOCUMENT                                                     
------------ ----------------------------------------------------------------
1            {"name":[1,2,3,"12356"]}                                        

1 rows fetched.

SQL> select po_document from j_purchaseorder where po_document is json;

PO_DOCUMENT                                                     
----------------------------------------------------------------
{"name":[1,2,3,"12356"]}                                        

1 rows fetched.

SQL> select po_document from j_purchaseorder where po_document is not json;

PO_DOCUMENT                                                     
----------------------------------------------------------------

0 rows fetched.

SQL> 
SQL> DROP TABLE if exists j_purchaseorder;

Succeed.

SQL> CREATE TABLE j_purchaseorder
  2    (id          int NOT NULL,
  3     po_document clob
  4     CONSTRAINT ensure_json CHECK (po_document IS NOT JSON));

Succeed.

SQL> 
SQL> truncate table j_purchaseorder;

Succeed.

SQL> insert into j_purchaseorder values(1, '{"name":[1,2,3,"12356"]}');

CT-01127, Check constraint violated
SQL> insert into j_purchaseorder values(1, '"name":1,2,3,"12356"]}');

1 rows affected.

SQL> select * from j_purchaseorder;

ID           PO_DOCUMENT                                                     
------------ ----------------------------------------------------------------
1            "name":1,2,3,"12356"]}                                          

1 rows fetched.

SQL> select po_document from j_purchaseorder where po_document is json;

PO_DOCUMENT                                                     
----------------------------------------------------------------

0 rows fetched.

SQL> select po_document from j_purchaseorder where po_document is not json;

PO_DOCUMENT                                                     
----------------------------------------------------------------
"name":1,2,3,"12356"]}                                          

1 rows fetched.

SQL> 
SQL> -------------------------------------------------------------------------
SQL> ------------------------- RETURNING CLAUSE ------------------------------
SQL> -------------------------------------------------------------------------
SQL> 
SQL> select json_value('{"name":[1,2,3,"12356"]}', '$.name[3]' returning clob) from dual;

JSON_VALUE('{"NAME":[1,2,3,"12356"]}', '$.NAME[3]' RETURNING CLO
----------------------------------------------------------------
12356                                                           

1 rows fetched.

SQL> select json_value('{"name":[1,2,3,"12356"]}', '$.name[3]' returning  varchar2) from dual;

JSON_VALUE('{"NAME":[1,2,3,"12356"]}', '$.NAME[3]' RETURNING  VA
----------------------------------------------------------------
12356                                                           

1 rows fetched.

SQL> 
SQL> select json_value('{"name":[1,2,3,"12356"]}', '$.name' ) from dual;

JSON_VALUE('{"NAME":[1,2,3,"12356"]}', '$.NAME' )               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"name":[1,2,3,"12356"]}', '$.name' returning  varchar2 null on error) from dual;

JSON_VALUE('{"NAME":[1,2,3,"12356"]}', '$.NAME' RETURNING  VARCH
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"name":[1,2,3,"12356"]}', '$.name' returning  varchar2 error on error) from dual;

CT-02506, JSON_VALUE evaluated to non-scalar value
SQL> select json_value('{"name":[1,2,3,"12356"]}', '$.name' returning  varchar2 null on empty) from dual;

JSON_VALUE('{"NAME":[1,2,3,"12356"]}', '$.NAME' RETURNING  VARCH
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"name":[1,2,3,"12356"]}', '$.name' returning  varchar2 error on empty) from dual;

JSON_VALUE('{"NAME":[1,2,3,"12356"]}', '$.NAME' RETURNING  VARCH
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> select json_query('{"name":[1,2,3,"12356"]}', '$.name' returning  varchar2 null on error) from dual;

JSON_QUERY('{"NAME":[1,2,3,"12356"]}', '$.NAME' RETURNING  VARCH
----------------------------------------------------------------
[1,2,3,"12356"]                                                 

1 rows fetched.

SQL> select json_query('{"name":[1,2,3,"12356"]}', '$.name' returning  varchar2 error on error) from dual;

JSON_QUERY('{"NAME":[1,2,3,"12356"]}', '$.NAME' RETURNING  VARCH
----------------------------------------------------------------
[1,2,3,"12356"]                                                 

1 rows fetched.

SQL> select json_query('{"name":[1,2,3,"12356"]}', '$.name' returning  varchar2 null on empty) from dual;

JSON_QUERY('{"NAME":[1,2,3,"12356"]}', '$.NAME' RETURNING  VARCH
----------------------------------------------------------------
[1,2,3,"12356"]                                                 

1 rows fetched.

SQL> select json_query('{"name":[1,2,3,"12356"]}', '$.name' returning  varchar2 error on empty) from dual;

JSON_QUERY('{"NAME":[1,2,3,"12356"]}', '$.NAME' RETURNING  VARCH
----------------------------------------------------------------
[1,2,3,"12356"]                                                 

1 rows fetched.

SQL> 
SQL> select json_query('{"name":[1,2,3,"12356"]}', '$.name1' returning  varchar2 null on error) from dual;

JSON_QUERY('{"NAME":[1,2,3,"12356"]}', '$.NAME1' RETURNING  VARC
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{"name":[1,2,3,"12356"]}', '$.name1' returning  varchar2 error on error) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> select json_query('{"name":[1,2,3,"12356"]}', '$.name1' returning  varchar2 null on empty) from dual;

JSON_QUERY('{"NAME":[1,2,3,"12356"]}', '$.NAME1' RETURNING  VARC
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{"name":[1,2,3,"12356"]}', '$.name1' returning  varchar2 error on empty) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> 
SQL> select json_value('{"name":[1,2,3,"12356"]}', '$.name' returning  varchar2 true on error) from dual;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select json_value('{"name":[1,2,3,"12356"]}', '$.name' returning  varchar2 false on error) from dual;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select json_value('{"name":[1,2,3,"12356"]}', '$.name' returning  varchar2 true on empty) from dual; --don't Take effect

CT-02501, Invalid RETURNING/ON clause, 
SQL> select json_value('{"name":[1,2,3,"12356"]}', '$.name' returning  varchar2 false on empty) from dual; --don't Take effect

CT-02501, Invalid RETURNING/ON clause, 
SQL> 
SQL> select JSON_value('{"name":"12345678"}', '$.name' returning  varchar2(32768) error on error) from dual;

CT-02501, Invalid RETURNING clause, specified length invalid for its datatype
SQL> select JSON_value('{"name":"12345678"}', '$.name' returning  varchar2(32767) error on error) from dual;

JSON_VALUE('{"NAME":"12345678"}', '$.NAME' RETURNING  VARCHAR2(3
----------------------------------------------------------------
12345678                                                        

1 rows fetched.

SQL> select JSON_value('{"name":"12345678"}', '$.name' returning  varchar2(4000) error on error) from dual;

JSON_VALUE('{"NAME":"12345678"}', '$.NAME' RETURNING  VARCHAR2(4
----------------------------------------------------------------
12345678                                                        

1 rows fetched.

SQL> select JSON_value('{"name":"12345678"}', '$.name' returning  varchar2(3900) error on error) from dual;

JSON_VALUE('{"NAME":"12345678"}', '$.NAME' RETURNING  VARCHAR2(3
----------------------------------------------------------------
12345678                                                        

1 rows fetched.

SQL> select JSON_value('{"name":"12345678"}', '$.name' returning  varchar2(10) error on error) from dual;

JSON_VALUE('{"NAME":"12345678"}', '$.NAME' RETURNING  VARCHAR2(1
----------------------------------------------------------------
12345678                                                        

1 rows fetched.

SQL> select JSON_value('{"name":"12345678"}', '$.name' returning  varchar2(9) error on error) from dual;

JSON_VALUE('{"NAME":"12345678"}', '$.NAME' RETURNING  VARCHAR2(9
----------------------------------------------------------------
12345678                                                        

1 rows fetched.

SQL> select JSON_value('{"name":"12345678"}', '$.name' returning  varchar2(8) error on error) from dual;

JSON_VALUE('{"NAME":"12345678"}', '$.NAME' RETURNING  VARCHAR2(8
----------------------------------------------------------------
12345678                                                        

1 rows fetched.

SQL> select JSON_value('{"name":"12345678"}', '$.name' returning  varchar2(7) error on error) from dual;

CT-02502, Output value too large
SQL> select JSON_value('{"name":"12345678"}', '$.name' returning  varchar2(3) error on error) from dual;

CT-02502, Output value too large
SQL> select JSON_value('{"name":"12345678"}', '$.name' returning  varchar2(0) error on error) from dual;

CT-02501, Invalid RETURNING clause, specified length invalid for its datatype
SQL> select JSON_value('{"name":"12345678"}', '$.name' returning  varchar2(-11) error on error) from dual;

CT-00601, Sql syntax error: Convert uint16 failed, the number text is not in the range of uint16, text = -11
SQL> 
SQL> select JSON_QUERY('{"name":"12345678"}', '$') from dual;

JSON_QUERY('{"NAME":"12345678"}', '$')                          
----------------------------------------------------------------
{"name":"12345678"}                                             

1 rows fetched.

SQL> select JSON_QUERY('{"name":"12345678"}', '$' returning  varchar2(32768) error on error) from dual;

CT-02501, Invalid RETURNING clause, specified length invalid for its datatype
SQL> select JSON_QUERY('{"name":"12345678"}', '$' returning  varchar2(32767) error on error) from dual;

JSON_QUERY('{"NAME":"12345678"}', '$' RETURNING  VARCHAR2(32767)
----------------------------------------------------------------
{"name":"12345678"}                                             

1 rows fetched.

SQL> select JSON_QUERY('{"name":"12345678"}', '$' returning  varchar2(4000) error on error) from dual;

JSON_QUERY('{"NAME":"12345678"}', '$' RETURNING  VARCHAR2(4000) 
----------------------------------------------------------------
{"name":"12345678"}                                             

1 rows fetched.

SQL> select JSON_QUERY('{"name":"12345678"}', '$' returning  varchar2(3900) error on error) from dual;

JSON_QUERY('{"NAME":"12345678"}', '$' RETURNING  VARCHAR2(3900) 
----------------------------------------------------------------
{"name":"12345678"}                                             

1 rows fetched.

SQL> select JSON_QUERY('{"name":"12345678"}', '$' returning  varchar2(10) error on error) from dual;

CT-02502, Output value too large
SQL> select JSON_QUERY('{"name":"12345678"}', '$' returning  varchar2(9) error on error) from dual;

CT-02502, Output value too large
SQL> select JSON_QUERY('{"name":"12345678"}', '$' returning  varchar2(8) error on error) from dual;

CT-02502, Output value too large
SQL> select JSON_QUERY('{"name":"12345678"}', '$' returning  varchar2(7) error on error) from dual;

CT-02502, Output value too large
SQL> select JSON_QUERY('{"name":"12345678"}', '$' returning  varchar2(3) error on error) from dual;

CT-02502, Output value too large
SQL> select JSON_QUERY('{"name":"12345678"}', '$' returning  varchar2(0) error on error) from dual;

CT-02501, Invalid RETURNING clause, specified length invalid for its datatype
SQL> select JSON_QUERY('{"name":"12345678"}', '$' returning  varchar2(-11) error on error) from dual;

CT-00601, Sql syntax error: Convert uint16 failed, the number text is not in the range of uint16, text = -11
SQL> 
SQL> -------------------------------------------------------------------------
SQL> ------------------------- escaped char ----------------------------------
SQL> -------------------------------------------------------------------------
SQL> 
SQL> select JSON_value('{"name":123}', '$.name')  from dual;

JSON_VALUE('{"NAME":123}', '$.NAME')                            
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> select 1 + JSON_value('{"name":123}', '$.name')  from dual;

1 + JSON_VALUE('{"NAME":123}', '$.NAME')
----------------------------------------
124                                     

1 rows fetched.

SQL> 
SQL> select JSON_value('{"name":true}', '$.name')  from dual;

JSON_VALUE('{"NAME":TRUE}', '$.NAME')                           
----------------------------------------------------------------
true                                                            

1 rows fetched.

SQL> select 1 from dual where JSON_value('{"name":true}', '$.name') = true;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where (select JSON_value('{"name":true}', '$.name') from dual) = true;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> select JSON_value('{"name":"123"}', '$.name')  from dual;

JSON_VALUE('{"NAME":"123"}', '$.NAME')                          
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> select JSON_value('{"name":123}', '$.name')  from dual;

JSON_VALUE('{"NAME":123}', '$.NAME')                            
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> select 1 + JSON_value('{"name":"123"}', '$.name')  from dual;

1 + JSON_VALUE('{"NAME":"123"}', '$.NAME')
------------------------------------------
124                                       

1 rows fetched.

SQL> 
SQL> select JSON_value('{"name":"true"}', '$.name')  from dual;

JSON_VALUE('{"NAME":"TRUE"}', '$.NAME')                         
----------------------------------------------------------------
true                                                            

1 rows fetched.

SQL> select JSON_value('{"name":true}', '$.name')  from dual;

JSON_VALUE('{"NAME":TRUE}', '$.NAME')                           
----------------------------------------------------------------
true                                                            

1 rows fetched.

SQL> 
SQL> select JSON_value('{"name":"\"123\""}', '$.name')  from dual;

JSON_VALUE('{"NAME":"\"123\""}', '$.NAME')                      
----------------------------------------------------------------
"123"                                                           

1 rows fetched.

SQL> select JSON_value('{"name":"\"123\"t"}', '$.name')  from dual;

JSON_VALUE('{"NAME":"\"123\"T"}', '$.NAME')                     
----------------------------------------------------------------
"123"t                                                          

1 rows fetched.

SQL> select JSON_value('{"name":"\"1\"2\"3\"t"}', '$.name')  from dual;

JSON_VALUE('{"NAME":"\"1\"2\"3\"T"}', '$.NAME')                 
----------------------------------------------------------------
"1"2"3"t                                                        

1 rows fetched.

SQL> 
SQL> select JSON_value('{"name":null}', '$.name')  from dual;

JSON_VALUE('{"NAME":NULL}', '$.NAME')                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select JSON_value('{"name":"null"}', '$.name')  from dual;

JSON_VALUE('{"NAME":"NULL"}', '$.NAME')                         
----------------------------------------------------------------
null                                                            

1 rows fetched.

SQL> select 1 from dual where (select JSON_value('{"name":null}', '$.name' error on error)  from dual) is null;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where (select JSON_value('{"name":null}', '$.name' error on empty)  from dual) is null;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> select JSON_query(null, '$')  from dual;

JSON_QUERY(NULL, '$')                                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select JSON_query(null, '$' error on error) from dual;

JSON_QUERY(NULL, '$' ERROR ON ERROR)                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select JSON_query(null, '$' error on empty) from dual;

JSON_QUERY(NULL, '$' ERROR ON EMPTY)                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> select JSON_value('{"name":"a\"sd\"fs"}', '$.name')  from dual;

JSON_VALUE('{"NAME":"A\"SD\"FS"}', '$.NAME')                    
----------------------------------------------------------------
a"sd"fs                                                         

1 rows fetched.

SQL> select JSON_value('{"name":"asdfs"}', '$.name')  from dual;

JSON_VALUE('{"NAME":"ASDFS"}', '$.NAME')                        
----------------------------------------------------------------
asdfs                                                           

1 rows fetched.

SQL> select JSON_value('{"name":"asd\"fs"}', '$.name')  from dual;

JSON_VALUE('{"NAME":"ASD\"FS"}', '$.NAME')                      
----------------------------------------------------------------
asd"fs                                                          

1 rows fetched.

SQL> select JSON_value('{"name":"asd"fs"}', '$.name')  from dual;

JSON_VALUE('{"NAME":"ASD"FS"}', '$.NAME')                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select JSON_value('{"name":"asd"fs"}', '$.name' error on error)  from dual;

CT-02504, [1:33]JSON syntax error, "," expected but f found
SQL> select JSON_value('{"name":"asd\\\"fs"}', '$.name' error on error)  from dual;

JSON_VALUE('{"NAME":"ASD\\\"FS"}', '$.NAME' ERROR ON ERROR)     
----------------------------------------------------------------
asd\"fs                                                         

1 rows fetched.

SQL> select JSON_value('{"name":"asd\"\"\\\\\"\\\\\"fs\""}', '$.name' error on error)  from dual;

JSON_VALUE('{"NAME":"ASD\"\"\\\\\"\\\\\"FS\""}', '$.NAME' ERROR 
----------------------------------------------------------------
asd""\\"\\"fs"                                                  

1 rows fetched.

SQL> 
SQL> select JSON_query('{"name":"a\"sd\"fs"}', '$')  from dual;

JSON_QUERY('{"NAME":"A\"SD\"FS"}', '$')                         
----------------------------------------------------------------
{"name":"a\"sd\"fs"}                                            

1 rows fetched.

SQL> select JSON_query('{"name":"asdfs"}', '$')  from dual;

JSON_QUERY('{"NAME":"ASDFS"}', '$')                             
----------------------------------------------------------------
{"name":"asdfs"}                                                

1 rows fetched.

SQL> select JSON_query('{"name":"asd\"fs"}', '$')  from dual;

JSON_QUERY('{"NAME":"ASD\"FS"}', '$')                           
----------------------------------------------------------------
{"name":"asd\"fs"}                                              

1 rows fetched.

SQL> select JSON_query('{"name":"asd"fs"}', '$')  from dual;

JSON_QUERY('{"NAME":"ASD"FS"}', '$')                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select JSON_query('{"name":"asd"fs"}', '$' error on error)  from dual;

CT-02504, [1:33]JSON syntax error, "," expected but f found
SQL> select JSON_query('{"name":"asd\\\"fs"}', '$')  from dual;

JSON_QUERY('{"NAME":"ASD\\\"FS"}', '$')                         
----------------------------------------------------------------
{"name":"asd\\\"fs"}                                            

1 rows fetched.

SQL> select JSON_query('{"name":"asd\"\"\\\\\"\\\\\"fs\\"}', '$')  from dual;

JSON_QUERY('{"NAME":"ASD\"\"\\\\\"\\\\\"FS\\"}', '$')           
----------------------------------------------------------------
{"name":"asd\"\"\\\\\"\\\\\"fs\\"}                              

1 rows fetched.

SQL> 
SQL> -------------------------------------------------------------------------
SQL> select 1 from dual where '{\"name\":\"asd\"fs\"}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{\\\"name\\\":\\\"asd\\\"fs\\\"}' is json;

1           
------------

0 rows fetched.

SQL> 
SQL> select JSON_ARRAY('{"name":"asd"fs"}') from dual;

JSON_ARRAY('{"NAME":"ASD"FS"}')                                 
----------------------------------------------------------------
["{\"name\":\"asd\"fs\"}"]                                      

1 rows fetched.

SQL> select JSON_ARRAY('{"name":"asd"fs"}' format json) from dual;

CT-02504, [1:33]JSON syntax error, "," expected but f found
SQL> select JSON_ARRAY('{"name":"asd\"fs"}') from dual;

JSON_ARRAY('{"NAME":"ASD\"FS"}')                                
----------------------------------------------------------------
["{\"name\":\"asd\\\"fs\"}"]                                    

1 rows fetched.

SQL> select JSON_ARRAY('{"name":"asd\"fs"}' format json ) from dual;

JSON_ARRAY('{"NAME":"ASD\"FS"}' FORMAT JSON )                   
----------------------------------------------------------------
[{"name":"asd\"fs"}]                                            

1 rows fetched.

SQL> select JSON_ARRAY('{"name":"asd"fs"}', '{"name":"asd"fs"}' format json) from dual;

CT-02504, [1:54]JSON syntax error, "," expected but f found
SQL> 
SQL> select JSON_OBJECT(key 'name' is '"asd"fs"') from dual;

JSON_OBJECT(KEY 'NAME' IS '"ASD"FS"')                           
----------------------------------------------------------------
{"name":"\"asd\"fs\""}                                          

1 rows fetched.

SQL> select JSON_OBJECT(key 'name' is '"asd"fs"' format json) from dual;

CT-02504, [1:40]JSON syntax error, unexpected terminate f found
SQL> select JSON_OBJECT(key 'name' is '"asd\"fs"') from dual;

JSON_OBJECT(KEY 'NAME' IS '"ASD\"FS"')                          
----------------------------------------------------------------
{"name":"\"asd\\\"fs\""}                                        

1 rows fetched.

SQL> select JSON_OBJECT(key 'name' is '"asd\"fs"' format json) from dual;

JSON_OBJECT(KEY 'NAME' IS '"ASD\"FS"' FORMAT JSON)              
----------------------------------------------------------------
{"name":"asd\"fs"}                                              

1 rows fetched.

SQL> select JSON_OBJECT(key 'n"am"e'  is '"asd"fs"') from dual;

JSON_OBJECT(KEY 'N"AM"E'  IS '"ASD"FS"')                        
----------------------------------------------------------------
{"n\"am\"e":"\"asd\"fs\""}                                      

1 rows fetched.

SQL> select JSON_OBJECT(key 'n"am"e'  is '"asd"fs"' format json ) from dual;

CT-02504, [1:43]JSON syntax error, unexpected terminate f found
SQL> 
SQL> -------------------------------------------------------------------------
SQL> ------------------------- FUNCTION INDEX ------------------------------
SQL> -------------------------------------------------------------------------
SQL> ----------------------------json_value
SQL> --normal index
SQL> DROP TABLE if exists j_purchaseorder;

Succeed.

SQL> CREATE TABLE j_purchaseorder
  2    (id          int NOT NULL,
  3     po_document clob
  4     CONSTRAINT ensure_json CHECK (po_document IS JSON));

Succeed.

SQL> 
SQL> truncate table j_purchaseorder;

Succeed.

SQL> insert into j_purchaseorder values(1, '{"name":"jdd"}');

1 rows affected.

SQL> insert into j_purchaseorder values(2, '{"name":"123"}');

1 rows affected.

SQL> insert into j_purchaseorder values(3, '{"name":"true"}');

1 rows affected.

SQL> insert into j_purchaseorder values(4, '{"name":"false"}');

1 rows affected.

SQL> insert into j_purchaseorder values(5, '{"namexxx":"false"}');

1 rows affected.

SQL> insert into j_purchaseorder values(6, '{"namexxx":[1,2,3]}');

1 rows affected.

SQL> insert into j_purchaseorder values(7, '{"namexxx":{"number":2563}}');

1 rows affected.

SQL> select * from j_purchaseorder;

ID           PO_DOCUMENT                                                     
------------ ----------------------------------------------------------------
1            {"name":"jdd"}                                                  
2            {"name":"123"}                                                  
3            {"name":"true"}                                                 
4            {"name":"false"}                                                
5            {"namexxx":"false"}                                             
6            {"namexxx":[1,2,3]}                                             
7            {"namexxx":{"number":2563}}                                     

7 rows fetched.

SQL> 
SQL> drop index if exists xxx_json_test_idx on j_purchaseorder;

Succeed.

SQL> create index xxx_json_test_idx on j_purchaseorder(JSON_VALUE(PO_DOCUMENT, '$.name'));

Succeed.

SQL> 
SQL> 
SQL> --unique index
SQL> DROP TABLE if exists j_purchaseorder;

Succeed.

SQL> CREATE TABLE j_purchaseorder
  2    (id          int NOT NULL,
  3     po_document varchar(4000)
  4     CONSTRAINT ensure_json CHECK (po_document IS JSON));

Succeed.

SQL> 
SQL> drop index if exists xxx_json_test_idx on j_purchaseorder;

Succeed.

SQL> create unique index xxx_json_test_idx on j_purchaseorder(JSON_VALUE(PO_DOCUMENT, '$[1]'));

Succeed.

SQL> 
SQL> truncate table j_purchaseorder;

Succeed.

SQL> insert into j_purchaseorder values(1, '["abc","def","qwe"]');

1 rows affected.

SQL> insert into j_purchaseorder values(2, '["abfewfc","dedfs","qwesaew"]');

1 rows affected.

SQL> insert into j_purchaseorder values(3, '["abteyythc","def","qwergwefe"]');

CT-00729, Unique constraint violated, index XXX_JSON_TEST_IDX, duplicate key def
SQL> insert into j_purchaseorder values(4, '["absadsrfewfc","dedssdfs","qwfgvdsesaew"]');

1 rows affected.

SQL> insert into j_purchaseorder values(5, '["abteyyth2334432c","def","qwer543543gwefe"]');

CT-00729, Unique constraint violated, index XXX_JSON_TEST_IDX, duplicate key def
SQL> 
SQL> select JSON_value('["abc","def","qwe"]', '$[1]') from dual;

JSON_VALUE('["ABC","DEF","QWE"]', '$[1]')                       
----------------------------------------------------------------
def                                                             

1 rows fetched.

SQL> select JSON_value('["abfewfc","dedfs","qwesaew"]', '$[1]') from dual;

JSON_VALUE('["ABFEWFC","DEDFS","QWESAEW"]', '$[1]')             
----------------------------------------------------------------
dedfs                                                           

1 rows fetched.

SQL> select JSON_value('["abteyythc","def","qwergwefe"]', '$[1]') from dual;

JSON_VALUE('["ABTEYYTHC","DEF","QWERGWEFE"]', '$[1]')           
----------------------------------------------------------------
def                                                             

1 rows fetched.

SQL> select JSON_value('["absadsrfewfc","dedssdfs","qwfgvdsesaew"]', '$[1]') from dual;

JSON_VALUE('["ABSADSRFEWFC","DEDSSDFS","QWFGVDSESAEW"]', '$[1]')
----------------------------------------------------------------
dedssdfs                                                        

1 rows fetched.

SQL> select JSON_value('["abteyyth2334432c","def","qwer543543gwefe"]', '$[1]') from dual;

JSON_VALUE('["ABTEYYTH2334432C","DEF","QWER543543GWEFE"]', '$[1]
----------------------------------------------------------------
def                                                             

1 rows fetched.

SQL> select * from j_purchaseorder;

ID           PO_DOCUMENT                                                     
------------ ----------------------------------------------------------------
1            ["abc","def","qwe"]                                             
2            ["abfewfc","dedfs","qwesaew"]                                   
4            ["absadsrfewfc","dedssdfs","qwfgvdsesaew"]                      

3 rows fetched.

SQL> 
SQL> DROP TABLE if exists j_purchaseorder;

Succeed.

SQL> 
SQL> -------------------------------------------------------------------------
SQL> ------------------------- extra test ------------------------------------
SQL> -------------------------------------------------------------------------
SQL> 
SQL> SELECT json_value('{"name":123}', '$.name') from dual;

JSON_VALUE('{"NAME":123}', '$.NAME')                            
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> SELECT json_value('{"name":123}', '$[0].name') from dual;

JSON_VALUE('{"NAME":123}', '$[0].NAME')                         
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> SELECT json_value('{"name":123}', '$[*].name') from dual;

JSON_VALUE('{"NAME":123}', '$[*].NAME')                         
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> 
SQL> SELECT json_value('{"name":123}', '  $  .   name') from dual;

JSON_VALUE('{"NAME":123}', '  $  .   NAME')                     
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> SELECT json_value('{"name":123}', '  $  [ 0 ]  .  name') from dual;

JSON_VALUE('{"NAME":123}', '  $  [ 0 ]  .  NAME')               
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> SELECT json_value('{"name":123}', '  $  [ * ]  .  name') from dual;

JSON_VALUE('{"NAME":123}', '  $  [ * ]  .  NAME')               
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> 
SQL> --pass 
SQL> DROP  TABLE if exists  j_purchaseorder;

Succeed.

SQL> CREATE TABLE j_purchaseorder
  2    (id          RAW (16) NOT NULL,
  3     date_loaded TIMESTAMP WITH TIME ZONE,
  4     po_document CLOB
  5     CONSTRAINT ensure_json CHECK (po_document IS JSON)); 

Succeed.

SQL> 
SQL> truncate table j_purchaseorder;

Succeed.

SQL> INSERT INTO j_purchaseorder VALUES (
  2     SYS_GUID(),
  3     SYSTIMESTAMP,
  4     '[[[{"name":123},2],[3,4]],[[5,6],[7,8]]]');

1 rows affected.

SQL> COMMIT;

Succeed.

SQL> 
SQL> --zenith
SQL> SELECT json_value(po_document, '$[0].*[0].*[0].name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0].*[0].*[0].NAME')                  
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> SELECT json_value(po_document, '$[0].[0].[0].name') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, step name not specified
SQL> SELECT json_value(po_document, '$[to].[to].[to].name') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, step name not specified
SQL> SELECT json_value(po_document, '$[*].*[*].*[*].name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].*[*].*[*].NAME')                  
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> SELECT json_value(po_document, '$.*.*.name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$.*.*.NAME')                           
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> 
SQL> SELECT json_value(po_document, '$ [0] [0] [0] . name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$ [0] [0] [0] . NAME')                 
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> SELECT json_value(po_document, '$ [*] [*] [*] . name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$ [*] [*] [*] . NAME')                 
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> SELECT json_value(po_document, '$ [ * ] [  to  , to,  to  ] [*] . name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$ [ * ] [  TO  , TO,  TO  ] [*] . NAME'
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> SELECT json_value(po_document, '$ [to] [to] [to] . name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$ [TO] [TO] [TO] . NAME')              
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> SELECT json_value(po_document, '$ [to]. [to  , to,  to] [to] . name') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, step name not specified
SQL> SELECT json_value(po_document, '$ [to] [to  , to,  to]. [to] . name') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, step name not specified
SQL> SELECT json_query(po_document, '$  [0] [0]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$  [0] [0]')                           
----------------------------------------------------------------
[{"name":123},2]                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$  [to] [to]') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$  [TO] [TO]')                         
----------------------------------------------------------------
[{"name":123},2]                                                

1 rows fetched.

SQL> SELECT json_query(po_document, '$  [to]  ') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '$  [TO]  ')                            
----------------------------------------------------------------
[[{"name":123},2],[3,4]]                                        

1 rows fetched.

SQL> SELECT json_query(po_document, '  $    ') FROM j_purchaseorder;

JSON_QUERY(PO_DOCUMENT, '  $    ')                              
----------------------------------------------------------------
[[[{"name":123},2],[3,4]],[[5,6],[7,8]]]                        

1 rows fetched.

SQL> 
SQL> --orcale, we don't support this syntax, it has Great ambiguity
SQL> SELECT json_value(po_document, '$[*].name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[*].NAME')                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[0].name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0].NAME')                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[to].name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[TO].NAME')                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[0][0].name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0][0].NAME')                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[0][0][0].name') FROM j_purchaseorder;  -- same as zenith

JSON_VALUE(PO_DOCUMENT, '$[0][0][0].NAME')                      
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> SELECT json_value(po_document, '$[to][to][to].name') FROM j_purchaseorder;  -- same as zenith

JSON_VALUE(PO_DOCUMENT, '$[TO][TO][TO].NAME')                   
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> SELECT json_value(po_document, '$[to][to][to][to].name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[TO][TO][TO][TO].NAME')               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> SELECT json_value(po_document, '$[0][0][0][0].name') FROM j_purchaseorder;

JSON_VALUE(PO_DOCUMENT, '$[0][0][0][0].NAME')                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> --error
SQL> SELECT json_value(po_document, '$[0][[0][0].name') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, invlid array index
SQL> SELECT json_value(po_document, '$[0][0]][0].name') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, 
SQL> SELECT json_value(po_document, '$[0][][0][0].name') FROM j_purchaseorder;

CT-02503, JSON path expression syntax error, 
SQL> 
SQL> -------------------------------------------------------------------------
SQL> ------------------------- final all test --------------------------------
SQL> -------------------------------------------------------------------------
SQL> ---------------------------------------------------------------------1. json data format (plain string)
SQL> --invalid single plain string test
SQL> select 1 from dual where null is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where asdfdf is json;

CT-00601, [1:26]Sql syntax error: invalid column name 'ASDFDF'
SQL> select 1 from dual where 'asdfdf' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'htjnyrhbtgregt' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'htjnyrhb343543534dstgregt' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '"asdfdf"' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '"asdfdfhtjnyrhbtgregt"' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '"asdfdfhtjnyrhb343543534dstgregt"' is json;

1           
------------

0 rows fetched.

SQL> 
SQL> select json_value('asdfdfasdfdf', '$') from dual;

JSON_VALUE('ASDFDFASDFDF', '$')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('"asdfdfasdfdf"', '$') from dual;

JSON_VALUE('"ASDFDFASDFDF"', '$')                               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select 1 from dual where json_value('asdfdfasdfdf', '$') is null;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_value('"asdfdfasdfdf"', '$') is null;

1           
------------
1           

1 rows fetched.

SQL> select json_value('asdfdfasdfdf', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_value('"asdfdfasdfdf"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> select json_value('asdfd\"\t\'\\fasdfdf', '$') from dual;

CT-00601, [1:18]Sql syntax error: text is not completed
SQL> select json_value('"asdfd\"\t\'\\fasdfdf"', '$') from dual;

CT-00601, [1:18]Sql syntax error: text is not completed
SQL> select 1 from dual where json_value('asdfd\"\t\'\\fasdfdf', '$') is null;

CT-00601, [1:36]Sql syntax error: text is not completed
SQL> select 1 from dual where json_value('"asdfd\"\t\'\\fasdfdf"', '$') is null;

CT-00601, [1:36]Sql syntax error: text is not completed
SQL> select json_value('asdfd\"\t\'\\fas\"\t\'\\dfdf', '$' error on error) from dual;

CT-00601, [1:18]Sql syntax error: text is not completed
SQL> select json_value('"asdfd\"\t\'\\fasdf\"\t\'\\df"', '$' error on error) from dual;

CT-00601, [1:18]Sql syntax error: text is not completed
SQL> 
SQL> --(RETUNING_SIZE_TEST)
SQL> --max length test, default 3900
SQL> select json_value('{"name":"123456789"}','$.name') from dual;

JSON_VALUE('{"NAME":"123456789"}','$.NAME')                     
----------------------------------------------------------------
123456789                                                       

1 rows fetched.

SQL> desc -q select json_value('{"name":"123456789"}','$.name') from dual;

Name                                           Null?    Type                                
---------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"123456789"}','$.NAME')             VARCHAR(3900 CHAR)                  

SQL> select json_value('{"name":"123456789qwertyuiopasdfghjkl"}','$.name') from dual;

JSON_VALUE('{"NAME":"123456789QWERTYUIOPASDFGHJKL"}','$.NAME')  
----------------------------------------------------------------
123456789qwertyuiopasdfghjkl                                    

1 rows fetched.

SQL> desc -q select json_value('{"name":"123456789qwertyuiopasdfghjkl"}','$.name') from dual;

Name                                                              Null?    Type                                
----------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"123456789QWERTYUIOPASDFGHJKL"}','$.NAME')             VARCHAR(3900 CHAR)                  

SQL> 
SQL> select json_value('{"name":"123456789"}','$.name' returning varchar2(6)) from dual;

JSON_VALUE('{"NAME":"123456789"}','$.NAME' RETURNING VARCHAR2(6)
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"name":"123456789"}','$.name' returning varchar2(6) error on error) from dual;

CT-02502, Output value too large
SQL> 
SQL> select json_value('{"name":"123456789"}','$.name' returning varchar2(9) error on error) from dual;

JSON_VALUE('{"NAME":"123456789"}','$.NAME' RETURNING VARCHAR2(9)
----------------------------------------------------------------
123456789                                                       

1 rows fetched.

SQL> desc -q select json_value('{"name":"123456789"}','$.name' returning varchar2(9) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"123456789"}','$.NAME' RETURNING VARCHAR2(9)             VARCHAR(9 CHAR)                     

SQL> select json_value('{"name":"123456789"}','$.name' returning varchar2(20) error on error) from dual;

JSON_VALUE('{"NAME":"123456789"}','$.NAME' RETURNING VARCHAR2(20
----------------------------------------------------------------
123456789                                                       

1 rows fetched.

SQL> desc -q select json_value('{"name":"123456789"}','$.name' returning varchar2(20) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"123456789"}','$.NAME' RETURNING VARCHAR2(20             VARCHAR(20 CHAR)                    

SQL> 
SQL> select json_value('{"name":"123456789"}','$.name') from dual;

JSON_VALUE('{"NAME":"123456789"}','$.NAME')                     
----------------------------------------------------------------
123456789                                                       

1 rows fetched.

SQL> desc -q select json_value('{"name":"123456789"}','$.name') from dual;

Name                                           Null?    Type                                
---------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"123456789"}','$.NAME')             VARCHAR(3900 CHAR)                  

SQL> select json_value('{"name":"123456789"}','$.name' returning varchar2(20) error on error) from dual;

JSON_VALUE('{"NAME":"123456789"}','$.NAME' RETURNING VARCHAR2(20
----------------------------------------------------------------
123456789                                                       

1 rows fetched.

SQL> desc -q select json_value('{"name":"123456789"}','$.name' returning varchar2(20) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"123456789"}','$.NAME' RETURNING VARCHAR2(20             VARCHAR(20 CHAR)                    

SQL> select json_value('{"name":"123456789"}','$.name' returning varchar2(3900) error on error) from dual;

JSON_VALUE('{"NAME":"123456789"}','$.NAME' RETURNING VARCHAR2(39
----------------------------------------------------------------
123456789                                                       

1 rows fetched.

SQL> desc -q select json_value('{"name":"123456789"}','$.name' returning varchar2(3900) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"123456789"}','$.NAME' RETURNING VARCHAR2(39             VARCHAR(3900 CHAR)                  

SQL> select json_value('{"name":"123456789"}','$.name' returning varchar2(4000) error on error) from dual;

JSON_VALUE('{"NAME":"123456789"}','$.NAME' RETURNING VARCHAR2(40
----------------------------------------------------------------
123456789                                                       

1 rows fetched.

SQL> desc -q select json_value('{"name":"123456789"}','$.name' returning varchar2(4000) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"123456789"}','$.NAME' RETURNING VARCHAR2(40             VARCHAR(4000 CHAR)                  

SQL> select json_value('{"name":"123456789"}','$.name' returning varchar2(7000) error on error) from dual;

JSON_VALUE('{"NAME":"123456789"}','$.NAME' RETURNING VARCHAR2(70
----------------------------------------------------------------
123456789                                                       

1 rows fetched.

SQL> desc -q select json_value('{"name":"123456789"}','$.name' returning varchar2(7000) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"123456789"}','$.NAME' RETURNING VARCHAR2(70             VARCHAR(7000 CHAR)                  

SQL> 
SQL> select json_value('{"name":"' || lpad('asdds', 9, 'as') || '"}','$.name') from dual;

JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 9, 'AS') || '"}','$.NAME
----------------------------------------------------------------
asasasdds                                                       

1 rows fetched.

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 9, 'as') || '"}','$.name') from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 9, 'AS') || '"}','$.NAME             VARCHAR(3900 CHAR)                  

SQL> select json_value('{"name":"' || lpad('asdds', 9, 'as') || '"}','$.name' returning varchar2(20) error on error) from dual;

JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 9, 'AS') || '"}','$.NAME
----------------------------------------------------------------
asasasdds                                                       

1 rows fetched.

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 9, 'as') || '"}','$.name' returning varchar2(20) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 9, 'AS') || '"}','$.NAME             VARCHAR(20 CHAR)                    

SQL> select json_value('{"name":"' || lpad('asdds', 9, 'as') || '"}','$.name' returning varchar2(3900) error on error) from dual;

JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 9, 'AS') || '"}','$.NAME
----------------------------------------------------------------
asasasdds                                                       

1 rows fetched.

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 9, 'as') || '"}','$.name' returning varchar2(3900) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 9, 'AS') || '"}','$.NAME             VARCHAR(3900 CHAR)                  

SQL> select json_value('{"name":"' || lpad('asdds', 9, 'as') || '"}','$.name' returning varchar2(4000) error on error) from dual;

JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 9, 'AS') || '"}','$.NAME
----------------------------------------------------------------
asasasdds                                                       

1 rows fetched.

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 9, 'as') || '"}','$.name' returning varchar2(4000) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 9, 'AS') || '"}','$.NAME             VARCHAR(4000 CHAR)                  

SQL> select json_value('{"name":"' || lpad('asdds', 9, 'as') || '"}','$.name' returning varchar2(7000) error on error) from dual;

JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 9, 'AS') || '"}','$.NAME
----------------------------------------------------------------
asasasdds                                                       

1 rows fetched.

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 9, 'as') || '"}','$.name' returning varchar2(7000) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 9, 'AS') || '"}','$.NAME             VARCHAR(7000 CHAR)                  

SQL> 
SQL> 
SQL> --oracle lpad max 4000, zenith lpad max 8000, there has some  differ of lpad
SQL> select length(lpad('asdds', 8000, 'as')) from dual;

LENGTH(LPAD('ASDDS', 8000, 'AS'))
---------------------------------
8000                             

1 rows fetched.

SQL> select length(lpad('asdds', 8888, 'as')) from dual;

LENGTH(LPAD('ASDDS', 8888, 'AS'))
---------------------------------
8000                             

1 rows fetched.

SQL> select length(lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as')) from dual;

LENGTH(LPAD('ASDDS', 8000, 'AS') || LPAD('ASDDS', 8000, 'AS'))
--------------------------------------------------------------
16000                                                         

1 rows fetched.

SQL> select length(lpad('asdds', 8888, 'as') || lpad('asdds', 8000, 'as')) from dual;

LENGTH(LPAD('ASDDS', 8888, 'AS') || LPAD('ASDDS', 8000, 'AS'))
--------------------------------------------------------------
16000                                                         

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 9990, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 9990, 'AS') || '"}')
--------------------------------------------------------
8011                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 7990, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 7990, 'AS') || '"}')
--------------------------------------------------------
8001                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 7989, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 7989, 'AS') || '"}')
--------------------------------------------------------
8000                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 6666, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 6666, 'AS') || '"}')
--------------------------------------------------------
6677                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 4000, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 4000, 'AS') || '"}')
--------------------------------------------------------
4011                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 3990, 'as') || '"}') from dual; 

LENGTH('{"NAME":"' || LPAD('ASDDS', 3990, 'AS') || '"}')
--------------------------------------------------------
4001                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 3989, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 3989, 'AS') || '"}')
--------------------------------------------------------
4000                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 3899, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 3899, 'AS') || '"}')
--------------------------------------------------------
3910                                                    

1 rows fetched.

SQL> 
SQL> --there are some different behaviors between oracle and zenith , it caused by lpad() func.
SQL> --if first parm of json_value comes from str concat, its length max = 32767
SQL> --if first parm of json_value comes from varchar2, its length max = 8000
SQL> --if first parm of json_value comes from clob, its length can be bigger
SQL> --returning clause default 3900, range is 1 to 32767
SQL> select 1 from dual where ('{"name":"' || lpad('asdds', 100, 'as') || '"}') is json;

1           
------------
1           

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 1021, 'as') || '"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 1021, 'AS') || '"
----------------------------------------------------------------
1021                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 3900, 'as') || '"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 3900, 'AS') || '"
----------------------------------------------------------------
3900                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 3901, 'as') || '"}', '$.name' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_value('{"name":"' || lpad('asdds', 3901, 'as') || '"}', '$.name' returning varchar2(9999) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 3901, 'AS') || '"
----------------------------------------------------------------
3901                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 6666, 'as') || '"}', '$.name' returning varchar2(9999) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 6666, 'AS') || '"
----------------------------------------------------------------
6666                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 7000, 'as') || '"}', '$.name' returning varchar2(9999) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 7000, 'AS') || '"
----------------------------------------------------------------
7000                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || '"}', '$.name' returning varchar2(9999) error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || '"}', '$.name' returning varchar2(20001) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 8000, 'AS') || LP
----------------------------------------------------------------
16000                                                           

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || '"}', '$.name' returning varchar2(32767) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 8000, 'AS') || LP
----------------------------------------------------------------
16000                                                           

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || '"}', '$.name' returning varchar2(32768) error on error)) from dual;

CT-02501, Invalid RETURNING clause, specified length invalid for its datatype
SQL> select length(json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || '"}', '$.name' returning varchar2(40000) error on error)) from dual;

CT-02501, Invalid RETURNING clause, specified length invalid for its datatype
SQL> 
SQL> desc -q select json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || '"}', '$.name' returning varchar2(32767) error on error);

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 8000, 'AS') || LPAD('ASD             VARCHAR(32767 CHAR)                 

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || '"}', '$.name' returning varchar2(20001) error on error);

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 8000, 'AS') || LPAD('ASD             VARCHAR(20001 CHAR)                 

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 8000, 'as') || '"}', '$.name' returning varchar2(10000) error on error);

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 8000, 'AS') || '"}', '$.             VARCHAR(10000 CHAR)                 

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 8000, 'as') || '"}', '$.name' returning varchar2(8001) error on error);

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 8000, 'AS') || '"}', '$.             VARCHAR(8001 CHAR)                  

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 3500, 'as') || '"}', '$.name' returning varchar2(4000) error on error);

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 3500, 'AS') || '"}', '$.             VARCHAR(4000 CHAR)                  

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 3500, 'as') || '"}', '$.name' returning varchar2(3900) error on error);

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 3500, 'AS') || '"}', '$.             VARCHAR(3900 CHAR)                  

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 3500, 'as') || '"}', '$.name' returning varchar2(3800) error on error);

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 3500, 'AS') || '"}', '$.             VARCHAR(3800 CHAR)                  

SQL> 
SQL> --concat str can reach max length 32767
SQL> select length(json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || '"}', '$.name' returning varchar2(32767) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 8000, 'AS') || LP
----------------------------------------------------------------
32000                                                           

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || '"}', '$.name' returning varchar2(32767) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 8000, 'AS') || LP
----------------------------------------------------------------
32000                                                           

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 756, 'as') || '"}', '$.name' returning varchar2(32767) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 8000, 'AS') || LP
----------------------------------------------------------------
32756                                                           

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 757, 'as') || '"}', '$.name' returning varchar2(32767) error on error)) from dual;

CT-02504, [1:32793]JSON syntax error, "," expected but 
SQL> select length(json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 758, 'as') || '"}', '$.name' returning varchar2(32767) error on error)) from dual;

CT-02504, [1:32793]JSON syntax error, uncomplete string
SQL> select length(json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 759, 'as') || '"}', '$.name' returning varchar2(32767) error on error)) from dual;

CT-02504, [1:32793]JSON syntax error, uncomplete string
SQL> select length(json_value('{"name":"' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 768, 'as') || '"}', '$.name' returning varchar2(32767) error on error)) from dual;

CT-02504, [1:32793]JSON syntax error, uncomplete string
SQL> 
SQL> select length(json_value('["' || lpad('name', 8000, 'name') || '","' || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || lpad('asdds', 8000, 'as') || '"]', '$[0]' returning varchar2(32767) error on error)) from dual;

CT-02504, [1:32793]JSON syntax error, uncomplete string
SQL> 
SQL> --varchar2 type col can only store 8000
SQL> drop table if exists json_length_test;

Succeed.

SQL> create table json_length_test(a varchar2(8001));

CT-00601, [1:42]Sql syntax error: size value must between 1 and 8000
SQL> drop table if exists json_length_test;

Succeed.

SQL> create table json_length_test(a varchar2(8000));

Succeed.

SQL> insert into json_length_test values('{"name":"' || lpad('asdds', 7989, 'as') || '"}');

1 rows affected.

SQL> insert into json_length_test values('{"name":"' || lpad('asdds', 7990, 'as') || '"}');

CT-01346, The column "A" length exceeded the maximum, (actual: 8001, maximum: 8000).
SQL> select length(a) from  json_length_test;

LENGTH(A)           
--------------------
8000                

1 rows fetched.

SQL> select length(json_value(a, '$.name' error on error)) from  json_length_test;

CT-02502, Output value too large
SQL> select length(json_value(a, '$.name'returning varchar2(7988) error on error)) from  json_length_test;

CT-02502, Output value too large
SQL> select length(json_value(a, '$.name'returning varchar2(7989) error on error)) from  json_length_test;

LENGTH(JSON_VALUE(A, '$.NAME'RETURNING VARCHAR2(7989) ERROR ON E
----------------------------------------------------------------
7989                                                            

1 rows fetched.

SQL> select length(json_value(a, '$.name'returning varchar2(8000) error on error)) from  json_length_test;

LENGTH(JSON_VALUE(A, '$.NAME'RETURNING VARCHAR2(8000) ERROR ON E
----------------------------------------------------------------
7989                                                            

1 rows fetched.

SQL> drop table if exists json_length_test;

Succeed.

SQL> 
SQL> -- clob type col can store more data
SQL> drop table if exists json_length_test;

Succeed.

SQL> create table json_length_test(a clob);

Succeed.

SQL> truncate table json_length_test;

Succeed.

SQL> insert into json_length_test values(lpad('asdds', 7989, 'as'));

1 rows affected.

SQL> update json_length_test set a = a || '","' || a;

1 rows affected.

SQL> update json_length_test set a = a || '","' || a;

1 rows affected.

SQL> update json_length_test set a = a || '","' || a;

1 rows affected.

SQL> update json_length_test set a = '["' || a;

1 rows affected.

SQL> update json_length_test set a = a || '"]';

1 rows affected.

SQL> select 1 from json_length_test where a is json;

1           
------------
1           

1 rows fetched.

SQL> select length(a) from  json_length_test;

LENGTH(A)           
--------------------
63937               

1 rows fetched.

SQL> select length(json_value(a, '$.name' error on error)) from  json_length_test;

CT-02506, JSON_VALUE evaluated to no value
SQL> select length(json_value(a, '$.name'returning varchar2(7988) error on error)) from  json_length_test;

CT-02506, JSON_VALUE evaluated to no value
SQL> select length(json_value(a, '$.name'returning varchar2(7989) error on error)) from  json_length_test;

CT-02506, JSON_VALUE evaluated to no value
SQL> select length(json_value(a, '$.name'returning varchar2(8000) error on error)) from  json_length_test;

CT-02506, JSON_VALUE evaluated to no value
SQL> drop table if exists json_length_test;

Succeed.

SQL> 
SQL> 
SQL> --(ESCAPED_STRS_TEST)
SQL> --valid string in object/array and escaped str
SQL> select json_value('{"name":"asdfdfasdfdf"}', '$.name') from dual;

JSON_VALUE('{"NAME":"ASDFDFASDFDF"}', '$.NAME')                 
----------------------------------------------------------------
asdfdfasdfdf                                                    

1 rows fetched.

SQL> select length(json_value('{"name":"asdfdfasdfdf"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"ASDFDFASDFDF"}', '$.NAME'))
-------------------------------------------------------
12                                                     

1 rows fetched.

SQL> select json_value('{"name":"\\as\\dfdf\\\\\\asdf\\df"}', '$.name' error on error) from dual;

JSON_VALUE('{"NAME":"\\AS\\DFDF\\\\\\ASDF\\DF"}', '$.NAME' ERROR
----------------------------------------------------------------
\as\dfdf\\\asdf\df                                              

1 rows fetched.

SQL> select length(json_value('{"name":"\\as\\dfdf\\\\\\asdf\\df"}', '$.name' error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"\\AS\\DFDF\\\\\\ASDF\\DF"}', '$.NAME
----------------------------------------------------------------
18                                                              

1 rows fetched.

SQL> select json_value('{"name":"\"asdfd\"\"\"fasdfd\"f\""}', '$.name') from dual;

JSON_VALUE('{"NAME":"\"ASDFD\"\"\"FASDFD\"F\""}', '$.NAME')     
----------------------------------------------------------------
"asdfd"""fasdfd"f"                                              

1 rows fetched.

SQL> select length(json_value('{"name":"\"asdfd\"\"\"fasdfd\"f\""}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\"ASDFD\"\"\"FASDFD\"F\""}', '$.NAME
----------------------------------------------------------------
18                                                              

1 rows fetched.

SQL> select json_value('{"name":"\/\/\/asdf\/\/\/dfasd\/\/\/fdf\/\/\/"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\/\/\/ASDF\/\/\/DFASD\/\/\/FDF\/\/\/"}', '$
----------------------------------------------------------------
///asdf///dfasd///fdf///                                        

1 rows fetched.

SQL> select length(json_value('{"name":"\/\/\/asdf\/\/\/dfasd\/\/\/fdf\/\/\/"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\/\/\/ASDF\/\/\/DFASD\/\/\/FDF\/\/\/
----------------------------------------------------------------
24                                                              

1 rows fetched.

SQL> select json_value('{"name":"\nasdf\n\ndfasdf\n\ndf\n"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\NASDF\N\NDFASDF\N\NDF\N"}', '$.NAME')     
----------------------------------------------------------------

asdf

dfasdf

df
                                              

1 rows fetched.

SQL> select length(json_value('{"name":"\nasdf\n\ndfasdf\n\ndf\n"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\NASDF\N\NDFASDF\N\NDF\N"}', '$.NAME
----------------------------------------------------------------
18                                                              

1 rows fetched.

SQL> select json_value('{"name":"\fas\fdf\fd\f\f\ffa\fsdf\fdf\f\f"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\FAS\FDF\FD\F\F\FFA\FSDF\FDF\F\F"}', '$.NAM
----------------------------------------------------------------
asdfdfasdfdf                                          

1 rows fetched.

SQL> select length(json_value('{"name":"\fas\fdf\fd\f\f\ffa\fsdf\fdf\f\f"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\FAS\FDF\FD\F\F\FFA\FSDF\FDF\F\F"}',
----------------------------------------------------------------
22                                                              

1 rows fetched.

SQL> select json_value('{"name":"\tasd\tfdf\t\t\tasd\tfd\tf\t"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\TASD\TFDF\T\T\TASD\TFD\TF\T"}', '$.NAME') 
----------------------------------------------------------------
	asd	fdf			asd	fd	f	                                            

1 rows fetched.

SQL> select length(json_value('{"name":"\tasd\tfdf\t\t\tasd\tfd\tf\t"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\TASD\TFDF\T\T\TASD\TFD\TF\T"}', '$.
----------------------------------------------------------------
20                                                              

1 rows fetched.

SQL> select json_value('{"name":"\"asd\"fdf\"\"\"\"\"as\"d\"fd\"f\""}', '$.name') from dual;

JSON_VALUE('{"NAME":"\"ASD\"FDF\"\"\"\"\"AS\"D\"FD\"F\""}', '$.N
----------------------------------------------------------------
"asd"fdf"""""as"d"fd"f"                                         

1 rows fetched.

SQL> select length(json_value('{"name":"\"asd\"fdf\"\"\"\"\"as\"d\"fd\"f\""}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\"ASD\"FDF\"\"\"\"\"AS\"D\"FD\"F\""}
----------------------------------------------------------------
23                                                              

1 rows fetched.

SQL> 
SQL> select json_value('{"name":"\na\ns\ndf\n\ndfasdf\n\ndf"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\NA\NS\NDF\N\NDFASDF\N\NDF"}', '$.NAME')   
----------------------------------------------------------------

a
s
df

dfasdf

df                                             

1 rows fetched.

SQL> select json_value('{"name":"\na\ns\ndf\n\ndfasdf\n\ndf\n"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\NA\NS\NDF\N\NDFASDF\N\NDF\N"}', '$.NAME') 
----------------------------------------------------------------

a
s
df

dfasdf

df
                                            

1 rows fetched.

SQL> select json_value('{"name":"\na\ns\ndf\n\ndfasdf\n\ndf\n\n"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\NA\NS\NDF\N\NDFASDF\N\NDF\N\N"}', '$.NAME'
----------------------------------------------------------------

a
s
df

dfasdf

df

                                           

1 rows fetched.

SQL> select json_value('{"name":"\na\ns\ndf\n\ndfasdf\n\ndf\n\n\n"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\NA\NS\NDF\N\NDFASDF\N\NDF\N\N\N"}', '$.NAM
----------------------------------------------------------------

a
s
df

dfasdf

df


                                          

1 rows fetched.

SQL> 
SQL> select json_value('{"name":"\bs"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\BS"}', '$.NAME')                          
----------------------------------------------------------------
s                                                              

1 rows fetched.

SQL> select length(json_value('{"name":"\bs"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\BS"}', '$.NAME'))
----------------------------------------------
2                                             

1 rows fetched.

SQL> select json_value('{"name":"\bsx"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\BSX"}', '$.NAME')                         
----------------------------------------------------------------
sx                                                             

1 rows fetched.

SQL> select length(json_value('{"name":"\bsx"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\BSX"}', '$.NAME'))
-----------------------------------------------
3                                              

1 rows fetched.

SQL> select json_value('{"name":"\bsaax\b"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\BSAAX\B"}', '$.NAME')                     
----------------------------------------------------------------
saax                                                          

1 rows fetched.

SQL> select length(json_value('{"name":"\bsaax\b"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\BSAAX\B"}', '$.NAME'))
---------------------------------------------------
6                                                  

1 rows fetched.

SQL> select json_value('{"name":"a\bsd"}', '$.name') from dual;

JSON_VALUE('{"NAME":"A\BSD"}', '$.NAME')                        
----------------------------------------------------------------
asd                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"a\bsd"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"A\BSD"}', '$.NAME'))
------------------------------------------------
4                                               

1 rows fetched.

SQL> select json_value('{"name":"a\b\bsd"}', '$.name') from dual;

JSON_VALUE('{"NAME":"A\B\BSD"}', '$.NAME')                      
----------------------------------------------------------------
asd                                                           

1 rows fetched.

SQL> select length(json_value('{"name":"a\b\bsd"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"A\B\BSD"}', '$.NAME'))
--------------------------------------------------
5                                                 

1 rows fetched.

SQL> 
SQL> --diff?
SQL> select json_value('{"name":"\bsaqqx\b"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\BSAQQX\B"}', '$.NAME')                    
----------------------------------------------------------------
saqqx                                                         

1 rows fetched.

SQL> select length(json_value('{"name":"\bsaqqx\b"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\BSAQQX\B"}', '$.NAME'))
----------------------------------------------------
7                                                   

1 rows fetched.

SQL> select hex(json_value('{"name":"\bsaqqx\b"}', '$.name')) from dual;

HEX(JSON_VALUE('{"NAME":"\BSAQQX\B"}', '$.NAME'))               
----------------------------------------------------------------
08736171717808                                                  

1 rows fetched.

SQL> select json_value('{"name":"\bsaqqx\b\b"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\BSAQQX\B\B"}', '$.NAME')                  
----------------------------------------------------------------
saqqx                                                        

1 rows fetched.

SQL> select length(json_value('{"name":"\bsaqqx\b\b"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\BSAQQX\B\B"}', '$.NAME'))
------------------------------------------------------
8                                                     

1 rows fetched.

SQL> select hex(json_value('{"name":"\bsaqqx\b\b"}', '$.name')) from dual;

HEX(JSON_VALUE('{"NAME":"\BSAQQX\B\B"}', '$.NAME'))             
----------------------------------------------------------------
0873617171780808                                                

1 rows fetched.

SQL> 
SQL> select json_value('{"name":"\ba\b\bsdfdf\b\basdf\b\bdf\b"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\BA\B\BSDFDF\B\BASDF\B\BDF\B"}', '$.NAME') 
----------------------------------------------------------------
asdfdfasdfdf                                            

1 rows fetched.

SQL> select length(json_value('{"name":"\ba\b\bsdfdf\b\basdf\b\bdf\b"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\BA\B\BSDFDF\B\BASDF\B\BDF\B"}', '$.
----------------------------------------------------------------
20                                                              

1 rows fetched.

SQL> select hex(json_value('{"name":"\ba\b\bsdfdf\b\basdf\b\bdf\b"}', '$.name')) from dual;

HEX(JSON_VALUE('{"NAME":"\BA\B\BSDFDF\B\BASDF\B\BDF\B"}', '$.NAM
----------------------------------------------------------------
0861080873646664660808617364660808646608                        

1 rows fetched.

SQL> select json_value('{"name":"\ras\rdf\rdf\r\r\ras\rd\rf\rxx\r"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\RAS\RDF\RDF\R\R\RAS\RD\RF\RXX\R"}', '$.NAM
----------------------------------------------------------------

as
df
df


as
d
f
xx
                                          

1 rows fetched.

SQL> select length(json_value('{"name":"\ras\rdf\rdf\r\r\ras\rd\rf\rxx\r"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\RAS\RDF\RDF\R\R\RAS\RD\RF\RXX\R"}',
----------------------------------------------------------------
22                                                              

1 rows fetched.

SQL> select hex(json_value('{"name":"\ras\rdf\rdf\r\r\ras\rd\rf\rxx\r"}', '$.name')) from dual;

HEX(JSON_VALUE('{"NAME":"\RAS\RDF\RDF\R\R\RAS\RD\RF\RXX\R"}', '$
----------------------------------------------------------------
0D61730D64660D64660D0D0D61730D640D660D78780D                    

1 rows fetched.

SQL> select json_value('{"name":"\ras\rdf\rdf\r\r\ras\rd\rf\rxx"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\RAS\RDF\RDF\R\R\RAS\RD\RF\RXX"}', '$.NAME'
----------------------------------------------------------------

as
df
df


as
d
f
xx

1 rows fetched.

SQL> select length(json_value('{"name":"\ras\rdf\rdf\r\r\ras\rd\rf\rxx"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\RAS\RDF\RDF\R\R\RAS\RD\RF\RXX"}', '
----------------------------------------------------------------
21                                                              

1 rows fetched.

SQL> select hex(json_value('{"name":"\ras\rdf\rdf\r\r\ras\rd\rf\rxx"}', '$.name')) from dual;

HEX(JSON_VALUE('{"NAME":"\RAS\RDF\RDF\R\R\RAS\RD\RF\RXX"}', '$.N
----------------------------------------------------------------
0D61730D64660D64660D0D0D61730D640D660D7878                      

1 rows fetched.

SQL> 
SQL> --\b and \r at end doesn't take effect? actually is same
SQL> select json_value('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX"}', '$
----------------------------------------------------------------


a
s
df
df


as
d
f
xxxx                                       

1 rows fetched.

SQL> select json_value('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX\R"}', 
----------------------------------------------------------------


a
s
df
df


as
d
f
xxxx
                                      

1 rows fetched.

SQL> select json_value('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX\R\R"}'
----------------------------------------------------------------


a
s
df
df


as
d
f
xxxx

                                     

1 rows fetched.

SQL> select json_value('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r\r"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX\R\R\R"
----------------------------------------------------------------


a
s
df
df


as
d
f
xxxx


                                    

1 rows fetched.

SQL> select json_value('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF"}', '$.NAME') 
----------------------------------------------------------------
asdfdfasdfdf                                            

1 rows fetched.

SQL> select json_value('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B"}', '$.NAME'
----------------------------------------------------------------
asdfdfasdfdf                                           

1 rows fetched.

SQL> select json_value('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B\B"}', '$.NAM
----------------------------------------------------------------
asdfdfasdfdf                                          

1 rows fetched.

SQL> select json_value('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b\b"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B\B\B"}', '$.N
----------------------------------------------------------------
asdfdfasdfdf                                         

1 rows fetched.

SQL> 
SQL> select length(json_value('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX
----------------------------------------------------------------
25                                                              

1 rows fetched.

SQL> select length(json_value('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX
----------------------------------------------------------------
26                                                              

1 rows fetched.

SQL> select length(json_value('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX
----------------------------------------------------------------
27                                                              

1 rows fetched.

SQL> select length(json_value('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r\r"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX
----------------------------------------------------------------
28                                                              

1 rows fetched.

SQL> select length(json_value('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF"}', '$.
----------------------------------------------------------------
20                                                              

1 rows fetched.

SQL> select length(json_value('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B"}', '
----------------------------------------------------------------
21                                                              

1 rows fetched.

SQL> select length(json_value('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B\B"}',
----------------------------------------------------------------
22                                                              

1 rows fetched.

SQL> select length(json_value('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b\b"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B\B\B"}
----------------------------------------------------------------
23                                                              

1 rows fetched.

SQL> 
SQL> select hex(json_value('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.name')) from dual;

HEX(JSON_VALUE('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX"}'
----------------------------------------------------------------
0D0D610D730D64660D64660D0D0D61730D640D660D78787878              

1 rows fetched.

SQL> select hex(json_value('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r"}', '$.name')) from dual;

HEX(JSON_VALUE('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX\R"
----------------------------------------------------------------
0D0D610D730D64660D64660D0D0D61730D640D660D787878780D            

1 rows fetched.

SQL> select hex(json_value('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r"}', '$.name')) from dual;

HEX(JSON_VALUE('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX\R\
----------------------------------------------------------------
0D0D610D730D64660D64660D0D0D61730D640D660D787878780D0D          

1 rows fetched.

SQL> select hex(json_value('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r\r"}', '$.name')) from dual;

HEX(JSON_VALUE('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX\R\
----------------------------------------------------------------
0D0D610D730D64660D64660D0D0D61730D640D660D787878780D0D0D        

1 rows fetched.

SQL> select hex(json_value('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf"}', '$.name')) from dual;

HEX(JSON_VALUE('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF"}', '$.NAM
----------------------------------------------------------------
0808610808736466646608086173646608086466                        

1 rows fetched.

SQL> select hex(json_value('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b"}', '$.name')) from dual;

HEX(JSON_VALUE('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B"}', '$.N
----------------------------------------------------------------
080861080873646664660808617364660808646608                      

1 rows fetched.

SQL> select hex(json_value('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b"}', '$.name')) from dual;

HEX(JSON_VALUE('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B\B"}', '$
----------------------------------------------------------------
08086108087364666466080861736466080864660808                    

1 rows fetched.

SQL> select hex(json_value('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b\b"}', '$.name')) from dual;

HEX(JSON_VALUE('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B\B\B"}', 
----------------------------------------------------------------
0808610808736466646608086173646608086466080808                  

1 rows fetched.

SQL> 
SQL> --mixed
SQL> select json_value('{"name":"\\a\"s\\d\/f\ndfa\f\nsd\f\\f\tdf"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\\A\"S\\D\/F\NDFA\F\NSD\F\\F\TDF"}', '$.NAM
----------------------------------------------------------------
\a"s\d/f
dfa
sd\f	df                                          

1 rows fetched.

SQL> select length(json_value('{"name":"\\a\"s\\d\/f\ndfa\f\nsd\f\\f\tdf"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\\A\"S\\D\/F\NDFA\F\NSD\F\\F\TDF"}',
----------------------------------------------------------------
22                                                              

1 rows fetched.

SQL> select json_value('{"name":"\\a\\\"\\s\\d\/f\ndf\na\"\f\n\f\fs\f\f\"d\f\"\\f\\\tdf\\"}', '$.name') from dual;

JSON_VALUE('{"NAME":"\\A\\\"\\S\\D\/F\NDF\NA\"\F\N\F\FS\F\F\"D\F
----------------------------------------------------------------
\a\"\s\d/f
df
a"
s"d"\f\	df\                              

1 rows fetched.

SQL> select length(json_value('{"name":"\\a\\\"\\s\\d\/f\ndf\na\"\f\n\f\fs\f\f\"d\f\"\\f\\\tdf\\"}', '$.name')) from dual;

LENGTH(JSON_VALUE('{"NAME":"\\A\\\"\\S\\D\/F\NDF\NA\"\F\N\F\FS\F
----------------------------------------------------------------
34                                                              

1 rows fetched.

SQL> 
SQL> --chinese char in json data
SQL> --only in utf-8
SQL> set charset = UTF8;

UTF8
SQL> 
SQL> drop table if exists json_length_test;

Succeed.

SQL> create table json_length_test(a varchar2(8000));

Succeed.

SQL> insert into json_length_test values('{"name":"我爱华为，\n我爱中国!!!"}');

1 rows affected.

SQL> insert into json_length_test values('{"name":"这里是\n中文测试!!!"}');

1 rows affected.

SQL> insert into json_length_test values('{"name":"\"长风\t破浪\t会有时，直挂\t云帆\t济沧海!!!\""}');

1 rows affected.

SQL> 
SQL> select json_value(a, '$.name') from json_length_test;

JSON_VALUE(A, '$.NAME')                                         
----------------------------------------------------------------
我爱华为，
我爱中国!!!                                 
这里是
中文测试!!!                                       
"长风	破浪	会有时，直挂	云帆	济沧海!!!"          

3 rows fetched.

SQL> select json_value(a, '$.name') from json_length_test;

JSON_VALUE(A, '$.NAME')                                         
----------------------------------------------------------------
我爱华为，
我爱中国!!!                                 
这里是
中文测试!!!                                       
"长风	破浪	会有时，直挂	云帆	济沧海!!!"          

3 rows fetched.

SQL> select json_value(a, '$.name') from json_length_test;

JSON_VALUE(A, '$.NAME')                                         
----------------------------------------------------------------
我爱华为，
我爱中国!!!                                 
这里是
中文测试!!!                                       
"长风	破浪	会有时，直挂	云帆	济沧海!!!"          

3 rows fetched.

SQL> select length(json_value(a, '$.name')) from json_length_test;

LENGTH(JSON_VALUE(A, '$.NAME'))
-------------------------------
13                             
11                             
24                             

3 rows fetched.

SQL> 
SQL> drop table if exists json_length_test;

Succeed.

SQL> 
SQL> ---------------------------------------------------------------------2. json data format (number)
SQL> select 1 from dual where 123456 is json;  --oracle    inconsistent datatypes: expected - got NUMBER

1           
------------

0 rows fetched.

SQL> select 1 from dual where '123456' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '"123456"' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '123a456' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '"123a456"' is json;

1           
------------

0 rows fetched.

SQL> 
SQL> select json_query('[123, -123, 4.5572E+18, -4.5572E+18, 4.5572111112312321E+8, -4.5572111112312321E+8, 45572E-3, -45572E-3]','$') from dual;

JSON_QUERY('[123, -123, 4.5572E+18, -4.5572E+18, 4.5572111112312
----------------------------------------------------------------
[123,-123,4.5572E+18,-4.5572E+18,4.5572111112312321E+8,-4.5572111112312321E+8,45572E-3,-45572E-3]

1 rows fetched.

SQL> select json_query('{"name":45572E-3}', '$') from dual;

JSON_QUERY('{"NAME":45572E-3}', '$')                            
----------------------------------------------------------------
{"name":45572E-3}                                               

1 rows fetched.

SQL> select json_query('{"name":"45572E-3"}', '$') from dual;

JSON_QUERY('{"NAME":"45572E-3"}', '$')                          
----------------------------------------------------------------
{"name":"45572E-3"}                                             

1 rows fetched.

SQL> 
SQL> drop table if exists json_number_test;

Succeed.

SQL> create table json_number_test(a int, id varchar(100));

Succeed.

SQL> truncate table json_number_test;

Succeed.

SQL> insert into json_number_test values(1, '[123456789]');

1 rows affected.

SQL> insert into json_number_test values(2, '[1234567890]');

1 rows affected.

SQL> insert into json_number_test values(3, '[12345678901]');

1 rows affected.

SQL> insert into json_number_test values(4, '{"name":123456789}');

1 rows affected.

SQL> insert into json_number_test values(5, '{"name":1234567890}');

1 rows affected.

SQL> insert into json_number_test values(6, '{"name":12345678901}');

1 rows affected.

SQL> insert into json_number_test values(7, '{"name":"123456789"}');

1 rows affected.

SQL> insert into json_number_test values(8, '{"name":"1234567890"}');

1 rows affected.

SQL> insert into json_number_test values(9, '{"name":"12345678901"}');

1 rows affected.

SQL> insert into json_number_test values(10, '[45572E-3]');

1 rows affected.

SQL> insert into json_number_test values(11, '{"name":45572E-3}');

1 rows affected.

SQL> insert into json_number_test values(12, '{"name":"45572E-3"}');

1 rows affected.

SQL> 
SQL> select * from json_number_test order by a;

A            ID                                                              
------------ ----------------------------------------------------------------
1            [123456789]                                                     
2            [1234567890]                                                    
3            [12345678901]                                                   
4            {"name":123456789}                                              
5            {"name":1234567890}                                             
6            {"name":12345678901}                                            
7            {"name":"123456789"}                                            
8            {"name":"1234567890"}                                           
9            {"name":"12345678901"}                                          
10           [45572E-3]                                                      
11           {"name":45572E-3}                                               
12           {"name":"45572E-3"}                                             

12 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[0]') = 123456789;

A            ID                                                              
------------ ----------------------------------------------------------------
1            [123456789]                                                     

1 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[0]') = 1234567890;

A            ID                                                              
------------ ----------------------------------------------------------------
2            [1234567890]                                                    

1 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[0]') = 12345678901;

A            ID                                                              
------------ ----------------------------------------------------------------
3            [12345678901]                                                   

1 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[*].name') = 123456789;

A            ID                                                              
------------ ----------------------------------------------------------------
4            {"name":123456789}                                              
7            {"name":"123456789"}                                            

2 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[*].name') = 1234567890;

A            ID                                                              
------------ ----------------------------------------------------------------
5            {"name":1234567890}                                             
8            {"name":"1234567890"}                                           

2 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[*].name') = 12345678901;

A            ID                                                              
------------ ----------------------------------------------------------------
6            {"name":12345678901}                                            
9            {"name":"12345678901"}                                          

2 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[0]') = 1.23456789E+8;

A            ID                                                              
------------ ----------------------------------------------------------------
1            [123456789]                                                     

1 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[0]') = 1.23456789E+9;

A            ID                                                              
------------ ----------------------------------------------------------------
2            [1234567890]                                                    

1 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[0]') = 1.2345678901E+10;

A            ID                                                              
------------ ----------------------------------------------------------------
3            [12345678901]                                                   

1 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[0]') = 123456.789E+3;

A            ID                                                              
------------ ----------------------------------------------------------------
1            [123456789]                                                     

1 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[0]') = 123456.789E+4;

A            ID                                                              
------------ ----------------------------------------------------------------
2            [1234567890]                                                    

1 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[0]') = 123456.78901E+5;

A            ID                                                              
------------ ----------------------------------------------------------------
3            [12345678901]                                                   

1 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[0]') = 45572E-3;

A            ID                                                              
------------ ----------------------------------------------------------------
10           [45572E-3]                                                      

1 rows fetched.

SQL> select * from json_number_test where json_value(id, '$[*].name') = 45572E-3;

A            ID                                                              
------------ ----------------------------------------------------------------
11           {"name":45572E-3}                                               
12           {"name":"45572E-3"}                                             

2 rows fetched.

SQL> drop table if exists json_number_test;

Succeed.

SQL> 
SQL> ---------------------------------------------------------------------3. json data format (null/true/false)
SQL> select 1 from dual where '' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where null is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where NULL is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'null' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'NULL' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '"null"' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '"NULL"' is json;

1           
------------

0 rows fetched.

SQL> 
SQL> select 1 from dual where json_value('{"name":null}', '$.name') is null;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_value('{"name":NULL}', '$.name') is null;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_value('{"name":"null"}', '$.name') is null;

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_value('{"name":"NULL"}', '$.name') is null;

1           
------------

0 rows fetched.

SQL> 
SQL> select json_value('{"name":null}', '$.name') from dual;

JSON_VALUE('{"NAME":NULL}', '$.NAME')                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"name":"null"}', '$.name') from dual;

JSON_VALUE('{"NAME":"NULL"}', '$.NAME')                         
----------------------------------------------------------------
null                                                            

1 rows fetched.

SQL> select json_value('{"name":"NULL"}', '$.name') from dual;

JSON_VALUE('{"NAME":"NULL"}', '$.NAME')                         
----------------------------------------------------------------
NULL                                                            

1 rows fetched.

SQL> select json_value('{"null":null}', '$.null') from dual;

JSON_VALUE('{"NULL":NULL}', '$.NULL')                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"null":"null"}', '$.null') from dual;

JSON_VALUE('{"NULL":"NULL"}', '$.NULL')                         
----------------------------------------------------------------
null                                                            

1 rows fetched.

SQL> select json_value('{"null":"NULL"}', '$.null') from dual;

JSON_VALUE('{"NULL":"NULL"}', '$.NULL')                         
----------------------------------------------------------------
NULL                                                            

1 rows fetched.

SQL> 
SQL> select 1 from dual where true is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where false is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where TRUE is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where FALSE is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'true' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'false' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'TRUE' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where 'FALSE' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '"true"' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '"false"' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '"TRUE"' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '"FALSE"' is json;

1           
------------

0 rows fetched.

SQL> 
SQL> select json_value('{"name":true}', '$.name') from dual;

JSON_VALUE('{"NAME":TRUE}', '$.NAME')                           
----------------------------------------------------------------
true                                                            

1 rows fetched.

SQL> select json_value('{"name":TRUE}', '$.name') from dual;

JSON_VALUE('{"NAME":TRUE}', '$.NAME')                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"name":"true"}', '$.name') from dual;

JSON_VALUE('{"NAME":"TRUE"}', '$.NAME')                         
----------------------------------------------------------------
true                                                            

1 rows fetched.

SQL> select json_value('{"name":"TRUE"}', '$.name') from dual;

JSON_VALUE('{"NAME":"TRUE"}', '$.NAME')                         
----------------------------------------------------------------
TRUE                                                            

1 rows fetched.

SQL> 
SQL> select 1 from dual where json_value('{"name":true}', '$.name') = true;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_value('{"name":TRUE}', '$.name') = true;

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_value('{"name":"true"}', '$.name') = true;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_value('{"name":"TRUE"}', '$.name') = true;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> select json_value('{"name":false}', '$.name')  from dual;

JSON_VALUE('{"NAME":FALSE}', '$.NAME')                          
----------------------------------------------------------------
false                                                           

1 rows fetched.

SQL> select json_value('{"name":FALSE}', '$.name')  from dual;

JSON_VALUE('{"NAME":FALSE}', '$.NAME')                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"name":"false"}', '$.name')  from dual;

JSON_VALUE('{"NAME":"FALSE"}', '$.NAME')                        
----------------------------------------------------------------
false                                                           

1 rows fetched.

SQL> select json_value('{"name":"FALSE"}', '$.name')  from dual;

JSON_VALUE('{"NAME":"FALSE"}', '$.NAME')                        
----------------------------------------------------------------
FALSE                                                           

1 rows fetched.

SQL> 
SQL> select 1 from dual where json_value('{"name":false}', '$.name') = false;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_value('{"name":FALSE}', '$.name') = false;

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_value('{"name":"false"}', '$.name') = false;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_value('{"name":"FALSE"}', '$.name') = false;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> select 1 from dual where '{"name":"TRUE"}' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '{"name":"FALSE"}' is json;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> select 1 from dual where '{"name":TRUE}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{"name":FALSE}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_value('{"name":TRUE}', '$.name') = 'TRUE';

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_value('{"name":FALSE}', '$.name') = 'FALSE';

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_value('{"name":TRUE}', '$.name' error on error) = 'TRUE';

CT-02504, [1:46]JSON syntax error, unexpected T found
SQL> select 1 from dual where json_value('{"name":FALSE}', '$.name' error on error) = 'FALSE';

CT-02504, [1:46]JSON syntax error, unexpected F found
SQL> 
SQL> select 1 from dual where sysdate is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where localtimestamp is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where current_timestamp is json;

1           
------------

0 rows fetched.

SQL> 
SQL> ---------------------------------------------------------------------4. json data format (object)
SQL> --valid test
SQL> select 1 from dual where '{{}}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{{{}}}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{true}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{"true"}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{asdsadsa}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{"asdsadsa"}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{:asdsadsa}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{"name":asdsadsa}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{name":"asdsadsa"}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{"name":"asdsadsa"]' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{"name" "asdsadsa"}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{"name":"asds"adsa"}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{:"asdsadsa"}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{"name":}' is json;

1           
------------

0 rows fetched.

SQL> 
SQL> select 1 from dual where '{}' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '{"name":""}' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '{"name":"asdsadsa"}' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '{"name":"asds\"adsa"}' is json;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> --duplicate key test
SQL> select 1 from dual where '{"name":"asdsadsa", "name":"gtrhgtr", "name":"56434"}' is json;

1           
------------
1           

1 rows fetched.

SQL> select json_value('{"name":"asdsadsa", "name":"gtrhgtr", "name":"56434"}', '$.name' error on error) from dual;

CT-02506, JSON_VALUE evaluated to multiple value
SQL> 
SQL> --max level(32) test 
SQL> select 1 from dual where '{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}' is json;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> --max pairs(1024) test
SQL> drop table if exists max_pairs_test;

Succeed.

SQL> create table max_pairs_test(a clob);

Succeed.

SQL> insert into max_pairs_test values ('{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"a100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1,"146":1,"147":1,"148":1,"149":1,"150":1,"151":1,"152":1,"153":1,"154":1,"155":1,"156":1,"157":1,"158":1,"159":1,"160":1,"161":1,"162":1,"163":1,"164":1,"165":1,"166":1,"167":1,"168":1,"169":1,"170":1,"171":1,"172":1,"173":1,"174":1,"175":1,"176":1,"177":1,"178":1,"179":1,"180":1,"181":1,"182":1,"183":1,"184":1,"185":1,"186":1,"187":1,"188":1,"189":1,"190":1,"191":1,"192":1,"193":1,"194":1,"195":1,"196":1,"197":1,"198":1,"199":1,"200":1,"201":1,"202":1,"203":1,"204":1,"205":1,"206":1,"207":1,"208":1,"209":1,"210":1,"211":1,"212":1,"213":1,"214":1,"215":1,"216":1,"217":1,"218":1,"219":1,"220":1,"221":1,"222":1,"223":1,"224":1,"225":1,"226":1,"227":1,"228":1,"229":1,"230":1,"231":1,"232":1,"233":1,"234":1,"235":1,"236":1,"237":1,"238":1,"239":1,"240":1,"241":1,"242":1,"243":1,"244":1,"245":1,"246":1,"247":1,"248":1,"249":1,"250":1,"251":1,"252":1,"253":1,"254":1,"255":1,"256":1,"257":1,"258":1,"259":1,"260":1,"261":1,"262":1,"263":1,"264":1,"265":1,"266":1,"267":1,"268":1,"269":1,"270":1,"271":1,"272":1,"273":1,"274":1,"275":1,"276":1,"277":1,"278":1,"279":1,"280":1,"281":1,"282":1,"283":1,"284":1,"285":1,"286":1,"287":1,"288":1,"289":1,"290":1,"291":1,"292":1,"293":1,"294":1,"295":1,"296":1,"297":1,"298":1,"299":1,"300":1,"301":1,"302":1,"303":1,"304":1,"305":1,"306":1,"307":1,"308":1,"309":1,"310":1,"311":1,"312":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"320":1,"321":1,"322":1,"323":1,"324":1,"325":1,"326":1,"327":1,"328":1,"329":1,"330":1,"331":1,"332":1,"333":1,"334":1,"335":1,"336":1,"337":1,"338":1,"339":1,"340":1,"341":1,"342":1,"343":1,"344":1,"345":1,"346":1,"347":1,"348":1,"349":1,"350":1,"351":1,"352":1,"353":1,"354":1,"355":1,"356":1,"357":1,"358":1,"359":1,"360":1,"361":1,"362":1,"363":1,"364":1,"365":1,"366":1,"367":1,"368":1,"369":1,"370":1,"371":1,"372":1,"373":1,"374":1,"375":1,"376":1,"377":1,"378":1,"379":1,"380":1,"381":1,"382":1,"383":1,"384":1,"385":1,"386":1,"387":1,"388":1,"389":1,"390":1,"391":1,"392":1,"393":1,"394":1,"395":1,"396":1,"397":1,"398":1,"399":1,"400":1,"401":1,"402":1,"403":1,"404":1,"405":1,"406":1,"407":1,"408":1,"409":1,"410":1,"411":1,"412":1,"413":1,"414":1,');

1 rows affected.

SQL> 
SQL> update max_pairs_test set a = a || '"415":1,"416":1,"417":1,"418":1,"419":1,"420":1,"421":1,"422":1,"423":1,"424":1,"425":1,"426":1,"427":1,"428":1,"429":1,"430":1,"431":1,"432":1,"433":1,"434":1,"435":1,"436":1,"437":1,"438":1,"439":1,"440":1,"441":1,"442":1,"443":1,"444":1,"445":1,"446":1,"447":1,"448":1,"449":1,"450":1,"451":1,"452":1,"453":1,"454":1,"455":1,"456":1,"457":1,"458":1,"459":1,"460":1,"461":1,"462":1,"463":1,"464":1,"465":1,"466":1,"467":1,"468":1,"469":1,"470":1,"471":1,"472":1,"473":1,"474":1,"475":1,"476":1,"477":1,"478":1,"479":1,"480":1,"481":1,"482":1,"483":1,"484":1,"485":1,"486":1,"487":1,"488":1,"489":1,"490":1,"491":1,"492":1,"493":1,"494":1,"495":1,"496":1,"497":1,"498":1,"499":1,"500":1,"501":1,"502":1,"503":1,"504":1,"505":1,"506":1,"507":1,"508":1,"509":1,"510":1,"511":1,"512":1,"513":1,"514":1,"515":1,"516":1,"517":1,"518":1,"519":1,"520":1,"521":1,"522":1,"523":1,"524":1,"525":1,"526":1,"527":1,"528":1,"529":1,"530":1,"531":1,"532":1,"533":1,"534":1,"535":1,"536":1,"537":1,"538":1,"539":1,"540":1,"541":1,"542":1,"543":1,"544":1,"545":1,"546":1,"547":1,"548":1,"549":1,"550":1,"551":1,"552":1,"553":1,"554":1,"555":1,"556":1,"557":1,"558":1,"559":1,"560":1,"561":1,"562":1,"563":1,"564":1,"565":1,"566":1,"567":1,"568":1,"569":1,"570":1,"571":1,"572":1,"573":1,"574":1,"575":1,"576":1,"577":1,"578":1,"579":1,"580":1,"581":1,"582":1,"583":1,"584":1,"585":1,"586":1,"587":1,"588":1,"589":1,"590":1,"591":1,"592":1,"593":1,"594":1,"595":1,"a596":1,"597":1,"598":1,"599":1,"600":1,"601":1,"602":1,"603":1,"604":1,"605":1,"606":1,"607":1,"608":1,"609":1,"610":1,"611":1,"612":1,"613":1,"614":1,"615":1,"616":1,"617":1,"618":1,"619":1,"620":1,"621":1,"622":1,"623":1,"624":1,"625":1,"626":1,"627":1,"628":1,"629":1,"630":1,"631":1,"632":1,"633":1,"634":1,"635":1,"636":1,"637":1,"638":1,"639":1,"640":1,"641":1,"642":1,"643":1,"644":1,"645":1,"646":1,"647":1,"648":1,"649":1,"650":1,"651":1,"652":1,"653":1,"654":1,"655":1,"656":1,"657":1,"658":1,"659":1,"660":1,"661":1,"662":1,"663":1,"664":1,"665":1,"666":1,"667":1,"668":1,"669":1,"670":1,"671":1,"672":1,"673":1,"674":1,"675":1,"676":1,"677":1,"678":1,"679":1,"680":1,"681":1,"682":1,"683":1,"684":1,"685":1,"686":1,"687":1,"688":1,"689":1,"690":1,"691":1,"692":1,"693":1,"694":1,"695":1,"696":1,"697":1,"698":1,"699":1,"700":1,"701":1,"702":1,"703":1,"704":1,"705":1,"706":1,"707":1,"708":1,"709":1,"710":1,"711":1,"712":1,"713":1,"714":1,"715":1,"716":1,"717":1,"718":1,"719":1,"720":1,"721":1,"722":1,"723":1,"724":1,"725":1,"726":1,"727":1,"728":1,"729":1,"730":1,"731":1,"732":1,"733":1,"734":1,"735":1,"736":1,"737":1,"738":1,"739":1,"740":1,"741":1,"742":1,"743":1,"744":1,"745":1,"746":1,"747":1,"748":1,"749":1,"750":1,"751":1,"752":1,"753":1,"754":1,"755":1,"756":1,"757":1,"758":1,"759":1,"760":1,"761":1,';

1 rows affected.

SQL> 
SQL> update max_pairs_test set a = a || '"762":1,"763":1,"764":1,"765":1,"766":1,"767":1,"768":1,"769":1,"770":1,"771":1,"772":1,"773":1,"774":1,"775":1,"776":1,"777":1,"778":1,"779":1,"780":1,"781":1,"782":1,"783":1,"784":1,"785":1,"786":1,"787":1,"788":1,"789":1,"790":1,"791":1,"792":1,"793":1,"794":1,"795":1,"796":1,"797":1,"798":1,"799":1,"800":1,"801":1,"802":1,"803":1,"804":1,"805":1,"806":1,"807":1,"808":1,"809":1,"810":1,"811":1,"812":1,"813":1,"814":1,"815":1,"816":1,"817":1,"818":1,"819":1,"820":1,"821":1,"822":1,"823":1,"824":1,"825":1,"826":1,"827":1,"828":1,"829":1,"830":1,"831":1,"832":1,"833":1,"834":1,"835":1,"836":1,"837":1,"838":1,"839":1,"840":1,"841":1,"842":1,"843":1,"844":1,"845":1,"846":1,"847":1,"848":1,"849":1,"850":1,"851":1,"852":1,"853":1,"854":1,"855":1,"856":1,"857":1,"858":1,"859":1,"860":1,"861":1,"862":1,"863":1,"864":1,"865":1,"866":1,"867":1,"868":1,"869":1,"870":1,"871":1,"872":1,"873":1,"874":1,"875":1,"876":1,"877":1,"878":1,"879":1,"880":1,"881":1,"882":1,"883":1,"884":1,"885":1,"886":1,"887":1,"888":1,"889":1,"890":1,"891":1,"892":1,"893":1,"894":1,"895":1,"896":1,"897":1,"898":1,"899":1,"900":1,"901":1,"902":1,"903":1,"904":1,"905":1,"906":1,"907":1,"908":1,"909":1,"910":1,"911":1,"912":1,"913":1,"914":1,"915":1,"916":1,"917":1,"918":1,"919":1,"920":1,"921":1,"922":1,"923":1,"924":1,"925":1,"926":1,"927":1,"928":1,"929":1,"930":1,"931":1,"932":1,"933":1,"934":1,"935":1,"936":1,"937":1,"938":1,"939":1,"940":1,"941":1,"942":1,"943":1,"944":1,"945":1,"946":1,"947":1,"948":1,"949":1,"950":1,"951":1,"952":1,"953":1,"954":1,"955":1,"956":1,"957":1,"958":1,"959":1,"960":1,"961":1,"962":1,"963":1,"964":1,"965":1,"966":1,"967":1,"968":1,"969":1,"970":1,"971":1,"972":1,"973":1,"974":1,"975":1,"976":1,"977":1,"978":1,"979":1,"980":1,"981":1,"982":1,"983":1,"984":1,"985":1,"986":1,"987":1,"988":1,"989":1,"990":1,"991":1,"992":1,"993":1,"994":1,"995":1,"996":1,"997":1,"998":1,"999":1,"1000":1,"1001":1,"1002":1,"1003":1,"1004":1,"1005":1,"1006":1,"1007":1,"1008":1,"1009":1,"1010":1,"1011":1,"1012":1,"1013":1,"1014":1,"1015":1,"1016":1,"1017":1,"1018":1,"1019":1,"1020":1,"1021":1,"1022":1,"a1023":1}';

1 rows affected.

SQL> 
SQL> select length(a) from max_pairs_test where a is json;

LENGTH(A)           
--------------------
8110                

1 rows fetched.

SQL> select json_value(a, '$[0].a100') from max_pairs_test;

JSON_VALUE(A, '$[0].A100')                                      
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> select json_value(a, '$[0].a596') from max_pairs_test;

JSON_VALUE(A, '$[0].A596')                                      
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> select json_value(a, '$[0].a1023') from max_pairs_test;

JSON_VALUE(A, '$[0].A1023')                                     
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> 
SQL> --
SQL> truncate table max_pairs_test;

Succeed.

SQL> insert into max_pairs_test values ('{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"a100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1,"146":1,"147":1,"148":1,"149":1,"150":1,"151":1,"152":1,"153":1,"154":1,"155":1,"156":1,"157":1,"158":1,"159":1,"160":1,"161":1,"162":1,"163":1,"164":1,"165":1,"166":1,"167":1,"168":1,"169":1,"170":1,"171":1,"172":1,"173":1,"174":1,"175":1,"176":1,"177":1,"178":1,"179":1,"180":1,"181":1,"182":1,"183":1,"184":1,"185":1,"186":1,"187":1,"188":1,"189":1,"190":1,"191":1,"192":1,"193":1,"194":1,"195":1,"196":1,"197":1,"198":1,"199":1,"200":1,"201":1,"202":1,"203":1,"204":1,"205":1,"206":1,"207":1,"208":1,"209":1,"210":1,"211":1,"212":1,"213":1,"214":1,"215":1,"216":1,"217":1,"218":1,"219":1,"220":1,"221":1,"222":1,"223":1,"224":1,"225":1,"226":1,"227":1,"228":1,"229":1,"230":1,"231":1,"232":1,"233":1,"234":1,"235":1,"236":1,"237":1,"238":1,"239":1,"240":1,"241":1,"242":1,"243":1,"244":1,"245":1,"246":1,"247":1,"248":1,"249":1,"250":1,"251":1,"252":1,"253":1,"254":1,"255":1,"256":1,"257":1,"258":1,"259":1,"260":1,"261":1,"262":1,"263":1,"264":1,"265":1,"266":1,"267":1,"268":1,"269":1,"270":1,"271":1,"272":1,"273":1,"274":1,"275":1,"276":1,"277":1,"278":1,"279":1,"280":1,"281":1,"282":1,"283":1,"284":1,"285":1,"286":1,"287":1,"288":1,"289":1,"290":1,"291":1,"292":1,"293":1,"294":1,"295":1,"296":1,"297":1,"298":1,"299":1,"300":1,"301":1,"302":1,"303":1,"304":1,"305":1,"306":1,"307":1,"308":1,"309":1,"310":1,"311":1,"312":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"320":1,"321":1,"322":1,"323":1,"324":1,"325":1,"326":1,"327":1,"328":1,"329":1,"330":1,"331":1,"332":1,"333":1,"334":1,"335":1,"336":1,"337":1,"338":1,"339":1,"340":1,"341":1,"342":1,"343":1,"344":1,"345":1,"346":1,"347":1,"348":1,"349":1,"350":1,"351":1,"352":1,"353":1,"354":1,"355":1,"356":1,"357":1,"358":1,"359":1,"360":1,"361":1,"362":1,"363":1,"364":1,"365":1,"366":1,"367":1,"368":1,"369":1,"370":1,"371":1,"372":1,"373":1,"374":1,"375":1,"376":1,"377":1,"378":1,"379":1,"380":1,"381":1,"382":1,"383":1,"384":1,"385":1,"386":1,"387":1,"388":1,"389":1,"390":1,"391":1,"392":1,"393":1,"394":1,"395":1,"396":1,"397":1,"398":1,"399":1,"400":1,"401":1,"402":1,"403":1,"404":1,"405":1,"406":1,"407":1,"408":1,"409":1,"410":1,"411":1,"412":1,"413":1,"414":1,');

1 rows affected.

SQL> 
SQL> update max_pairs_test set a = a || '"415":1,"416":1,"417":1,"418":1,"419":1,"420":1,"421":1,"422":1,"423":1,"424":1,"425":1,"426":1,"427":1,"428":1,"429":1,"430":1,"431":1,"432":1,"433":1,"434":1,"435":1,"436":1,"437":1,"438":1,"439":1,"440":1,"441":1,"442":1,"443":1,"444":1,"445":1,"446":1,"447":1,"448":1,"449":1,"450":1,"451":1,"452":1,"453":1,"454":1,"455":1,"456":1,"457":1,"458":1,"459":1,"460":1,"461":1,"462":1,"463":1,"464":1,"465":1,"466":1,"467":1,"468":1,"469":1,"470":1,"471":1,"472":1,"473":1,"474":1,"475":1,"476":1,"477":1,"478":1,"479":1,"480":1,"481":1,"482":1,"483":1,"484":1,"485":1,"486":1,"487":1,"488":1,"489":1,"490":1,"491":1,"492":1,"493":1,"494":1,"495":1,"496":1,"497":1,"498":1,"499":1,"500":1,"501":1,"502":1,"503":1,"504":1,"505":1,"506":1,"507":1,"508":1,"509":1,"510":1,"511":1,"512":1,"513":1,"514":1,"515":1,"516":1,"517":1,"518":1,"519":1,"520":1,"521":1,"522":1,"523":1,"524":1,"525":1,"526":1,"527":1,"528":1,"529":1,"530":1,"531":1,"532":1,"533":1,"534":1,"535":1,"536":1,"537":1,"538":1,"539":1,"540":1,"541":1,"542":1,"543":1,"544":1,"545":1,"546":1,"547":1,"548":1,"549":1,"550":1,"551":1,"552":1,"553":1,"554":1,"555":1,"556":1,"557":1,"558":1,"559":1,"560":1,"561":1,"562":1,"563":1,"564":1,"565":1,"566":1,"567":1,"568":1,"569":1,"570":1,"571":1,"572":1,"573":1,"574":1,"575":1,"576":1,"577":1,"578":1,"579":1,"580":1,"581":1,"582":1,"583":1,"584":1,"585":1,"586":1,"587":1,"588":1,"589":1,"590":1,"591":1,"592":1,"593":1,"594":1,"595":1,"a596":1,"597":1,"598":1,"599":1,"600":1,"601":1,"602":1,"603":1,"604":1,"605":1,"606":1,"607":1,"608":1,"609":1,"610":1,"611":1,"612":1,"613":1,"614":1,"615":1,"616":1,"617":1,"618":1,"619":1,"620":1,"621":1,"622":1,"623":1,"624":1,"625":1,"626":1,"627":1,"628":1,"629":1,"630":1,"631":1,"632":1,"633":1,"634":1,"635":1,"636":1,"637":1,"638":1,"639":1,"640":1,"641":1,"642":1,"643":1,"644":1,"645":1,"646":1,"647":1,"648":1,"649":1,"650":1,"651":1,"652":1,"653":1,"654":1,"655":1,"656":1,"657":1,"658":1,"659":1,"660":1,"661":1,"662":1,"663":1,"664":1,"665":1,"666":1,"667":1,"668":1,"669":1,"670":1,"671":1,"672":1,"673":1,"674":1,"675":1,"676":1,"677":1,"678":1,"679":1,"680":1,"681":1,"682":1,"683":1,"684":1,"685":1,"686":1,"687":1,"688":1,"689":1,"690":1,"691":1,"692":1,"693":1,"694":1,"695":1,"696":1,"697":1,"698":1,"699":1,"700":1,"701":1,"702":1,"703":1,"704":1,"705":1,"706":1,"707":1,"708":1,"709":1,"710":1,"711":1,"712":1,"713":1,"714":1,"715":1,"716":1,"717":1,"718":1,"719":1,"720":1,"721":1,"722":1,"723":1,"724":1,"725":1,"726":1,"727":1,"728":1,"729":1,"730":1,"731":1,"732":1,"733":1,"734":1,"735":1,"736":1,"737":1,"738":1,"739":1,"740":1,"741":1,"742":1,"743":1,"744":1,"745":1,"746":1,"747":1,"748":1,"749":1,"750":1,"751":1,"752":1,"753":1,"754":1,"755":1,"756":1,"757":1,"758":1,"759":1,"760":1,"761":1,';

1 rows affected.

SQL> 
SQL> update max_pairs_test set a = a || '"762":1,"763":1,"764":1,"765":1,"766":1,"767":1,"768":1,"769":1,"770":1,"771":1,"772":1,"773":1,"774":1,"775":1,"776":1,"777":1,"778":1,"779":1,"780":1,"781":1,"782":1,"783":1,"784":1,"785":1,"786":1,"787":1,"788":1,"789":1,"790":1,"791":1,"792":1,"793":1,"794":1,"795":1,"796":1,"797":1,"798":1,"799":1,"800":1,"801":1,"802":1,"803":1,"804":1,"805":1,"806":1,"807":1,"808":1,"809":1,"810":1,"811":1,"812":1,"813":1,"814":1,"815":1,"816":1,"817":1,"818":1,"819":1,"820":1,"821":1,"822":1,"823":1,"824":1,"825":1,"826":1,"827":1,"828":1,"829":1,"830":1,"831":1,"832":1,"833":1,"834":1,"835":1,"836":1,"837":1,"838":1,"839":1,"840":1,"841":1,"842":1,"843":1,"844":1,"845":1,"846":1,"847":1,"848":1,"849":1,"850":1,"851":1,"852":1,"853":1,"854":1,"855":1,"856":1,"857":1,"858":1,"859":1,"860":1,"861":1,"862":1,"863":1,"864":1,"865":1,"866":1,"867":1,"868":1,"869":1,"870":1,"871":1,"872":1,"873":1,"874":1,"875":1,"876":1,"877":1,"878":1,"879":1,"880":1,"881":1,"882":1,"883":1,"884":1,"885":1,"886":1,"887":1,"888":1,"889":1,"890":1,"891":1,"892":1,"893":1,"894":1,"895":1,"896":1,"897":1,"898":1,"899":1,"900":1,"901":1,"902":1,"903":1,"904":1,"905":1,"906":1,"907":1,"908":1,"909":1,"910":1,"911":1,"912":1,"913":1,"914":1,"915":1,"916":1,"917":1,"918":1,"919":1,"920":1,"921":1,"922":1,"923":1,"924":1,"925":1,"926":1,"927":1,"928":1,"929":1,"930":1,"931":1,"932":1,"933":1,"934":1,"935":1,"936":1,"937":1,"938":1,"939":1,"940":1,"941":1,"942":1,"943":1,"944":1,"945":1,"946":1,"947":1,"948":1,"949":1,"950":1,"951":1,"952":1,"953":1,"954":1,"955":1,"956":1,"957":1,"958":1,"959":1,"960":1,"961":1,"962":1,"963":1,"964":1,"965":1,"966":1,"967":1,"968":1,"969":1,"970":1,"971":1,"972":1,"973":1,"974":1,"975":1,"976":1,"977":1,"978":1,"979":1,"980":1,"981":1,"982":1,"983":1,"984":1,"985":1,"986":1,"987":1,"988":1,"989":1,"990":1,"991":1,"992":1,"993":1,"994":1,"995":1,"996":1,"997":1,"998":1,"999":1,"1000":1,"1001":1,"1002":1,"1003":1,"1004":1,"1005":1,"1006":1,"1007":1,"1008":1,"1009":1,"1010":1,"1011":1,"1012":1,"1013":1,"1014":1,"1015":1,"1016":1,"1017":1,"1018":1,"1019":1,"1020":1,"1021":1,"1022":1,"a1023":1,"1024":1}';

1 rows affected.

SQL> 
SQL> select length(a) from max_pairs_test where a is json;

LENGTH(A)           
--------------------
8119                

1 rows fetched.

SQL> select json_value(a, '$[0].a100') from max_pairs_test;

JSON_VALUE(A, '$[0].A100')                                      
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> select json_value(a, '$[0].a596') from max_pairs_test;

JSON_VALUE(A, '$[0].A596')                                      
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> select json_value(a, '$[0].a1023') from max_pairs_test;

JSON_VALUE(A, '$[0].A1023')                                     
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> drop table if exists max_pairs_test;

Succeed.

SQL> 
SQL> ---------------------------------------------------------------------4. json data format (array)
SQL> --valid test
SQL> select 1 from dual where '[[[{[][]},[[]]]]]' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '1,1,2,3,4,565,8]' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '[1,1,2,3,4,565,8' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '[1,1,]2[,3,4,565,8}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '[1,1,2,3,4,565,8}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '[1,1,2,3,[4,565,8]' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '[1,1,2,3,{4},565,8]' is json;

1           
------------

0 rows fetched.

SQL> 
SQL> select 1 from dual where '[[[{},[[]]]]]' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '[1,1,2,3,4,565,8]' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '[1.1,1,9.2,3,4,565,8]' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '[1.1,true,9.2,false,4,565,null,"jkdsd",[5,[{},58,[],[6],5],9,78],{"asa":"sds"}]' is json;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> --max level(32) test 
SQL> select 1 from dual where '[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]' is json;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> --max array item num(1024) test 
SQL> drop table if exists max_array_items_test;

Succeed.

SQL> create table max_array_items_test(a int, b clob);

Succeed.

SQL> insert into max_array_items_test values(1, '[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710]');

1 rows affected.

SQL> insert into max_array_items_test values(2, '[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939]');

1 rows affected.

SQL> insert into max_array_items_test values(3, '[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,991,992,993,994,995,996,997,998,999,1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023]');

1 rows affected.

SQL> insert into max_array_items_test values(4, '[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,991,992,993,994,995,996,997,998,999,1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024]');

1 rows affected.

SQL> 
SQL> select length(b) from max_array_items_test where b is json;

LENGTH(B)           
--------------------
2735                
3651                
4011                
4016                

4 rows fetched.

SQL> select json_value(b, '$[500]') from max_array_items_test;

JSON_VALUE(B, '$[500]')                                         
----------------------------------------------------------------
500                                                             
500                                                             
500                                                             
500                                                             

4 rows fetched.

SQL> select json_value(b, '$[800]') from max_array_items_test;

JSON_VALUE(B, '$[800]')                                         
----------------------------------------------------------------
                                                                
800                                                             
800                                                             
800                                                             

4 rows fetched.

SQL> select json_value(b, '$[900]') from max_array_items_test;

JSON_VALUE(B, '$[900]')                                         
----------------------------------------------------------------
                                                                
900                                                             
900                                                             
900                                                             

4 rows fetched.

SQL> drop table if exists max_array_items_test;

Succeed.

SQL> 
SQL> ---------------------------------------------------------------------5. json data format (varchar2) and mixed test
SQL> --varchar2 type col can only store 8000
SQL> --boundary test
SQL> drop table if exists json_store_test;

Succeed.

SQL> create table json_store_test(a varchar2(8001)
  2     CONSTRAINT ensure1_json CHECK (a IS JSON));

CT-00601, [1:41]Sql syntax error: size value must between 1 and 8000
SQL> drop table if exists json_store_test;

Succeed.

SQL> create table json_store_test(a varchar2(8000)
  2     CONSTRAINT ensure1_json CHECK (a IS JSON));

Succeed.

SQL> insert into json_store_test values('{"name":"' || lpad('asdds', 7989, 'as') || '"}');

1 rows affected.

SQL> insert into json_store_test values('{"name":"' || lpad('asdds', 7990, 'as') || '"}');

CT-01346, The column "A" length exceeded the maximum, (actual: 8001, maximum: 8000).
SQL> select length(a) from  json_store_test;

LENGTH(A)           
--------------------
8000                

1 rows fetched.

SQL> select length(json_value(a, '$.name' error on error)) from  json_store_test;

CT-02502, Output value too large
SQL> select length(json_value(a, '$.name'returning varchar2(7988) error on error)) from  json_store_test;

CT-02502, Output value too large
SQL> select length(json_value(a, '$.name'returning varchar2(7989) error on error)) from  json_store_test;

LENGTH(JSON_VALUE(A, '$.NAME'RETURNING VARCHAR2(7989) ERROR ON E
----------------------------------------------------------------
7989                                                            

1 rows fetched.

SQL> select length(json_value(a, '$.name'returning varchar2(8000) error on error)) from  json_store_test;

LENGTH(JSON_VALUE(A, '$.NAME'RETURNING VARCHAR2(8000) ERROR ON E
----------------------------------------------------------------
7989                                                            

1 rows fetched.

SQL> 
SQL> --valid test
SQL> truncate table json_store_test;

Succeed.

SQL> insert into json_store_test values('{"name":"' || lpad('asdds', 7989, 'as') || '"');

CT-01127, Check constraint violated
SQL> insert into json_store_test values('"name":"' || lpad('asdds', 7989, 'as') || '"}');

CT-01127, Check constraint violated
SQL> insert into json_store_test values('{"name":' || lpad('asdds', 7989, 'as') || '}');

CT-01127, Check constraint violated
SQL> insert into json_store_test values('{"name" "' || lpad('asdds', 7989, 'as') || '"}');

CT-01127, Check constraint violated
SQL> 
SQL> --boundary test
SQL> drop table if exists json_store_test;

Succeed.

SQL> create table json_store_test(a varchar2(8000));

Succeed.

SQL> insert into json_store_test values('{"name":"' || lpad('asdds', 7989, 'as') || '"}');

1 rows affected.

SQL> alter table  json_store_test add CONSTRAINT  dsaaaasadsdd check(a is not json);

CT-01127, Check constraint violated
SQL> alter table  json_store_test add CONSTRAINT  dsaaaasadsdd check(a is json);

Succeed.

SQL> 
SQL> --(MIXED_TEST)
SQL> --mixed type test
SQL> truncate table json_store_test;

Succeed.

SQL> insert into json_store_test values('{
  2         "PONumber": 1600,
  3         "Reference": "ABULL-20140421",
  4         "Requestor": "Alexis Bull",
  5         "User": "ABULL",
  6         "CostCenter": "A50",
  7         "ShippingInstructions": {
  8             "name": "Alexis Bull",
  9             "Address": {
 10                 "street": "200 Sporting Green",
 11                 "city": "South San Francisco",
 12                 "state": "CA",
 13                 "zipCode": 99236,
 14                 "country": "United States of America"
 15             },
 16             "Phone": [{
 17                     "type": "Office",
 18                     "number": "909-555-7307"
 19                 },
 20                 {
 21                     "type": "Mobile",
 22                     "number": "415-555-1234"
 23                 }
 24             ]
 25         },
 26         "Special Instructions": null,
 27         "AllowPartialShipment": false,
 28         "LineItems": [{
 29                 "ItemNumber": 1,
 30                 "Part": {
 31                     "Description": "One Magic Christmas",
 32                     "UnitPrice": 19.95,
 33                     "UPCCode": 13131092899
 34                 },
 35                 "Quantity": 9.0
 36             },
 37             {
 38                 "ItemNumber": 2,
 39                 "Part": {
 40                     "Description": "Lethal Weapon",
 41                     "UnitPrice": 19.95,
 42                     "UPCCode": 85391628927
 43                 },
 44                 "Quantity": 5.0
 45             }
 46         ]
 47     }
 48 ');

1 rows affected.

SQL> 
SQL> 
SQL> select json_value(a, '$.PONumber' error on error) from  json_store_test;

JSON_VALUE(A, '$.PONUMBER' ERROR ON ERROR)                      
----------------------------------------------------------------
1600                                                            

1 rows fetched.

SQL> select json_value(a, '$.Reference' error on error) from  json_store_test;

JSON_VALUE(A, '$.REFERENCE' ERROR ON ERROR)                     
----------------------------------------------------------------
ABULL-20140421                                                  

1 rows fetched.

SQL> select json_value(a, '$.Requestor' error on error) from  json_store_test;

JSON_VALUE(A, '$.REQUESTOR' ERROR ON ERROR)                     
----------------------------------------------------------------
Alexis Bull                                                     

1 rows fetched.

SQL> select json_value(a, '$.User' error on error) from  json_store_test;

JSON_VALUE(A, '$.USER' ERROR ON ERROR)                          
----------------------------------------------------------------
ABULL                                                           

1 rows fetched.

SQL> select json_value(a, '$.CostCenter' error on error) from  json_store_test;

JSON_VALUE(A, '$.COSTCENTER' ERROR ON ERROR)                    
----------------------------------------------------------------
A50                                                             

1 rows fetched.

SQL> select json_query(a, '$.ShippingInstructions' error on error) from  json_store_test;

JSON_QUERY(A, '$.SHIPPINGINSTRUCTIONS' ERROR ON ERROR)          
----------------------------------------------------------------
{"name":"Alexis Bull","Address":{"street":"200 Sporting Green","city":"South San Francisco","state":"CA","zipCode":99236,"country":"United States of America"},"Phone":[{"type":"Office","number":"909-555-7307"},{"type":"Mobile","number":"415-555-1234"}]}

1 rows fetched.

SQL> select json_value(a, '$.ShippingInstructions.name' error on error) from  json_store_test;

JSON_VALUE(A, '$.SHIPPINGINSTRUCTIONS.NAME' ERROR ON ERROR)     
----------------------------------------------------------------
Alexis Bull                                                     

1 rows fetched.

SQL> select json_query(a, '$.ShippingInstructions.Address' error on error) from  json_store_test;

JSON_QUERY(A, '$.SHIPPINGINSTRUCTIONS.ADDRESS' ERROR ON ERROR)  
----------------------------------------------------------------
{"street":"200 Sporting Green","city":"South San Francisco","state":"CA","zipCode":99236,"country":"United States of America"}

1 rows fetched.

SQL> select json_value(a, '$.ShippingInstructions.Address.street' error on error) from  json_store_test;

JSON_VALUE(A, '$.SHIPPINGINSTRUCTIONS.ADDRESS.STREET' ERROR ON E
----------------------------------------------------------------
200 Sporting Green                                              

1 rows fetched.

SQL> select json_value(a, '$.ShippingInstructions.Address.city' error on error) from  json_store_test;

JSON_VALUE(A, '$.SHIPPINGINSTRUCTIONS.ADDRESS.CITY' ERROR ON ERR
----------------------------------------------------------------
South San Francisco                                             

1 rows fetched.

SQL> select json_value(a, '$.ShippingInstructions.Address.state' error on error) from  json_store_test;

JSON_VALUE(A, '$.SHIPPINGINSTRUCTIONS.ADDRESS.STATE' ERROR ON ER
----------------------------------------------------------------
CA                                                              

1 rows fetched.

SQL> select json_value(a, '$.ShippingInstructions.Address.zipCode' error on error) from  json_store_test;

JSON_VALUE(A, '$.SHIPPINGINSTRUCTIONS.ADDRESS.ZIPCODE' ERROR ON 
----------------------------------------------------------------
99236                                                           

1 rows fetched.

SQL> select json_value(a, '$.ShippingInstructions.Address.country' error on error) from  json_store_test;

JSON_VALUE(A, '$.SHIPPINGINSTRUCTIONS.ADDRESS.COUNTRY' ERROR ON 
----------------------------------------------------------------
United States of America                                        

1 rows fetched.

SQL> select json_query(a, '$.ShippingInstructions.Phone' error on error) from  json_store_test;

JSON_QUERY(A, '$.SHIPPINGINSTRUCTIONS.PHONE' ERROR ON ERROR)    
----------------------------------------------------------------
[{"type":"Office","number":"909-555-7307"},{"type":"Mobile","number":"415-555-1234"}]

1 rows fetched.

SQL> select json_query(a, '$.ShippingInstructions.Phone[0]' error on error) from  json_store_test;

JSON_QUERY(A, '$.SHIPPINGINSTRUCTIONS.PHONE[0]' ERROR ON ERROR) 
----------------------------------------------------------------
{"type":"Office","number":"909-555-7307"}                       

1 rows fetched.

SQL> select json_value(a, '$.ShippingInstructions.Phone[0].type' error on error) from  json_store_test;

JSON_VALUE(A, '$.SHIPPINGINSTRUCTIONS.PHONE[0].TYPE' ERROR ON ER
----------------------------------------------------------------
Office                                                          

1 rows fetched.

SQL> select json_value(a, '$.ShippingInstructions.Phone[0].number' error on error) from  json_store_test;

JSON_VALUE(A, '$.SHIPPINGINSTRUCTIONS.PHONE[0].NUMBER' ERROR ON 
----------------------------------------------------------------
909-555-7307                                                    

1 rows fetched.

SQL> select json_query(a, '$.ShippingInstructions.Phone[1]' error on error) from  json_store_test;

JSON_QUERY(A, '$.SHIPPINGINSTRUCTIONS.PHONE[1]' ERROR ON ERROR) 
----------------------------------------------------------------
{"type":"Mobile","number":"415-555-1234"}                       

1 rows fetched.

SQL> select json_value(a, '$.ShippingInstructions.Phone[1].type' error on error) from  json_store_test;

JSON_VALUE(A, '$.SHIPPINGINSTRUCTIONS.PHONE[1].TYPE' ERROR ON ER
----------------------------------------------------------------
Mobile                                                          

1 rows fetched.

SQL> select json_value(a, '$.ShippingInstructions.Phone[1].number' error on error) from  json_store_test;

JSON_VALUE(A, '$.SHIPPINGINSTRUCTIONS.PHONE[1].NUMBER' ERROR ON 
----------------------------------------------------------------
415-555-1234                                                    

1 rows fetched.

SQL> select json_value(a, '$.Special Instructions' error on error error on empty) from  json_store_test;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> select json_value(a, '$.AllowPartialShipment' error on error) from  json_store_test;

JSON_VALUE(A, '$.ALLOWPARTIALSHIPMENT' ERROR ON ERROR)          
----------------------------------------------------------------
false                                                           

1 rows fetched.

SQL> select json_query(a, '$.LineItems' error on error) from  json_store_test;

JSON_QUERY(A, '$.LINEITEMS' ERROR ON ERROR)                     
----------------------------------------------------------------
[{"ItemNumber":1,"Part":{"Description":"One Magic Christmas","UnitPrice":19.95,"UPCCode":13131092899},"Quantity":9.0},{"ItemNumber":2,"Part":{"Description":"Lethal Weapon","UnitPrice":19.95,"UPCCode":85391628927},"Quantity":5.0}]

1 rows fetched.

SQL> select json_query(a, '$.LineItems[0]' error on error) from  json_store_test;

JSON_QUERY(A, '$.LINEITEMS[0]' ERROR ON ERROR)                  
----------------------------------------------------------------
{"ItemNumber":1,"Part":{"Description":"One Magic Christmas","UnitPrice":19.95,"UPCCode":13131092899},"Quantity":9.0}

1 rows fetched.

SQL> select json_value(a, '$.LineItems[0].ItemNumber' error on error) from  json_store_test;

JSON_VALUE(A, '$.LINEITEMS[0].ITEMNUMBER' ERROR ON ERROR)       
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> select json_query(a, '$.LineItems[0].Part' error on error) from  json_store_test;

JSON_QUERY(A, '$.LINEITEMS[0].PART' ERROR ON ERROR)             
----------------------------------------------------------------
{"Description":"One Magic Christmas","UnitPrice":19.95,"UPCCode":13131092899}

1 rows fetched.

SQL> select json_value(a, '$.LineItems[0].Part.Description' error on error) from  json_store_test;

JSON_VALUE(A, '$.LINEITEMS[0].PART.DESCRIPTION' ERROR ON ERROR) 
----------------------------------------------------------------
One Magic Christmas                                             

1 rows fetched.

SQL> select json_value(a, '$.LineItems[0].Part.UnitPrice' error on error) from  json_store_test;

JSON_VALUE(A, '$.LINEITEMS[0].PART.UNITPRICE' ERROR ON ERROR)   
----------------------------------------------------------------
19.95                                                           

1 rows fetched.

SQL> select json_value(a, '$.LineItems[0].Part.UPCCode' error on error) from  json_store_test;

JSON_VALUE(A, '$.LINEITEMS[0].PART.UPCCODE' ERROR ON ERROR)     
----------------------------------------------------------------
13131092899                                                     

1 rows fetched.

SQL> select json_value(a, '$.LineItems[0].Quantity' error on error) from  json_store_test;

JSON_VALUE(A, '$.LINEITEMS[0].QUANTITY' ERROR ON ERROR)         
----------------------------------------------------------------
9.0                                                             

1 rows fetched.

SQL> select json_query(a, '$.LineItems[1]' error on error) from  json_store_test;

JSON_QUERY(A, '$.LINEITEMS[1]' ERROR ON ERROR)                  
----------------------------------------------------------------
{"ItemNumber":2,"Part":{"Description":"Lethal Weapon","UnitPrice":19.95,"UPCCode":85391628927},"Quantity":5.0}

1 rows fetched.

SQL> select json_value(a, '$.LineItems[1].ItemNumber' error on error) from  json_store_test;

JSON_VALUE(A, '$.LINEITEMS[1].ITEMNUMBER' ERROR ON ERROR)       
----------------------------------------------------------------
2                                                               

1 rows fetched.

SQL> select json_query(a, '$.LineItems[1].Part' error on error) from  json_store_test;

JSON_QUERY(A, '$.LINEITEMS[1].PART' ERROR ON ERROR)             
----------------------------------------------------------------
{"Description":"Lethal Weapon","UnitPrice":19.95,"UPCCode":85391628927}

1 rows fetched.

SQL> select json_value(a, '$.LineItems[1].Part.Description' error on error) from  json_store_test;

JSON_VALUE(A, '$.LINEITEMS[1].PART.DESCRIPTION' ERROR ON ERROR) 
----------------------------------------------------------------
Lethal Weapon                                                   

1 rows fetched.

SQL> select json_value(a, '$.LineItems[1].Part.UnitPrice' error on error) from  json_store_test;

JSON_VALUE(A, '$.LINEITEMS[1].PART.UNITPRICE' ERROR ON ERROR)   
----------------------------------------------------------------
19.95                                                           

1 rows fetched.

SQL> select json_value(a, '$.LineItems[1].Part.UPCCode' error on error) from  json_store_test;

JSON_VALUE(A, '$.LINEITEMS[1].PART.UPCCODE' ERROR ON ERROR)     
----------------------------------------------------------------
85391628927                                                     

1 rows fetched.

SQL> select json_value(a, '$.LineItems[1].Quantity' error on error) from  json_store_test;

JSON_VALUE(A, '$.LINEITEMS[1].QUANTITY' ERROR ON ERROR)         
----------------------------------------------------------------
5.0                                                             

1 rows fetched.

SQL> 
SQL> --change format test
SQL> select json_query(a, '$.*.Phone[0]' error on error) from  json_store_test;

JSON_QUERY(A, '$.*.PHONE[0]' ERROR ON ERROR)                    
----------------------------------------------------------------
{"type":"Office","number":"909-555-7307"}                       

1 rows fetched.

SQL> select json_query(a, '$.*.Phone[1]' error on error) from  json_store_test;

JSON_QUERY(A, '$.*.PHONE[1]' ERROR ON ERROR)                    
----------------------------------------------------------------
{"type":"Mobile","number":"415-555-1234"}                       

1 rows fetched.

SQL> select json_value(a, '$.*.Address.street' error on error) from  json_store_test;

JSON_VALUE(A, '$.*.ADDRESS.STREET' ERROR ON ERROR)              
----------------------------------------------------------------
200 Sporting Green                                              

1 rows fetched.

SQL> select json_value(a, '$.*.Address.city' error on error) from  json_store_test;

JSON_VALUE(A, '$.*.ADDRESS.CITY' ERROR ON ERROR)                
----------------------------------------------------------------
South San Francisco                                             

1 rows fetched.

SQL> select json_value(a, '$.*.Address.country' error on error) from  json_store_test;

JSON_VALUE(A, '$.*.ADDRESS.COUNTRY' ERROR ON ERROR)             
----------------------------------------------------------------
United States of America                                        

1 rows fetched.

SQL> select json_value(a, '$.*.*.street' error on error) from  json_store_test;

JSON_VALUE(A, '$.*.*.STREET' ERROR ON ERROR)                    
----------------------------------------------------------------
200 Sporting Green                                              

1 rows fetched.

SQL> select json_value(a, '$.*.*.city' error on error) from  json_store_test;

JSON_VALUE(A, '$.*.*.CITY' ERROR ON ERROR)                      
----------------------------------------------------------------
South San Francisco                                             

1 rows fetched.

SQL> select json_value(a, '$.*.*.country' error on error) from  json_store_test;

JSON_VALUE(A, '$.*.*.COUNTRY' ERROR ON ERROR)                   
----------------------------------------------------------------
United States of America                                        

1 rows fetched.

SQL> select json_value(a, '$.ShippingInstructions.*[0].type' error on error) from  json_store_test;

JSON_VALUE(A, '$.SHIPPINGINSTRUCTIONS.*[0].TYPE' ERROR ON ERROR)
----------------------------------------------------------------
Office                                                          

1 rows fetched.

SQL> select json_value(a, '$.ShippingInstructions.*[0].number' error on error) from  json_store_test;

JSON_VALUE(A, '$.SHIPPINGINSTRUCTIONS.*[0].NUMBER' ERROR ON ERRO
----------------------------------------------------------------
909-555-7307                                                    

1 rows fetched.

SQL> select json_value(a, '$.*.*[0].type' error on error) from  json_store_test;

JSON_VALUE(A, '$.*.*[0].TYPE' ERROR ON ERROR)                   
----------------------------------------------------------------
Office                                                          

1 rows fetched.

SQL> select json_value(a, '$.*.*[0].number' error on error) from  json_store_test;

JSON_VALUE(A, '$.*.*[0].NUMBER' ERROR ON ERROR)                 
----------------------------------------------------------------
909-555-7307                                                    

1 rows fetched.

SQL> select json_value(a, '$[0].*.*[0].type' error on error) from  json_store_test;

JSON_VALUE(A, '$[0].*.*[0].TYPE' ERROR ON ERROR)                
----------------------------------------------------------------
Office                                                          

1 rows fetched.

SQL> select json_value(a, '$[0].*.*[0].number' error on error) from  json_store_test;

JSON_VALUE(A, '$[0].*.*[0].NUMBER' ERROR ON ERROR)              
----------------------------------------------------------------
909-555-7307                                                    

1 rows fetched.

SQL> select json_value(a, '$[*].*.*[0].type' error on error) from  json_store_test;

JSON_VALUE(A, '$[*].*.*[0].TYPE' ERROR ON ERROR)                
----------------------------------------------------------------
Office                                                          

1 rows fetched.

SQL> select json_value(a, '$[*].*.*[0].number' error on error) from  json_store_test;

JSON_VALUE(A, '$[*].*.*[0].NUMBER' ERROR ON ERROR)              
----------------------------------------------------------------
909-555-7307                                                    

1 rows fetched.

SQL> 
SQL> select json_value(a, '$.*[1].*.Description' error on error) from  json_store_test;

JSON_VALUE(A, '$.*[1].*.DESCRIPTION' ERROR ON ERROR)            
----------------------------------------------------------------
Lethal Weapon                                                   

1 rows fetched.

SQL> select json_value(a, '$.LineItems[1].*.Description' error on error) from  json_store_test;

JSON_VALUE(A, '$.LINEITEMS[1].*.DESCRIPTION' ERROR ON ERROR)    
----------------------------------------------------------------
Lethal Weapon                                                   

1 rows fetched.

SQL> select json_value(a, '$.*[1].*.Description[0]' error on error) from  json_store_test;

JSON_VALUE(A, '$.*[1].*.DESCRIPTION[0]' ERROR ON ERROR)         
----------------------------------------------------------------
Lethal Weapon                                                   

1 rows fetched.

SQL> select json_value(a, '$.LineItems[1].*.Description[0]' error on error) from  json_store_test;

JSON_VALUE(A, '$.LINEITEMS[1].*.DESCRIPTION[0]' ERROR ON ERROR) 
----------------------------------------------------------------
Lethal Weapon                                                   

1 rows fetched.

SQL> select json_value(a, '$.*[1 to].*.Description[0]' error on error) from  json_store_test;

JSON_VALUE(A, '$.*[1 TO].*.DESCRIPTION[0]' ERROR ON ERROR)      
----------------------------------------------------------------
Lethal Weapon                                                   

1 rows fetched.

SQL> select json_value(a, '$.LineItems[1 to].*.Description[to]' error on error) from  json_store_test;

JSON_VALUE(A, '$.LINEITEMS[1 TO].*.DESCRIPTION[TO]' ERROR ON ERR
----------------------------------------------------------------
Lethal Weapon                                                   

1 rows fetched.

SQL> select json_value(a, '$.*[1].Quantity' error on error) from  json_store_test;

JSON_VALUE(A, '$.*[1].QUANTITY' ERROR ON ERROR)                 
----------------------------------------------------------------
5.0                                                             

1 rows fetched.

SQL> select json_value(a, '$.*[1 to].Quantity' error on error) from  json_store_test;

JSON_VALUE(A, '$.*[1 TO].QUANTITY' ERROR ON ERROR)              
----------------------------------------------------------------
5.0                                                             

1 rows fetched.

SQL> select json_value(a, '$.*[1 to].Quantity[0]' error on error) from  json_store_test;

JSON_VALUE(A, '$.*[1 TO].QUANTITY[0]' ERROR ON ERROR)           
----------------------------------------------------------------
5.0                                                             

1 rows fetched.

SQL> select json_value(a, '$[*].*[1 to].Quantity[0]' error on error) from  json_store_test;

JSON_VALUE(A, '$[*].*[1 TO].QUANTITY[0]' ERROR ON ERROR)        
----------------------------------------------------------------
5.0                                                             

1 rows fetched.

SQL> 
SQL> select json_value(a, '$.*[0 to 1].*.Description[0]' error on error) from  json_store_test;

CT-02506, JSON_VALUE evaluated to multiple value
SQL> select json_value(a, '$.*[ to 1].*.Description[0]' error on error) from  json_store_test;

CT-02506, JSON_VALUE evaluated to multiple value
SQL> 
SQL> select json_query(a, '$.*.Phone[0]' error on error) from  json_store_test;

JSON_QUERY(A, '$.*.PHONE[0]' ERROR ON ERROR)                    
----------------------------------------------------------------
{"type":"Office","number":"909-555-7307"}                       

1 rows fetched.

SQL> 
SQL> select json_value(a, '$.LineItems[0 to 1].Quantity' error on error) from  json_store_test;

CT-02506, JSON_VALUE evaluated to multiple value
SQL> select json_query(a, '$.LineItems[0 to 1]' error on error) from  json_store_test;

CT-02506, JSON_VALUE evaluated to multiple value
SQL> select json_query(a, '$.LineItems[0]' error on error) from  json_store_test;

JSON_QUERY(A, '$.LINEITEMS[0]' ERROR ON ERROR)                  
----------------------------------------------------------------
{"ItemNumber":1,"Part":{"Description":"One Magic Christmas","UnitPrice":19.95,"UPCCode":13131092899},"Quantity":9.0}

1 rows fetched.

SQL> select json_query(a, '$.LineItems[1]' error on error) from  json_store_test;

JSON_QUERY(A, '$.LINEITEMS[1]' ERROR ON ERROR)                  
----------------------------------------------------------------
{"ItemNumber":2,"Part":{"Description":"Lethal Weapon","UnitPrice":19.95,"UPCCode":85391628927},"Quantity":5.0}

1 rows fetched.

SQL> 
SQL> drop table if exists json_store_test;

Succeed.

SQL> 
SQL> ---------------------------------------------------------------------5. json data format (clob)
SQL> 
SQL> drop table if exists json_store_test;

Succeed.

SQL> create table json_store_test(a clob);

Succeed.

SQL> 
SQL> --boundary test,max length (1M) todo....
SQL> truncate table json_store_test;

Succeed.

SQL> insert into json_store_test values(lpad('hello', 8000, 'hello'));

1 rows affected.

SQL> update json_store_test set a = a || '","' || a || '","' || a || '","' || a || '","' || a;

1 rows affected.

SQL> update json_store_test set a = a || '","' || a || '","' || a || '","' || a || '","' || a;

1 rows affected.

SQL> update json_store_test set a = a || '","' || a || '","' || a || '","' || a;

1 rows affected.

SQL> update json_store_test set a = '["' || a;

1 rows affected.

SQL> update json_store_test set a = a || '"]';

1 rows affected.

SQL> 
SQL> alter table  json_store_test add CONSTRAINT  dsaaaadsdd check(a is not json);

CT-01127, Check constraint violated
SQL> alter table  json_store_test add CONSTRAINT  dsaaaadsdd check(a is json);

Succeed.

SQL> select length(a) from json_store_test;

LENGTH(A)           
--------------------
800301              

1 rows fetched.

SQL> select length(json_value(a, '$[0]' error on error)) from json_store_test;

CT-02502, Output value too large
SQL> select length(json_value(a, '$[0]' returning varchar2(10000) error on error)) from json_store_test;

LENGTH(JSON_VALUE(A, '$[0]' RETURNING VARCHAR2(10000) ERROR ON E
----------------------------------------------------------------
8000                                                            

1 rows fetched.

SQL> select length(json_value(a, '$[10]' error on error)) from json_store_test;

CT-02502, Output value too large
SQL> select length(json_value(a, '$[10]' returning varchar2(10000) error on error)) from json_store_test;

LENGTH(JSON_VALUE(A, '$[10]' RETURNING VARCHAR2(10000) ERROR ON 
----------------------------------------------------------------
8000                                                            

1 rows fetched.

SQL> select length(json_value(a, '$[60]' error on error)) from json_store_test;

CT-02502, Output value too large
SQL> select length(json_value(a, '$[60]' returning varchar2(10000) error on error)) from json_store_test;

LENGTH(JSON_VALUE(A, '$[60]' RETURNING VARCHAR2(10000) ERROR ON 
----------------------------------------------------------------
8000                                                            

1 rows fetched.

SQL> select length(json_value(a, '$[100]' error on error)) from json_store_test;

CT-02506, JSON_VALUE evaluated to no value
SQL> select length(json_value(a, '$[100]' returning varchar2(10000) error on error)) from json_store_test;

CT-02506, JSON_VALUE evaluated to no value
SQL> select length(json_value(a, '$[1000]' error on error)) from json_store_test;

CT-02506, JSON_VALUE evaluated to no value
SQL> select length(json_value(a, '$[1000]' returning varchar2(10000) error on error)) from json_store_test;

CT-02506, JSON_VALUE evaluated to no value
SQL> 
SQL> --exceed 1M data
SQL> truncate table json_store_test;

Succeed.

SQL> alter table  json_store_test drop CONSTRAINT  dsaaaadsdd;

Succeed.

SQL> insert into json_store_test values(lpad('hello', 8000, 'hello'));

1 rows affected.

SQL> update json_store_test set a = a || '","' || a || '","' || a || '","' || a || '","' || a;

1 rows affected.

SQL> update json_store_test set a = a || '","' || a || '","' || a || '","' || a || '","' || a;

1 rows affected.

SQL> update json_store_test set a = a || '","' || a || '","' || a || '","' || a || '","' || a || '","' || a;

1 rows affected.

SQL> update json_store_test set a = '["' || a;

1 rows affected.

SQL> update json_store_test set a = a || '"]';

1 rows affected.

SQL> 
SQL> alter table  json_store_test add CONSTRAINT  dsaaaadsdd check(a is not json);

CT-01127, Check constraint violated
SQL> alter table  json_store_test add CONSTRAINT  dsaaaadsdd check(a is json);

Succeed.

SQL> select length(a) from json_store_test;

LENGTH(A)           
--------------------
1200451             

1 rows fetched.

SQL> select length(json_value(a, '$[0]' error on error)) from json_store_test;

CT-02502, Output value too large
SQL> select length(json_value(a, '$[0]' returning varchar2(10000) error on error)) from json_store_test;

LENGTH(JSON_VALUE(A, '$[0]' RETURNING VARCHAR2(10000) ERROR ON E
----------------------------------------------------------------
8000                                                            

1 rows fetched.

SQL> 
SQL> 
SQL> ---------------------------------------------------------------------5. json data format (is [not] json)
SQL> 
SQL> select 1 from dual where sysdate is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where localtimestamp is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where current_timestamp is json;

1           
------------

0 rows fetched.

SQL> 
SQL> --1:invalid json data,is json: false   is not json:true
SQL> select 1 from dual where '{asdasdsadsadsa}' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where '{asdasdsadsadsa}' is not json;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> --2: '' and null, both return null
SQL> select 1 from dual where (null is json);

1           
------------

0 rows fetched.

SQL> select 1 from dual where (null is not json);

1           
------------

0 rows fetched.

SQL> select 1 from dual where ('' is json);

1           
------------

0 rows fetched.

SQL> select 1 from dual where ('' is not json);

1           
------------

0 rows fetched.

SQL> 
SQL> select 1 from dual where json_value(null, '$') is null;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_value('', '$') is null;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> --3:scalar json data(number string true false null),is json: false   is not json:true
SQL> SELECT 1 FROM DUAL WHERE '1.23456' IS JSON;

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM DUAL WHERE '"Hello"' IS JSON;

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM DUAL WHERE 'Hello' IS JSON;

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM DUAL WHERE 'true' IS JSON;

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM DUAL WHERE 'false' IS JSON;

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM DUAL WHERE 'null' IS JSON;

1           
------------

0 rows fetched.

SQL> 
SQL> --4:invalid json data,is json: true   is not json:false
SQL> SELECT 1 FROM DUAL WHERE '{}' IS JSON;

1           
------------
1           

1 rows fetched.

SQL> SELECT 1 FROM DUAL WHERE '{"name":"First Primary School"}' IS JSON;

1           
------------
1           

1 rows fetched.

SQL> SELECT 1 FROM DUAL WHERE '[]' IS JSON;

1           
------------
1           

1 rows fetched.

SQL> SELECT 1 FROM DUAL WHERE '[1,2,3]' IS JSON;

1           
------------
1           

1 rows fetched.

SQL> 
SQL> --is json apply in table
SQL> drop table if exists json_valid_test;

Succeed.

SQL> create table json_valid_test(a varchar2(4000) check(a is json), b varchar2(4000) check(b is not json), 
  2     c int, d int, e varchar2(4000));

Succeed.

SQL> alter table  json_valid_test add CONSTRAINT  dsadsdd check(c<800 and d >50 and c+d > 80 and e is json);

Succeed.

SQL> 
SQL> truncate table json_valid_test;

Succeed.

SQL> insert into json_valid_test values('{"say":"hello"}', '{"hehe" "yeh"}', 10, 90, '{"qwer":{"asdf":3243}}');

1 rows affected.

SQL> select * from json_valid_test;

A                                                                B                                                                C            D            E                                                               
---------------------------------------------------------------- ---------------------------------------------------------------- ------------ ------------ ----------------------------------------------------------------
{"say":"hello"}                                                  {"hehe" "yeh"}                                                   10           90           {"qwer":{"asdf":3243}}                                          

1 rows fetched.

SQL> select json_query(a, '$') from json_valid_test;

JSON_QUERY(A, '$')                                              
----------------------------------------------------------------
{"say":"hello"}                                                 

1 rows fetched.

SQL> select json_query(e, '$') from json_valid_test;

JSON_QUERY(E, '$')                                              
----------------------------------------------------------------
{"qwer":{"asdf":3243}}                                          

1 rows fetched.

SQL> select json_query(e, '$.qwer') from json_valid_test;

JSON_QUERY(E, '$.QWER')                                         
----------------------------------------------------------------
{"asdf":3243}                                                   

1 rows fetched.

SQL> 
SQL> select json_query(a, '$') from json_valid_test;

JSON_QUERY(A, '$')                                              
----------------------------------------------------------------
{"say":"hello"}                                                 

1 rows fetched.

SQL> select json_query(a, '$') from json_valid_test;

JSON_QUERY(A, '$')                                              
----------------------------------------------------------------
{"say":"hello"}                                                 

1 rows fetched.

SQL> select json_query(a, '$') from json_valid_test;

JSON_QUERY(A, '$')                                              
----------------------------------------------------------------
{"say":"hello"}                                                 

1 rows fetched.

SQL> select json_query(a, '$') from json_valid_test;

JSON_QUERY(A, '$')                                              
----------------------------------------------------------------
{"say":"hello"}                                                 

1 rows fetched.

SQL> 
SQL> -- check constraint violated
SQL> insert into json_valid_test values('"say":"hello"}', '{"hehe" "yeh"}', 10, 90, '{"qwer":{"asdf":3243}}');

CT-01127, Check constraint violated
SQL> insert into json_valid_test values('{"say":"hello"}', '{"hehe" "yeh"}', -100, 90, '{"qwer":{"asdf":3243}}');

CT-01127, Check constraint violated
SQL> insert into json_valid_test values('{"say":"hello"}', '{"hehe" "yeh"}', 800, 90, '{"qwer":{"asdf":3243}}');

CT-01127, Check constraint violated
SQL> insert into json_valid_test values('{"say":"hello"}', '{"hehe" "yeh"}', 10, 40, '{"qwer":{"asdf":3243}}');

CT-01127, Check constraint violated
SQL> insert into json_valid_test values('{"say":"hello"}', '{"hehe" : "yeh"}', 10, 90, '{"qwer":{"asdf":3243}}');

CT-01127, Check constraint violated
SQL> insert into json_valid_test values('{"say":"hello"}', '{"hehe" "yeh"}', 10, 90, '{"qwer":{asdf:3243}}');

CT-01127, Check constraint violated
SQL> insert into json_valid_test values('{"say" "hello"}', '{"hehe" "yeh"}', 10, 90, '{"qwer":{"asdf":3243}}');

CT-01127, Check constraint violated
SQL> insert into json_valid_test values('{"say":"hello"}', '{"hehe" : "yeh"}', 10, -10, '{"qwer":{"asdf":3243}}');

CT-01127, Check constraint violated
SQL> insert into json_valid_test values('{"say":"hello"}', '{"hehe"  "yeh"}', 10, 90, '{"qwer":"asdf":3243}}');

CT-01127, Check constraint violated
SQL> 
SQL> SELECT   123456, CASE WHEN ('[1,2,3]' IS JSON) THEN 666      
  2     ELSE 888
  3     END
  4 FROM dual;

123456       CASE WHEN ('[1,2,3]' IS JSON) THEN 666
ELSE 888
END
------------ ---------------------------------------------------
123456       666                                                

1 rows fetched.

SQL> 
SQL> SELECT   123456, CASE WHEN ('[1,2,3]' IS not JSON) THEN 666      
  2     ELSE 888
  3     END
  4 FROM dual;

123456       CASE WHEN ('[1,2,3]' IS NOT JSON) THEN 666
ELSE 888
END
------------ -------------------------------------------------------
123456       888                                                    

1 rows fetched.

SQL> 
SQL> ---------------------------------------------------------------------6. json_value && json_query
SQL> ----(SEARCH_POINT_SCALER_TEST)
SQL> --number
SQL> --orcale: inconsistent datatypes: expected - got NUMBER
SQL> --zenith: invalid input syntax for json, JSON syntax error, unexpected scaler value.
SQL> select json_value(3218569.3218569, '$') from dual;

JSON_VALUE(3218569.3218569, '$')                                
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value(3218569.3218569, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query(3218569.3218569, '$') from dual;

JSON_QUERY(3218569.3218569, '$')                                
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query(3218569.3218569, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --run same as orcale
SQL> select json_value('3218569.3218569', '$') from dual;

JSON_VALUE('3218569.3218569', '$')                              
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('3218569.3218569', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('3218569.3218569', '$') from dual;

JSON_QUERY('3218569.3218569', '$')                              
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('3218569.3218569', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --run same as orcale
SQL> select json_value('"3218569.3218569"', '$') from dual;

JSON_VALUE('"3218569.3218569"', '$')                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('"3218569.3218569"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('"3218569.3218569"', '$') from dual;

JSON_QUERY('"3218569.3218569"', '$')                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('"3218569.3218569"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> 
SQL> -------------------------------------------------------------------------
SQL> --constant string
SQL> --run same as orcale
SQL> select json_value(assadfergre4323dfsfdsdfg, '$') from dual;

CT-00601, [1:19]Sql syntax error: invalid column name 'ASSADFERGRE4323DFSFDSDFG'
SQL> select json_value(assadfergre4323dfsfdsdfg, '$' error on error) from dual;

CT-00601, [1:19]Sql syntax error: invalid column name 'ASSADFERGRE4323DFSFDSDFG'
SQL> select json_query(assadfergre4323dfsfdsdfg, '$') from dual;

CT-00601, [1:19]Sql syntax error: invalid column name 'ASSADFERGRE4323DFSFDSDFG'
SQL> select json_query(assadfergre4323dfsfdsdfg, '$' error on error) from dual;

CT-00601, [1:19]Sql syntax error: invalid column name 'ASSADFERGRE4323DFSFDSDFG'
SQL> 
SQL> select json_value('assadfergre4323dfsfdsdfg', '$') from dual;

JSON_VALUE('ASSADFERGRE4323DFSFDSDFG', '$')                     
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('assadfergre4323dfsfdsdfg', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('assadfergre4323dfsfdsdfg', '$') from dual;

JSON_QUERY('ASSADFERGRE4323DFSFDSDFG', '$')                     
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('assadfergre4323dfsfdsdfg', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> select json_value('"assadfergre4323dfsfdsdfg"', '$') from dual;

JSON_VALUE('"ASSADFERGRE4323DFSFDSDFG"', '$')                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('"assadfergre4323dfsfdsdfg"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('"assadfergre4323dfsfdsdfg"', '$') from dual;

JSON_QUERY('"ASSADFERGRE4323DFSFDSDFG"', '$')                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('"assadfergre4323dfsfdsdfg"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> 
SQL> -------------------------------------------------------------------------
SQL> --boolean
SQL> --orcale: invalid identifier
SQL> select json_value(true, '$') from dual;

JSON_VALUE(TRUE, '$')                                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value(true, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_value(false, '$') from dual;

JSON_VALUE(FALSE, '$')                                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value(false, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query(true, '$') from dual;

JSON_QUERY(TRUE, '$')                                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query(true, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query(false, '$') from dual;

JSON_QUERY(FALSE, '$')                                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query(false, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --orcale: JSON syntax error
SQL> select json_value('true', '$') from dual;

JSON_VALUE('TRUE', '$')                                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('true', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_value('false', '$') from dual;

JSON_VALUE('FALSE', '$')                                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('false', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('true', '$') from dual;

JSON_QUERY('TRUE', '$')                                         
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('true', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('false', '$') from dual;

JSON_QUERY('FALSE', '$')                                        
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('false', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> select json_value(' true ', '$') from dual;

JSON_VALUE(' TRUE ', '$')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value(' true ', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_value(' false ', '$') from dual;

JSON_VALUE(' FALSE ', '$')                                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value(' false ', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query(' true ', '$') from dual;

JSON_QUERY(' TRUE ', '$')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query(' true ', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query(' false ', '$') from dual;

JSON_QUERY(' FALSE ', '$')                                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query(' false ', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --orcale: JSON syntax error
SQL> select json_value('"true"', '$') from dual;

JSON_VALUE('"TRUE"', '$')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('"true"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_value('"false"', '$') from dual;

JSON_VALUE('"FALSE"', '$')                                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('"false"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('"true"', '$') from dual;

JSON_QUERY('"TRUE"', '$')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('"true"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('"false"', '$') from dual;

JSON_QUERY('"FALSE"', '$')                                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('"false"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> select json_value('   "  true"', '$') from dual;

JSON_VALUE('   "  TRUE"', '$')                                  
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('   "  true"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_value('   "  false"', '$') from dual;

JSON_VALUE('   "  FALSE"', '$')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('   "  false"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('   "  true"', '$') from dual;

JSON_QUERY('   "  TRUE"', '$')                                  
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('   "  true"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_query('   "  false"', '$') from dual;

JSON_QUERY('   "  FALSE"', '$')                                 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('   "  false"', '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> --orcale: JSON syntax error
SQL> select json_value('false', '$.a.b') from dual;

JSON_VALUE('FALSE', '$.A.B')                                    
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('false', '$.a.b' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_value('false', '$.a.b' null on error) from dual;

JSON_VALUE('FALSE', '$.A.B' NULL ON ERROR)                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> select json_value('false', '$.a.b' error on empty) from dual;--doesn't take effect

JSON_VALUE('FALSE', '$.A.B' ERROR ON EMPTY)                     
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('false', '$.a.b' null on empty) from dual;--doesn't take effect

JSON_VALUE('FALSE', '$.A.B' NULL ON EMPTY)                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> --the first param of json_value and json_query is scalar will raise a json data syntax error
SQL> 
SQL> ----(SEARCH_POINT_SCALER_TEST)
SQL> select json_value(sysdate, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_value(localtimestamp, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> select json_value(current_timestamp, '$' error on error) from dual;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> select json_value('{]', '$.a.b') from dual;

JSON_VALUE('{]', '$.A.B')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{]', '$.a.b' error on error) from dual;

CT-02504, [1:21]JSON syntax error, " expected but ] found
SQL> select json_value('{{]]]]', '$.a.b') from dual;

JSON_VALUE('{{]]]]', '$.A.B')                                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{{]]]]', '$.a.b' error on error) from dual;

CT-02504, [1:21]JSON syntax error, " expected but { found
SQL> select json_value('{dsfdsfe}', '$.a.b') from dual;

JSON_VALUE('{DSFDSFE}', '$.A.B')                                
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{dsfdsfe}', '$.a.b' error on error) from dual;

CT-02504, [1:21]JSON syntax error, " expected but d found
SQL> select json_value('{dsf,dsfe}', '$.a.b') from dual;

JSON_VALUE('{DSF,DSFE}', '$.A.B')                               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{dsf,dsfe}', '$.a.b' error on error) from dual;

CT-02504, [1:21]JSON syntax error, " expected but d found
SQL> select json_query('{]', '$.a.b') from dual;

JSON_QUERY('{]', '$.A.B')                                       
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{]', '$.a.b' error on error) from dual;

CT-02504, [1:21]JSON syntax error, " expected but ] found
SQL> select json_query('{{]]]]', '$.a.b') from dual;

JSON_QUERY('{{]]]]', '$.A.B')                                   
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{{]]]]', '$.a.b' error on error) from dual;

CT-02504, [1:21]JSON syntax error, " expected but { found
SQL> select json_query('{dsfdsfe}', '$.a.b') from dual;

JSON_QUERY('{DSFDSFE}', '$.A.B')                                
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{dsfdsfe}', '$.a.b' error on error) from dual;

CT-02504, [1:21]JSON syntax error, " expected but d found
SQL> select json_query('{dsf,dsfe}', '$.a.b') from dual;

JSON_QUERY('{DSF,DSFE}', '$.A.B')                               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{dsf,dsfe}', '$.a.b' error on error) from dual;

CT-02504, [1:21]JSON syntax error, " expected but d found
SQL> 
SQL> --escaped strs test you can search(ESCAPED_STRS_TEST)
SQL> --valid test you can search --(MIXED_TEST)
SQL> --json data format test you can see above
SQL> 
SQL> ---------------------------------------------------------------------6. json path expr test
SQL> 
SQL> --we are controling the range
SQL> select json_value('[]', '$') from dual;

JSON_VALUE('[]', '$')                                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{}', '$') from dual;

JSON_VALUE('{}', '$')                                           
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('[]', '$' error on error) from dual;

CT-02506, JSON_VALUE evaluated to non-scalar value
SQL> select json_value('{}', '$' error on error) from dual;

CT-02506, JSON_VALUE evaluated to non-scalar value
SQL> select json_query('[]', '$') from dual;

JSON_QUERY('[]', '$')                                           
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> select json_query('{}', '$') from dual;

JSON_QUERY('{}', '$')                                           
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> select json_query('[]', '$' error on error) from dual;

JSON_QUERY('[]', '$' ERROR ON ERROR)                            
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> select json_query('{}', '$' error on error) from dual;

JSON_QUERY('{}', '$' ERROR ON ERROR)                            
----------------------------------------------------------------
{}                                                              

1 rows fetched.

SQL> 
SQL> --,max level is 32
SQL> drop table if exists json_path_expr_test;

Succeed.

SQL> create table json_path_expr_test(a varchar2(8000));

Succeed.

SQL> alter table  json_path_expr_test add CONSTRAINT  dsaasdassafsdddsdd check(a is json);

Succeed.

SQL> 
SQL> truncate table json_path_expr_test;

Succeed.

SQL> insert into json_path_expr_test values(
  2  '[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]');

1 rows affected.

SQL> insert into json_path_expr_test values(
  2  '[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]');

1 rows affected.

SQL> 
SQL> select * from  json_path_expr_test;

A                                                               
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$') from json_path_expr_test;

JSON_QUERY(A, '$')                                              
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1]') from json_path_expr_test;

JSON_QUERY(A, '$[1]')                                           
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1]')                                        
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1]')                                     
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1]')                                  
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1]')                               
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1]')                            
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1]')                         
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1]')                      
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1]')                   
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1]')                
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1]')             
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1]')          
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1]')       
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1]')    
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') 
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]] 
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]]]

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]     
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]] 

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]         
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]]     

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]             
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]]         

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]                 
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]]             

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]                     
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]]                 

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]                         
[1,[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]]                     

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]                             
[1,[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]]                         

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]                                 
[1,[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]]                             

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[1,[1,[1,[1,[2]]]]]]]                                     
[1,[1,[1,[1,[1,[1,[1,[2]]]]]]]]                                 

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[1,[1,[1,[2]]]]]]                                         
[1,[1,[1,[1,[1,[1,[2]]]]]]]                                     

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[1,[1,[2]]]]]                                             
[1,[1,[1,[1,[1,[2]]]]]]                                         

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[1,[2]]]]                                                 
[1,[1,[1,[1,[2]]]]]                                             

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[1,[2]]]                                                     
[1,[1,[1,[2]]]]                                                 

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[1,[2]]                                                         
[1,[1,[2]]]                                                     

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
[2]                                                             
[1,[2]]                                                         

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

JSON_QUERY(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
                                                                
[2]                                                             

2 rows fetched.

SQL> select json_value(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][0]') from json_path_expr_test;

JSON_VALUE(A, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]
----------------------------------------------------------------
2                                                               
1                                                               

2 rows fetched.

SQL> select json_query(a, '$[1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1][1]') from json_path_expr_test;

CT-02503, JSON path expression syntax error, exceed max path nest level(maximum: 32)
SQL> 
SQL> 
SQL> truncate table json_path_expr_test;

Succeed.

SQL> insert into json_path_expr_test values(
  2  '{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}');

1 rows affected.

SQL> insert into json_path_expr_test values(
  2  '{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}');

1 rows affected.

SQL> 
SQL> select json_query(a, '$') from json_path_expr_test;

JSON_QUERY(A, '$')                                              
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A') from json_path_expr_test;

JSON_QUERY(A, '$.A')                                            
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A')                                          
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A')                                        
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A')                                      
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A')                                    
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A')                                  
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A')                                
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A')                              
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A')                            
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A')                          
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A')                        
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A')                      
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A')                    
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A')                  
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A')                
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A')              
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A')            
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A')          
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A')        
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A')      
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A')    
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A')  
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A')
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}      
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}}

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}            
{"A":{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}}      

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}                  
{"A":{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}}            

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A
----------------------------------------------------------------
{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}                        
{"A":{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}}                  

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A
----------------------------------------------------------------
{"A":{"A":{"A":{"A":"asdsadsa"}}}}                              
{"A":{"A":{"A":{"A":{"A":"asdsadsa"}}}}}                        

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A
----------------------------------------------------------------
{"A":{"A":{"A":"asdsadsa"}}}                                    
{"A":{"A":{"A":{"A":"asdsadsa"}}}}                              

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A
----------------------------------------------------------------
{"A":{"A":"asdsadsa"}}                                          
{"A":{"A":{"A":"asdsadsa"}}}                                    

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

JSON_QUERY(A, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A
----------------------------------------------------------------
{"A":"asdsadsa"}                                                
{"A":{"A":"asdsadsa"}}                                          

2 rows fetched.

SQL> select json_query(a, '$.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A.A') from json_path_expr_test;

CT-02503, JSON path expression syntax error, exceed max path nest level(maximum: 32)
SQL> 
SQL> --max length
SQL> select json_value('[0]','$   .   qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq') from dual;

JSON_VALUE('[0]','$   .   QQQQQQQQQQQQQQQQQQ.    QQQQQQQQQQQQQQQ
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('[0]','$   .    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq.    qqqqqqqqqqqqqqqqqq') from dual;

CT-02503, JSON path expression syntax error, exceed max path length(maximum: 256)
SQL> 
SQL> 
SQL> --max num of arrays indexes
SQL> select json_value('[1,2.3,5]', '$[to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to]') from dual;

JSON_VALUE('[1,2.3,5]', '$[TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,T
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> select json_value('[1,2.3,5]', '$[to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to]') from dual;

JSON_VALUE('[1,2.3,5]', '$[TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,T
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> select json_value('[1,2.3,5]', '$[to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to]') from dual;

JSON_VALUE('[1,2.3,5]', '$[TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,T
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> select json_value('[1,2.3,5]', '$[to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to]') from dual;

JSON_VALUE('[1,2.3,5]', '$[TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,T
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> select json_value('[1,2.3,5]', '$[to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to]') from dual;

JSON_VALUE('[1,2.3,5]', '$[TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,TO,T
----------------------------------------------------------------
1                                                               

1 rows fetched.

SQL> select json_value('[1,2.3,5]', '$[to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to]') from dual;

CT-02503, JSON path expression syntax error, exceed max array index pairs(maximum: 32)
SQL> select json_value('[1,2.3,5]', '$[to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to,to]') from dual;

CT-02503, JSON path expression syntax error, exceed max array index pairs(maximum: 32)
SQL> 
SQL> --max stepname 68-1 , The excess will be truncated
SQL> select json_value('[{"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq":123456},2.3,5]', '$[0].qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq') from dual;

JSON_VALUE('[{"QQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ":12345
----------------------------------------------------------------
123456                                                          

1 rows fetched.

SQL> select json_value('[{"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq":123456},2.3,5]', '$[0].qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq') from dual;

JSON_VALUE('[{"QQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ":1234
----------------------------------------------------------------
123456                                                          

1 rows fetched.

SQL> select json_value('[{"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq":123456},2.3,5]', '$[0].qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq') from dual;

JSON_VALUE('[{"QQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ":123
----------------------------------------------------------------
123456                                                          

1 rows fetched.

SQL> select json_value('[{"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq":123456},2.3,5]', '$[0].qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq') from dual;

JSON_VALUE('[{"QQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ":12
----------------------------------------------------------------
123456                                                          

1 rows fetched.

SQL> select json_value('[{"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq":123456},2.3,5]', '$[0].qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq') from dual;

JSON_VALUE('[{"QQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ":1
----------------------------------------------------------------
123456                                                          

1 rows fetched.

SQL> 
SQL> select json_value('[{"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq":123456},2.3,5]', '$[0].qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq') from dual;

JSON_VALUE('[{"QQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ
----------------------------------------------------------------
123456                                                          

1 rows fetched.

SQL> select json_value('[{"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq":123456},2.3,5]', '$[0].qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq') from dual;

JSON_VALUE('[{"QQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ
----------------------------------------------------------------
123456                                                          

1 rows fetched.

SQL> select json_value('[{"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq":123456},2.3,5]', '$[0].qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq') from dual;

JSON_VALUE('[{"QQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ
----------------------------------------------------------------
123456                                                          

1 rows fetched.

SQL> select json_value('[{"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq":123456},2.3,5]', '$[0].qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq') from dual;

JSON_VALUE('[{"QQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ
----------------------------------------------------------------
123456                                                          

1 rows fetched.

SQL> select json_value('[{"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq":123456},2.3,5]', '$[0].qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq') from dual;

CT-02503, JSON path expression syntax error, the current length(69) of step name has exceeded maximum length(68)
SQL> 
SQL> 
SQL> ---------------------------------------------------------------------6. json path returning test
SQL> --size test desc -q you can also search(RETUNING_SIZE_TEST)
SQL> select length('{"name":"' || lpad('asdds', 9990, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 9990, 'AS') || '"}')
--------------------------------------------------------
8011                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 7990, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 7990, 'AS') || '"}')
--------------------------------------------------------
8001                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 7989, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 7989, 'AS') || '"}')
--------------------------------------------------------
8000                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 6666, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 6666, 'AS') || '"}')
--------------------------------------------------------
6677                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 4000, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 4000, 'AS') || '"}')
--------------------------------------------------------
4011                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 3990, 'as') || '"}') from dual; 

LENGTH('{"NAME":"' || LPAD('ASDDS', 3990, 'AS') || '"}')
--------------------------------------------------------
4001                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 3989, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 3989, 'AS') || '"}')
--------------------------------------------------------
4000                                                    

1 rows fetched.

SQL> select length('{"name":"' || lpad('asdds', 3199, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 3199, 'AS') || '"}')
--------------------------------------------------------
3210                                                    

1 rows fetched.

SQL> 
SQL> --default return size 3900 of json_value
SQL> select length(json_value('{"name":"' || lpad('asdds', 9990, 'as') || '"}', '$.name' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_value('{"name":"' || lpad('asdds', 7990, 'as') || '"}', '$.name' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_value('{"name":"' || lpad('asdds', 7989, 'as') || '"}', '$.name' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_value('{"name":"' || lpad('asdds', 6666, 'as') || '"}', '$.name' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_value('{"name":"' || lpad('asdds', 4000, 'as') || '"}', '$.name' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_value('{"name":"' || lpad('asdds', 3990, 'as') || '"}', '$.name' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_value('{"name":"' || lpad('asdds', 3989, 'as') || '"}', '$.name' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_value('{"name":"' || lpad('asdds', 3199, 'as') || '"}', '$.name' error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 3199, 'AS') || '"
----------------------------------------------------------------
3199                                                            

1 rows fetched.

SQL> 
SQL> --default return size 3900 of json_query
SQL> select length(json_query('{"name":"' || lpad('asdds', 9990, 'as') || '"}', '$' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_query('{"name":"' || lpad('asdds', 7990, 'as') || '"}', '$' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_query('{"name":"' || lpad('asdds', 7989, 'as') || '"}', '$' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_query('{"name":"' || lpad('asdds', 6666, 'as') || '"}', '$' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_query('{"name":"' || lpad('asdds', 4000, 'as') || '"}', '$' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_query('{"name":"' || lpad('asdds', 3990, 'as') || '"}', '$' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_query('{"name":"' || lpad('asdds', 3989, 'as') || '"}', '$' error on error)) from dual;

CT-02502, Output value too large
SQL> select length(json_query('{"name":"' || lpad('asdds', 3199, 'as') || '"}', '$' error on error)) from dual;

LENGTH(JSON_QUERY('{"NAME":"' || LPAD('ASDDS', 3199, 'AS') || '"
----------------------------------------------------------------
3210                                                            

1 rows fetched.

SQL> 
SQL> --oracle will output :result of string concatenation is too long
SQL> --it is lpad and || matters , not json !!!!
SQL> --it is lpad and || matters , not json !!!!
SQL> --it is lpad and || matters , not json !!!!
SQL> select length('{"name":"' || lpad('asdds', 9999, 'as') || '"}') from dual;

LENGTH('{"NAME":"' || LPAD('ASDDS', 9999, 'AS') || '"}')
--------------------------------------------------------
8011                                                    

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 9990, 'as') || '"}', '$.name' returning varchar2(10000) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 9990, 'AS') || '"
----------------------------------------------------------------
8000                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 7990, 'as') || '"}', '$.name' returning varchar2(8000) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 7990, 'AS') || '"
----------------------------------------------------------------
7990                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 7989, 'as') || '"}', '$.name' returning varchar2(8000) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 7989, 'AS') || '"
----------------------------------------------------------------
7989                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 6666, 'as') || '"}', '$.name' returning varchar2(7000) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 6666, 'AS') || '"
----------------------------------------------------------------
6666                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 4000, 'as') || '"}', '$.name' returning varchar2(4001) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 4000, 'AS') || '"
----------------------------------------------------------------
4000                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 3990, 'as') || '"}', '$.name' returning varchar2(3999) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 3990, 'AS') || '"
----------------------------------------------------------------
3990                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 3989, 'as') || '"}', '$.name' returning varchar2(4000) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 3989, 'AS') || '"
----------------------------------------------------------------
3989                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 3199, 'as') || '"}', '$.name' returning varchar2(3200) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 3199, 'AS') || '"
----------------------------------------------------------------
3199                                                            

1 rows fetched.

SQL> 
SQL> 
SQL> select length(json_value('{"name":"' || lpad('asdds', 2990, 'as') || '"}', '$.name' returning varchar2(10000) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 2990, 'AS') || '"
----------------------------------------------------------------
2990                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 3913, 'as') || '"}', '$.name' returning varchar2(8000) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 3913, 'AS') || '"
----------------------------------------------------------------
3913                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 1989, 'as') || '"}', '$.name' returning varchar2(8000) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 1989, 'AS') || '"
----------------------------------------------------------------
1989                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 1666, 'as') || '"}', '$.name' returning varchar2(7000) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 1666, 'AS') || '"
----------------------------------------------------------------
1666                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 1000, 'as') || '"}', '$.name' returning varchar2(4001) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 1000, 'AS') || '"
----------------------------------------------------------------
1000                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 3910, 'as') || '"}', '$.name' returning varchar2(3999) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 3910, 'AS') || '"
----------------------------------------------------------------
3910                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 3989, 'as') || '"}', '$.name' returning varchar2(4000) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 3989, 'AS') || '"
----------------------------------------------------------------
3989                                                            

1 rows fetched.

SQL> select length(json_value('{"name":"' || lpad('asdds', 3199, 'as') || '"}', '$.name' returning varchar2(3200) error on error)) from dual;

LENGTH(JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 3199, 'AS') || '"
----------------------------------------------------------------
3199                                                            

1 rows fetched.

SQL> 
SQL> 
SQL> --type show
SQL> select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name') from dual;

JSON_VALUE('{"NAME":"DSGFBHGFRHVBTRHBYRJWEVCWGETBHYTEBJJ"}','$.N
----------------------------------------------------------------
dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj                             

1 rows fetched.

SQL> desc -q select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name') from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"DSGFBHGFRHVBTRHBYRJWEVCWGETBHYTEBJJ"}','$.N             VARCHAR(3900 CHAR)                  

SQL> select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(200) error on error) from dual;

JSON_VALUE('{"NAME":"DSGFBHGFRHVBTRHBYRJWEVCWGETBHYTEBJJ"}','$.N
----------------------------------------------------------------
dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj                             

1 rows fetched.

SQL> desc -q select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(200) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"DSGFBHGFRHVBTRHBYRJWEVCWGETBHYTEBJJ"}','$.N             VARCHAR(200 CHAR)                   

SQL> select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(3900) error on error) from dual;

JSON_VALUE('{"NAME":"DSGFBHGFRHVBTRHBYRJWEVCWGETBHYTEBJJ"}','$.N
----------------------------------------------------------------
dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj                             

1 rows fetched.

SQL> desc -q select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(3900) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"DSGFBHGFRHVBTRHBYRJWEVCWGETBHYTEBJJ"}','$.N             VARCHAR(3900 CHAR)                  

SQL> select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(4000) error on error) from dual;

JSON_VALUE('{"NAME":"DSGFBHGFRHVBTRHBYRJWEVCWGETBHYTEBJJ"}','$.N
----------------------------------------------------------------
dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj                             

1 rows fetched.

SQL> desc -q select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(4000) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"DSGFBHGFRHVBTRHBYRJWEVCWGETBHYTEBJJ"}','$.N             VARCHAR(4000 CHAR)                  

SQL> select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(7000) error on error) from dual;

JSON_VALUE('{"NAME":"DSGFBHGFRHVBTRHBYRJWEVCWGETBHYTEBJJ"}','$.N
----------------------------------------------------------------
dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj                             

1 rows fetched.

SQL> desc -q select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(7000) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"DSGFBHGFRHVBTRHBYRJWEVCWGETBHYTEBJJ"}','$.N             VARCHAR(7000 CHAR)                  

SQL> 
SQL> --ok 
SQL> select json_value('{"name":"' || lpad('asdds', 35, 'as') || '"}','$.name') from dual;

JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 35, 'AS') || '"}','$.NAM
----------------------------------------------------------------
asasasasasasasasasasasasasasasasdds                             

1 rows fetched.

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 35, 'as') || '"}','$.name') from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 35, 'AS') || '"}','$.NAM             VARCHAR(3900 CHAR)                  

SQL> select json_value('{"name":"' || lpad('asdds', 35, 'as') || '"}','$.name' returning varchar2(20) error on error) from dual;

CT-02502, Output value too large
SQL> desc -q select json_value('{"name":"' || lpad('asdds', 35, 'as') || '"}','$.name' returning varchar2(20) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 35, 'AS') || '"}','$.NAM             VARCHAR(20 CHAR)                    

SQL> select json_value('{"name":"' || lpad('asdds', 35, 'as') || '"}','$.name' returning varchar2(3900) error on error) from dual;

JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 35, 'AS') || '"}','$.NAM
----------------------------------------------------------------
asasasasasasasasasasasasasasasasdds                             

1 rows fetched.

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 35, 'as') || '"}','$.name' returning varchar2(3900) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 35, 'AS') || '"}','$.NAM             VARCHAR(3900 CHAR)                  

SQL> select json_value('{"name":"' || lpad('asdds', 35, 'as') || '"}','$.name' returning varchar2(4000) error on error) from dual;

JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 35, 'AS') || '"}','$.NAM
----------------------------------------------------------------
asasasasasasasasasasasasasasasasdds                             

1 rows fetched.

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 35, 'as') || '"}','$.name' returning varchar2(4000) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 35, 'AS') || '"}','$.NAM             VARCHAR(4000 CHAR)                  

SQL> select json_value('{"name":"' || lpad('asdds', 35, 'as') || '"}','$.name' returning varchar2(7000) error on error) from dual;

JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 35, 'AS') || '"}','$.NAM
----------------------------------------------------------------
asasasasasasasasasasasasasasasasdds                             

1 rows fetched.

SQL> desc -q select json_value('{"name":"' || lpad('asdds', 35, 'as') || '"}','$.name' returning varchar2(7000) error on error) from dual;

Name                                                                Null?    Type                                
------------------------------------------------------------------- -------- ------------------------------------
JSON_VALUE('{"NAME":"' || LPAD('ASDDS', 35, 'AS') || '"}','$.NAM             VARCHAR(7000 CHAR)                  

SQL> 
SQL> --boundary test
SQL> select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(32768) error on error) from dual;

CT-02501, Invalid RETURNING clause, specified length invalid for its datatype
SQL> select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(0) error on error) from dual;

CT-02501, Invalid RETURNING clause, specified length invalid for its datatype
SQL> select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(-1) error on error) from dual;

CT-00601, Sql syntax error: Convert uint16 failed, the number text is not in the range of uint16, text = -1
SQL> 
SQL> select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(32767) error on error) from dual;

JSON_VALUE('{"NAME":"DSGFBHGFRHVBTRHBYRJWEVCWGETBHYTEBJJ"}','$.N
----------------------------------------------------------------
dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj                             

1 rows fetched.

SQL> select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(500) error on error) from dual;

JSON_VALUE('{"NAME":"DSGFBHGFRHVBTRHBYRJWEVCWGETBHYTEBJJ"}','$.N
----------------------------------------------------------------
dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj                             

1 rows fetched.

SQL> select json_value('{"name":"dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj"}','$.name' returning varchar2(8691) error on error) from dual;

JSON_VALUE('{"NAME":"DSGFBHGFRHVBTRHBYRJWEVCWGETBHYTEBJJ"}','$.N
----------------------------------------------------------------
dsgfbhgfrhvbtrhbyrjwevcwgetbhytebjj                             

1 rows fetched.

SQL> 
SQL> --retur clause in func index
SQL> --unique index
SQL> DROP TABLE if exists returning_clasu_in_func_test;

Succeed.

SQL> CREATE TABLE returning_clasu_in_func_test
  2    (id          int NOT NULL,
  3     po_document varchar(4000)
  4     CONSTRAINT ensure_jsonxxxxx CHECK (po_document IS JSON));

Succeed.

SQL> 
SQL> 
SQL> select JSON_value('["abc","def","qwe"]', '$[1]') from dual;

JSON_VALUE('["ABC","DEF","QWE"]', '$[1]')                       
----------------------------------------------------------------
def                                                             

1 rows fetched.

SQL> select JSON_value('["abfewfc","dedfs","qwesaew"]', '$[1]') from dual;

JSON_VALUE('["ABFEWFC","DEDFS","QWESAEW"]', '$[1]')             
----------------------------------------------------------------
dedfs                                                           

1 rows fetched.

SQL> select JSON_value('["abteyythc","def","qwergwefe"]', '$[1]') from dual;

JSON_VALUE('["ABTEYYTHC","DEF","QWERGWEFE"]', '$[1]')           
----------------------------------------------------------------
def                                                             

1 rows fetched.

SQL> select JSON_value('["absadsrfewfc","dedssdfs","qwfgvdsesaew"]', '$[1]') from dual;

JSON_VALUE('["ABSADSRFEWFC","DEDSSDFS","QWFGVDSESAEW"]', '$[1]')
----------------------------------------------------------------
dedssdfs                                                        

1 rows fetched.

SQL> select JSON_value('["abteyyth2334432c","def","qwer543543gwefe"]', '$[1]') from dual;

JSON_VALUE('["ABTEYYTH2334432C","DEF","QWER543543GWEFE"]', '$[1]
----------------------------------------------------------------
def                                                             

1 rows fetched.

SQL> 
SQL> drop index if exists xxx_json_test_idx on returning_clasu_in_func_test;

Succeed.

SQL> truncate table returning_clasu_in_func_test;

Succeed.

SQL> create unique index xxx_json_test_idx on returning_clasu_in_func_test(JSON_VALUE(PO_DOCUMENT, '$[1]' returning varchar2(500)));

Succeed.

SQL> insert into returning_clasu_in_func_test values(1, '["abc","def","qwe"]');

1 rows affected.

SQL> insert into returning_clasu_in_func_test values(2, '["abfewfc","dedfs","qwesaew"]');

1 rows affected.

SQL> insert into returning_clasu_in_func_test values(3, '["abteyythc","def","qwergwefe"]');

CT-00729, Unique constraint violated, index XXX_JSON_TEST_IDX, duplicate key def
SQL> insert into returning_clasu_in_func_test values(4, '["absadsrfewfc","dedssdfs","qwfgvdsesaew"]');

1 rows affected.

SQL> insert into returning_clasu_in_func_test values(5, '["abteyyth2334432c","def","qwer543543gwefe"]');

CT-00729, Unique constraint violated, index XXX_JSON_TEST_IDX, duplicate key def
SQL> select * from returning_clasu_in_func_test order by id;

ID           PO_DOCUMENT                                                     
------------ ----------------------------------------------------------------
1            ["abc","def","qwe"]                                             
2            ["abfewfc","dedfs","qwesaew"]                                   
4            ["absadsrfewfc","dedssdfs","qwfgvdsesaew"]                      

3 rows fetched.

SQL> select JSON_value(po_document, '$[1]') from returning_clasu_in_func_test order by 1;

JSON_VALUE(PO_DOCUMENT, '$[1]')                                 
----------------------------------------------------------------
dedfs                                                           
dedssdfs                                                        
def                                                             

3 rows fetched.

SQL> select length(JSON_value(po_document, '$[1]')) from returning_clasu_in_func_test order by 1;

LENGTH(JSON_VALUE(PO_DOCUMENT, '$[1]'))
---------------------------------------
3                                      
5                                      
8                                      

3 rows fetched.

SQL> 
SQL> drop index if exists xxx_json_test_idx on returning_clasu_in_func_test;

Succeed.

SQL> truncate table returning_clasu_in_func_test;

Succeed.

SQL> create unique index xxx_json_test_idx on returning_clasu_in_func_test(JSON_VALUE(PO_DOCUMENT, '$[1]' returning varchar2(666)));

Succeed.

SQL> insert into returning_clasu_in_func_test values(1, '["abc","def","qwe"]');

1 rows affected.

SQL> insert into returning_clasu_in_func_test values(2, '["abfewfc","dedfs","qwesaew"]');

1 rows affected.

SQL> insert into returning_clasu_in_func_test values(3, '["abteyythc","def","qwergwefe"]');

CT-00729, Unique constraint violated, index XXX_JSON_TEST_IDX, duplicate key def
SQL> insert into returning_clasu_in_func_test values(4, '["absadsrfewfc","dedssdfs","qwfgvdsesaew"]');

1 rows affected.

SQL> insert into returning_clasu_in_func_test values(5, '["abteyyth2334432c","def","qwer543543gwefe"]');

CT-00729, Unique constraint violated, index XXX_JSON_TEST_IDX, duplicate key def
SQL> select * from returning_clasu_in_func_test;

ID           PO_DOCUMENT                                                     
------------ ----------------------------------------------------------------
1            ["abc","def","qwe"]                                             
2            ["abfewfc","dedfs","qwesaew"]                                   
4            ["absadsrfewfc","dedssdfs","qwfgvdsesaew"]                      

3 rows fetched.

SQL> select JSON_value(po_document, '$[1]') from returning_clasu_in_func_test;

JSON_VALUE(PO_DOCUMENT, '$[1]')                                 
----------------------------------------------------------------
def                                                             
dedfs                                                           
dedssdfs                                                        

3 rows fetched.

SQL> select length(JSON_value(po_document, '$[1]')) from returning_clasu_in_func_test;

LENGTH(JSON_VALUE(PO_DOCUMENT, '$[1]'))
---------------------------------------
3                                      
5                                      
8                                      

3 rows fetched.

SQL> 
SQL> drop index if exists xxx_json_test_idx on returning_clasu_in_func_test;

Succeed.

SQL> truncate table returning_clasu_in_func_test;

Succeed.

SQL> create unique index xxx_json_test_idx on returning_clasu_in_func_test(JSON_VALUE(PO_DOCUMENT, '$[1]' returning varchar2(1024)));

Succeed.

SQL> insert into returning_clasu_in_func_test values(1, '["abc","def","qwe"]');

1 rows affected.

SQL> insert into returning_clasu_in_func_test values(2, '["abfewfc","dedfs","qwesaew"]');

1 rows affected.

SQL> insert into returning_clasu_in_func_test values(3, '["abteyythc","def","qwergwefe"]');

CT-00729, Unique constraint violated, index XXX_JSON_TEST_IDX, duplicate key def
SQL> insert into returning_clasu_in_func_test values(4, '["absadsrfewfc","dedssdfs","qwfgvdsesaew"]');

1 rows affected.

SQL> insert into returning_clasu_in_func_test values(5, '["abteyyth2334432c","def","qwer543543gwefe"]');

CT-00729, Unique constraint violated, index XXX_JSON_TEST_IDX, duplicate key def
SQL> select * from returning_clasu_in_func_test;

ID           PO_DOCUMENT                                                     
------------ ----------------------------------------------------------------
1            ["abc","def","qwe"]                                             
2            ["abfewfc","dedfs","qwesaew"]                                   
4            ["absadsrfewfc","dedssdfs","qwfgvdsesaew"]                      

3 rows fetched.

SQL> select JSON_value(po_document, '$[1]') from returning_clasu_in_func_test order by 1;

JSON_VALUE(PO_DOCUMENT, '$[1]')                                 
----------------------------------------------------------------
dedfs                                                           
dedssdfs                                                        
def                                                             

3 rows fetched.

SQL> select length(JSON_value(po_document, '$[1]')) from returning_clasu_in_func_test order by 1;

LENGTH(JSON_VALUE(PO_DOCUMENT, '$[1]'))
---------------------------------------
3                                      
5                                      
8                                      

3 rows fetched.

SQL> 
SQL> drop index if exists xxx_json_test_idx on returning_clasu_in_func_test;

Succeed.

SQL> truncate table returning_clasu_in_func_test;

Succeed.

SQL> create unique index xxx_json_test_idx on returning_clasu_in_func_test(JSON_VALUE(PO_DOCUMENT, '$[1]' returning varchar2(3900)));

Succeed.

SQL> insert into returning_clasu_in_func_test values(1, '["abc","def","qwe"]');

1 rows affected.

SQL> insert into returning_clasu_in_func_test values(2, '["abfewfc","dedfs","qwesaew"]');

1 rows affected.

SQL> insert into returning_clasu_in_func_test values(3, '["abteyythc","def","qwergwefe"]');

CT-00729, Unique constraint violated, index XXX_JSON_TEST_IDX, duplicate key def
SQL> insert into returning_clasu_in_func_test values(4, '["absadsrfewfc","dedssdfs","qwfgvdsesaew"]');

1 rows affected.

SQL> insert into returning_clasu_in_func_test values(5, '["abteyyth2334432c","def","qwer543543gwefe"]');

CT-00729, Unique constraint violated, index XXX_JSON_TEST_IDX, duplicate key def
SQL> select * from returning_clasu_in_func_test order by id;

ID           PO_DOCUMENT                                                     
------------ ----------------------------------------------------------------
1            ["abc","def","qwe"]                                             
2            ["abfewfc","dedfs","qwesaew"]                                   
4            ["absadsrfewfc","dedssdfs","qwfgvdsesaew"]                      

3 rows fetched.

SQL> select JSON_value(po_document, '$[1]') from returning_clasu_in_func_test order by 1;

JSON_VALUE(PO_DOCUMENT, '$[1]')                                 
----------------------------------------------------------------
dedfs                                                           
dedssdfs                                                        
def                                                             

3 rows fetched.

SQL> select length(JSON_value(po_document, '$[1]')) from returning_clasu_in_func_test order by 1;

LENGTH(JSON_VALUE(PO_DOCUMENT, '$[1]'))
---------------------------------------
3                                      
5                                      
8                                      

3 rows fetched.

SQL> 
SQL> drop index if exists xxx_json_test_idx on returning_clasu_in_func_test;

Succeed.

SQL> create unique index xxx_json_test_idx on returning_clasu_in_func_test(JSON_VALUE(PO_DOCUMENT, '$[1]' returning varchar2(4100)));

CT-00634, The total size of index columns within an index exceeded the maximum (4052)
SQL> 
SQL> drop index if exists xxx_json_test_idx on returning_clasu_in_func_test;

Succeed.

SQL> create unique index xxx_json_test_idx on returning_clasu_in_func_test(JSON_VALUE(PO_DOCUMENT, '$[1]' returning varchar2(8000)));

CT-00634, The total size of index columns within an index exceeded the maximum (4052)
SQL> 
SQL> drop index if exists xxx_json_test_idx on returning_clasu_in_func_test;

Succeed.

SQL> create unique index xxx_json_test_idx on returning_clasu_in_func_test(JSON_VALUE(PO_DOCUMENT, '$[1]' returning varchar2(3000)));

Succeed.

SQL> 
SQL> drop index if exists xxx_json_test_idx on returning_clasu_in_func_test;

Succeed.

SQL> create unique index xxx_json_test_idx on returning_clasu_in_func_test(JSON_VALUE(PO_DOCUMENT, '$[1]' returning varchar2(9999)));

CT-00634, The total size of index columns within an index exceeded the maximum (4052)
SQL> 
SQL> DROP TABLE if exists returning_clasu_in_func_test;

Succeed.

SQL> 
SQL> ---------------------------------------------------------------------6. json path on error/empty clause test
SQL> --yon can also see(ERROR_EMPTY_TEST) and (SEARCH_POINT_SCALER_TEST)
SQL> 
SQL> 
SQL> ---------------------------------------------------------------------7. json_query test
SQL> --(ESCAPED_STRS_TEST)
SQL> --valid string in object/array and escaped str
SQL> select json_query('{"name":"asdfdfasdfdf"}', '$') from dual;

JSON_QUERY('{"NAME":"ASDFDFASDFDF"}', '$')                      
----------------------------------------------------------------
{"name":"asdfdfasdfdf"}                                         

1 rows fetched.

SQL> select length(json_query('{"name":"asdfdfasdfdf"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"ASDFDFASDFDF"}', '$'))
--------------------------------------------------
23                                                

1 rows fetched.

SQL> select json_query('{"name":"\\as\\dfdf\\\\\\asdf\\df"}', '$' error on error) from dual;

JSON_QUERY('{"NAME":"\\AS\\DFDF\\\\\\ASDF\\DF"}', '$' ERROR ON E
----------------------------------------------------------------
{"name":"\\as\\dfdf\\\\\\asdf\\df"}                             

1 rows fetched.

SQL> select length(json_query('{"name":"\\as\\dfdf\\\\\\asdf\\df"}', '$' error on error)) from dual;

LENGTH(JSON_QUERY('{"NAME":"\\AS\\DFDF\\\\\\ASDF\\DF"}', '$' ERR
----------------------------------------------------------------
35                                                              

1 rows fetched.

SQL> select json_query('{"name":"\"asdfd\"\"\"fasdfd\"f\""}', '$') from dual;

JSON_QUERY('{"NAME":"\"ASDFD\"\"\"FASDFD\"F\""}', '$')          
----------------------------------------------------------------
{"name":"\"asdfd\"\"\"fasdfd\"f\""}                             

1 rows fetched.

SQL> select length(json_query('{"name":"\"asdfd\"\"\"fasdfd\"f\""}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\"ASDFD\"\"\"FASDFD\"F\""}', '$'))
--------------------------------------------------------------
35                                                            

1 rows fetched.

SQL> select json_query('{"name":"\/\/\/asdf\/\/\/dfasd\/\/\/fdf\/\/\/"}', '$') from dual;

JSON_QUERY('{"NAME":"\/\/\/ASDF\/\/\/DFASD\/\/\/FDF\/\/\/"}', '$
----------------------------------------------------------------
{"name":"\/\/\/asdf\/\/\/dfasd\/\/\/fdf\/\/\/"}                 

1 rows fetched.

SQL> select length(json_query('{"name":"\/\/\/asdf\/\/\/dfasd\/\/\/fdf\/\/\/"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\/\/\/ASDF\/\/\/DFASD\/\/\/FDF\/\/\/
----------------------------------------------------------------
47                                                              

1 rows fetched.

SQL> select json_query('{"name":"\nasdf\n\ndfasdf\n\ndf\n"}', '$') from dual;

JSON_QUERY('{"NAME":"\NASDF\N\NDFASDF\N\NDF\N"}', '$')          
----------------------------------------------------------------
{"name":"\nasdf\n\ndfasdf\n\ndf\n"}                             

1 rows fetched.

SQL> select length(json_query('{"name":"\nasdf\n\ndfasdf\n\ndf\n"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\NASDF\N\NDFASDF\N\NDF\N"}', '$'))
--------------------------------------------------------------
35                                                            

1 rows fetched.

SQL> select json_query('{"name":"\fas\fdf\fd\f\f\ffa\fsdf\fdf\f\f"}', '$') from dual;

JSON_QUERY('{"NAME":"\FAS\FDF\FD\F\F\FFA\FSDF\FDF\F\F"}', '$')  
----------------------------------------------------------------
{"name":"\fas\fdf\fd\f\f\ffa\fsdf\fdf\f\f"}                     

1 rows fetched.

SQL> select length(json_query('{"name":"\fas\fdf\fd\f\f\ffa\fsdf\fdf\f\f"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\FAS\FDF\FD\F\F\FFA\FSDF\FDF\F\F"}',
----------------------------------------------------------------
43                                                              

1 rows fetched.

SQL> select json_query('{"name":"\tasd\tfdf\t\t\tasd\tfd\tf\t"}', '$') from dual;

JSON_QUERY('{"NAME":"\TASD\TFDF\T\T\TASD\TFD\TF\T"}', '$')      
----------------------------------------------------------------
{"name":"\tasd\tfdf\t\t\tasd\tfd\tf\t"}                         

1 rows fetched.

SQL> select length(json_query('{"name":"\tasd\tfdf\t\t\tasd\tfd\tf\t"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\TASD\TFDF\T\T\TASD\TFD\TF\T"}', '$'
----------------------------------------------------------------
39                                                              

1 rows fetched.

SQL> select json_query('{"name":"\"asd\"fdf\"\"\"\"\"as\"d\"fd\"f\""}', '$') from dual;

JSON_QUERY('{"NAME":"\"ASD\"FDF\"\"\"\"\"AS\"D\"FD\"F\""}', '$')
----------------------------------------------------------------
{"name":"\"asd\"fdf\"\"\"\"\"as\"d\"fd\"f\""}                   

1 rows fetched.

SQL> select length(json_query('{"name":"\"asd\"fdf\"\"\"\"\"as\"d\"fd\"f\""}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\"ASD\"FDF\"\"\"\"\"AS\"D\"FD\"F\""}
----------------------------------------------------------------
45                                                              

1 rows fetched.

SQL> 
SQL> select json_query('{"name":"\na\ns\ndf\n\ndfasdf\n\ndf"}', '$') from dual;

JSON_QUERY('{"NAME":"\NA\NS\NDF\N\NDFASDF\N\NDF"}', '$')        
----------------------------------------------------------------
{"name":"\na\ns\ndf\n\ndfasdf\n\ndf"}                           

1 rows fetched.

SQL> select json_query('{"name":"\na\ns\ndf\n\ndfasdf\n\ndf\n"}', '$') from dual;

JSON_QUERY('{"NAME":"\NA\NS\NDF\N\NDFASDF\N\NDF\N"}', '$')      
----------------------------------------------------------------
{"name":"\na\ns\ndf\n\ndfasdf\n\ndf\n"}                         

1 rows fetched.

SQL> select json_query('{"name":"\na\ns\ndf\n\ndfasdf\n\ndf\n\n"}', '$') from dual;

JSON_QUERY('{"NAME":"\NA\NS\NDF\N\NDFASDF\N\NDF\N\N"}', '$')    
----------------------------------------------------------------
{"name":"\na\ns\ndf\n\ndfasdf\n\ndf\n\n"}                       

1 rows fetched.

SQL> select json_query('{"name":"\na\ns\ndf\n\ndfasdf\n\ndf\n\n\n"}', '$') from dual;

JSON_QUERY('{"NAME":"\NA\NS\NDF\N\NDFASDF\N\NDF\N\N\N"}', '$')  
----------------------------------------------------------------
{"name":"\na\ns\ndf\n\ndfasdf\n\ndf\n\n\n"}                     

1 rows fetched.

SQL> 
SQL> select json_query('{"name":"\bs"}', '$') from dual;

JSON_QUERY('{"NAME":"\BS"}', '$')                               
----------------------------------------------------------------
{"name":"\bs"}                                                  

1 rows fetched.

SQL> select length(json_query('{"name":"\bs"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\BS"}', '$'))
-----------------------------------------
14                                       

1 rows fetched.

SQL> select json_query('{"name":"\bsx"}', '$') from dual;

JSON_QUERY('{"NAME":"\BSX"}', '$')                              
----------------------------------------------------------------
{"name":"\bsx"}                                                 

1 rows fetched.

SQL> select length(json_query('{"name":"\bsx"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\BSX"}', '$'))
------------------------------------------
15                                        

1 rows fetched.

SQL> select json_query('{"name":"\bsaax\b"}', '$') from dual;

JSON_QUERY('{"NAME":"\BSAAX\B"}', '$')                          
----------------------------------------------------------------
{"name":"\bsaax\b"}                                             

1 rows fetched.

SQL> select length(json_query('{"name":"\bsaax\b"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\BSAAX\B"}', '$'))
----------------------------------------------
19                                            

1 rows fetched.

SQL> select json_query('{"name":"a\bsd"}', '$') from dual;

JSON_QUERY('{"NAME":"A\BSD"}', '$')                             
----------------------------------------------------------------
{"name":"a\bsd"}                                                

1 rows fetched.

SQL> select length(json_query('{"name":"a\bsd"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"A\BSD"}', '$'))
-------------------------------------------
16                                         

1 rows fetched.

SQL> select json_query('{"name":"a\b\bsd"}', '$') from dual;

JSON_QUERY('{"NAME":"A\B\BSD"}', '$')                           
----------------------------------------------------------------
{"name":"a\b\bsd"}                                              

1 rows fetched.

SQL> select length(json_query('{"name":"a\b\bsd"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"A\B\BSD"}', '$'))
---------------------------------------------
18                                           

1 rows fetched.

SQL> 
SQL> select json_query('{"name":"\bsaqqx\b"}', '$') from dual;

JSON_QUERY('{"NAME":"\BSAQQX\B"}', '$')                         
----------------------------------------------------------------
{"name":"\bsaqqx\b"}                                            

1 rows fetched.

SQL> select length(json_query('{"name":"\bsaqqx\b"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\BSAQQX\B"}', '$'))
-----------------------------------------------
20                                             

1 rows fetched.

SQL> select json_query('{"name":"\bsaqqx\b\b"}', '$') from dual;

JSON_QUERY('{"NAME":"\BSAQQX\B\B"}', '$')                       
----------------------------------------------------------------
{"name":"\bsaqqx\b\b"}                                          

1 rows fetched.

SQL> select length(json_query('{"name":"\bsaqqx\b\b"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\BSAQQX\B\B"}', '$'))
-------------------------------------------------
22                                               

1 rows fetched.

SQL> 
SQL> select json_query('{"name":"\ba\b\bsdfdf\b\basdf\b\bdf\b"}', '$') from dual;

JSON_QUERY('{"NAME":"\BA\B\BSDFDF\B\BASDF\B\BDF\B"}', '$')      
----------------------------------------------------------------
{"name":"\ba\b\bsdfdf\b\basdf\b\bdf\b"}                         

1 rows fetched.

SQL> select length(json_query('{"name":"\ba\b\bsdfdf\b\basdf\b\bdf\b"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\BA\B\BSDFDF\B\BASDF\B\BDF\B"}', '$'
----------------------------------------------------------------
39                                                              

1 rows fetched.

SQL> select json_query('{"name":"\ras\rdf\rdf\r\r\ras\rd\rf\rxx\r"}', '$') from dual;

JSON_QUERY('{"NAME":"\RAS\RDF\RDF\R\R\RAS\RD\RF\RXX\R"}', '$')  
----------------------------------------------------------------
{"name":"\ras\rdf\rdf\r\r\ras\rd\rf\rxx\r"}                     

1 rows fetched.

SQL> select length(json_query('{"name":"\ras\rdf\rdf\r\r\ras\rd\rf\rxx\r"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\RAS\RDF\RDF\R\R\RAS\RD\RF\RXX\R"}',
----------------------------------------------------------------
43                                                              

1 rows fetched.

SQL> select json_query('{"name":"\ras\rdf\rdf\r\r\ras\rd\rf\rxx"}', '$') from dual;

JSON_QUERY('{"NAME":"\RAS\RDF\RDF\R\R\RAS\RD\RF\RXX"}', '$')    
----------------------------------------------------------------
{"name":"\ras\rdf\rdf\r\r\ras\rd\rf\rxx"}                       

1 rows fetched.

SQL> select length(json_query('{"name":"\ras\rdf\rdf\r\r\ras\rd\rf\rxx"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\RAS\RDF\RDF\R\R\RAS\RD\RF\RXX"}', '
----------------------------------------------------------------
41                                                              

1 rows fetched.

SQL> 
SQL> select json_query('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$') from dual;

JSON_QUERY('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX"}', '$
----------------------------------------------------------------
{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}                 

1 rows fetched.

SQL> select json_query('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r"}', '$') from dual;

JSON_QUERY('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX\R"}', 
----------------------------------------------------------------
{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r"}               

1 rows fetched.

SQL> select json_query('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r"}', '$') from dual;

JSON_QUERY('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX\R\R"}'
----------------------------------------------------------------
{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r"}             

1 rows fetched.

SQL> select json_query('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r\r"}', '$') from dual;

JSON_QUERY('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX\R\R\R"
----------------------------------------------------------------
{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r\r"}           

1 rows fetched.

SQL> select json_query('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf"}', '$') from dual;

JSON_QUERY('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF"}', '$')      
----------------------------------------------------------------
{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf"}                         

1 rows fetched.

SQL> select json_query('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b"}', '$') from dual;

JSON_QUERY('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B"}', '$')    
----------------------------------------------------------------
{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b"}                       

1 rows fetched.

SQL> select json_query('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b"}', '$') from dual;

JSON_QUERY('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B\B"}', '$')  
----------------------------------------------------------------
{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b"}                     

1 rows fetched.

SQL> select json_query('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b\b"}', '$') from dual;

JSON_QUERY('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B\B\B"}', '$')
----------------------------------------------------------------
{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b\b"}                   

1 rows fetched.

SQL> 
SQL> select length(json_query('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX
----------------------------------------------------------------
47                                                              

1 rows fetched.

SQL> select length(json_query('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX
----------------------------------------------------------------
49                                                              

1 rows fetched.

SQL> select length(json_query('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX
----------------------------------------------------------------
51                                                              

1 rows fetched.

SQL> select length(json_query('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r\r"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX
----------------------------------------------------------------
53                                                              

1 rows fetched.

SQL> select length(json_query('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF"}', '$'
----------------------------------------------------------------
39                                                              

1 rows fetched.

SQL> select length(json_query('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B"}', '
----------------------------------------------------------------
41                                                              

1 rows fetched.

SQL> select length(json_query('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B\B"}',
----------------------------------------------------------------
43                                                              

1 rows fetched.

SQL> select length(json_query('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b\b"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B\B\B"}
----------------------------------------------------------------
45                                                              

1 rows fetched.

SQL> 
SQL> select hex(json_query('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$')) from dual;

HEX(JSON_QUERY('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX"}'
----------------------------------------------------------------
7B226E616D65223A225C725C72615C72735C7264665C7264665C725C725C7261735C72645C72665C7278787878227D

1 rows fetched.

SQL> select hex(json_query('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r"}', '$')) from dual;

HEX(JSON_QUERY('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX\R"
----------------------------------------------------------------
7B226E616D65223A225C725C72615C72735C7264665C7264665C725C725C7261735C72645C72665C72787878785C72227D

1 rows fetched.

SQL> select hex(json_query('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r"}', '$')) from dual;

HEX(JSON_QUERY('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX\R\
----------------------------------------------------------------
7B226E616D65223A225C725C72615C72735C7264665C7264665C725C725C7261735C72645C72665C72787878785C725C72227D

1 rows fetched.

SQL> select hex(json_query('{"name":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx\r\r\r"}', '$')) from dual;

HEX(JSON_QUERY('{"NAME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX\R\
----------------------------------------------------------------
7B226E616D65223A225C725C72615C72735C7264665C7264665C725C725C7261735C72645C72665C72787878785C725C725C72227D

1 rows fetched.

SQL> select hex(json_query('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf"}', '$')) from dual;

HEX(JSON_QUERY('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF"}', '$')) 
----------------------------------------------------------------
7B226E616D65223A225C625C62615C625C6273646664665C625C62617364665C625C626466227D

1 rows fetched.

SQL> select hex(json_query('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b"}', '$')) from dual;

HEX(JSON_QUERY('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B"}', '$')
----------------------------------------------------------------
7B226E616D65223A225C625C62615C625C6273646664665C625C62617364665C625C6264665C62227D

1 rows fetched.

SQL> select hex(json_query('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b"}', '$')) from dual;

HEX(JSON_QUERY('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B\B"}', '$
----------------------------------------------------------------
7B226E616D65223A225C625C62615C625C6273646664665C625C62617364665C625C6264665C625C62227D

1 rows fetched.

SQL> select hex(json_query('{"name":"\b\ba\b\bsdfdf\b\basdf\b\bdf\b\b\b"}', '$')) from dual;

HEX(JSON_QUERY('{"NAME":"\B\BA\B\BSDFDF\B\BASDF\B\BDF\B\B\B"}', 
----------------------------------------------------------------
7B226E616D65223A225C625C62615C625C6273646664665C625C62617364665C625C6264665C625C625C62227D

1 rows fetched.

SQL> 
SQL> --mixed
SQL> select json_query('{"name":"\\a\"s\\d\/f\ndfa\f\nsd\f\\f\tdf"}', '$') from dual;

JSON_QUERY('{"NAME":"\\A\"S\\D\/F\NDFA\F\NSD\F\\F\TDF"}', '$')  
----------------------------------------------------------------
{"name":"\\a\"s\\d\/f\ndfa\f\nsd\f\\f\tdf"}                     

1 rows fetched.

SQL> select length(json_query('{"name":"\\a\"s\\d\/f\ndfa\f\nsd\f\\f\tdf"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\\A\"S\\D\/F\NDFA\F\NSD\F\\F\TDF"}',
----------------------------------------------------------------
43                                                              

1 rows fetched.

SQL> select json_query('{"name":"\\a\\\"\\s\\d\/f\ndf\na\"\f\n\f\fs\f\f\"d\f\"\\f\\\tdf\\"}', '$') from dual;

JSON_QUERY('{"NAME":"\\A\\\"\\S\\D\/F\NDF\NA\"\F\N\F\FS\F\F\"D\F
----------------------------------------------------------------
{"name":"\\a\\\"\\s\\d\/f\ndf\na\"\f\n\f\fs\f\f\"d\f\"\\f\\\tdf\\"}

1 rows fetched.

SQL> select length(json_query('{"name":"\\a\\\"\\s\\d\/f\ndf\na\"\f\n\f\fs\f\f\"d\f\"\\f\\\tdf\\"}', '$')) from dual;

LENGTH(JSON_QUERY('{"NAME":"\\A\\\"\\S\\D\/F\NDF\NA\"\F\N\F\FS\F
----------------------------------------------------------------
67                                                              

1 rows fetched.

SQL> 
SQL> 
SQL> 
SQL> 
SQL> --when key name has escaped char
SQL> --------------------------------------
SQL> select json_query('{"na\"me":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$') from dual;

JSON_QUERY('{"NA\"ME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX"}', 
----------------------------------------------------------------
{"na\"me":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}               

1 rows fetched.

SQL> select json_value('{"na\"me":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.name') from dual;

JSON_VALUE('{"NA\"ME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX"}', 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"na\"me":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.*') from dual;

JSON_VALUE('{"NA\"ME":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX"}', 
----------------------------------------------------------------


a
s
df
df


as
d
f
xxxx                                       

1 rows fetched.

SQL> select json_value('{"na\"me":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.na"me') from dual;

CT-02503, JSON path expression syntax error, Invalid step name
SQL> select json_value('{"na\"me":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.na\"me') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> 
SQL> select json_query('{"na\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$') from dual;

JSON_QUERY('{"NA\"M\\E":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX"}'
----------------------------------------------------------------
{"na\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}             

1 rows fetched.

SQL> select json_value('{"na\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.name') from dual;

JSON_VALUE('{"NA\"M\\E":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX"}'
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"na\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.*') from dual;

JSON_VALUE('{"NA\"M\\E":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX"}'
----------------------------------------------------------------


a
s
df
df


as
d
f
xxxx                                       

1 rows fetched.

SQL> select json_value('{"na\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.nam\\e') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> select json_value('{"na\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.na\"me') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> select json_value('{"na\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.na\"m\\e') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> 
SQL> select json_query('{"n\ra\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$') from dual;

JSON_QUERY('{"N\RA\"M\\E":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX"
----------------------------------------------------------------
{"n\ra\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}           

1 rows fetched.

SQL> select json_value('{"n\ra\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.name') from dual;

JSON_VALUE('{"N\RA\"M\\E":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX"
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"n\ra\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.*') from dual;

JSON_VALUE('{"N\RA\"M\\E":"\R\RA\RS\RDF\RDF\R\R\RAS\RD\RF\RXXXX"
----------------------------------------------------------------


a
s
df
df


as
d
f
xxxx                                       

1 rows fetched.

SQL> select json_value('{"n\ra\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.n\ra\"m\\e') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> select json_value('{"n\ra\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.n\ram\\e') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> select json_value('{"n\ra\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.n\rame') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> select json_value('{"n\ra\"m\\e":"\r\ra\rs\rdf\rdf\r\r\ras\rd\rf\rxxxx"}', '$.n\ra\"m\\e') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> 
SQL> select json_query('{"title": "Goodbye!","author" : {"givenName" : "John","familyName" : "Doe"},"tags":[ "example", "sample" ],"content": "This will be unchanged"}', '$') from dual;

JSON_QUERY('{"TITLE": "GOODBYE!","AUTHOR" : {"GIVENNAME" : "JOHN
----------------------------------------------------------------
{"title":"Goodbye!","author":{"givenName":"John","familyName":"Doe"},"tags":["example","sample"],"content":"This will be unchanged"}

1 rows fetched.

SQL> select json_query('{"title": "Goodbye!","author" : {"givenName" : "John","familyName" : "Doe"},"tags":[ "example", "sample" ],"content": "This will be unchanged"}', '$.author') from dual;

JSON_QUERY('{"TITLE": "GOODBYE!","AUTHOR" : {"GIVENNAME" : "JOHN
----------------------------------------------------------------
{"givenName":"John","familyName":"Doe"}                         

1 rows fetched.

SQL> select json_query('{"title": "Goodbye!","aut\\hor" : {"givenName" : "John","familyName" : "Doe"},"tags":[ "example", "sample" ],"content": "This will be unchanged"}', '$.aut\\hor') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> select json_value('{"title": "Goodbye!","author" : {"givenName" : "John","familyName" : "Doe"},"tags":[ "example", "sample" ],"content": "This will be unchanged"}', '$.author.givenName') from dual;

JSON_VALUE('{"TITLE": "GOODBYE!","AUTHOR" : {"GIVENNAME" : "JOHN
----------------------------------------------------------------
John                                                            

1 rows fetched.

SQL> select json_value('{"title": "Goodbye!","aut\\hor" : {"givenName" : "John","familyName" : "Doe"},"tags":[ "example", "sample" ],"content": "This will be unchanged"}', '$.aut\\hor.givenName') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> select json_value('{"title": "Goodbye!","author" : {"givenName" : "John","familyName" : "Doe"},"tags":[ "example", "sample" ],"content": "This will be unchanged"}', '$.tags[0]') from dual;

JSON_VALUE('{"TITLE": "GOODBYE!","AUTHOR" : {"GIVENNAME" : "JOHN
----------------------------------------------------------------
example                                                         

1 rows fetched.

SQL> select json_value('{"title": "Goodbye!","author" : {"givenName" : "John","familyName" : "Doe"},"ta\\gs":[ "example", "sample" ],"content": "This will be unchanged"}', '$.ta\\gs[0]') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> 
SQL> --------------------------------------
SQL> 
SQL> 
SQL> ---------------------------------------------------------------------8. json_exists test
SQL> --first json data is null , return false
SQL> --first json data is scaler , treat it as not well-formed JSON data
SQL> --first json data is array/object , to match, it is influenced by exist_on_error_clause
SQL> 
SQL> drop table if exists json_exists_test;

Succeed.

SQL> CREATE TABLE json_exists_test (id int, name VARCHAR2(100));

Succeed.

SQL> 
SQL> truncate table json_exists_test;

Succeed.

SQL> INSERT INTO json_exists_test VALUES (1, '[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}]');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (2, '[{"first":"Mary"}, {"last":"Jones"}]');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (3, '[{"first":"Jeff"}, {"last":"Williams"}]');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (4, '[{"first":"Jean"}, {"middle":"Anne"}, {"last":"Brown"}]');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (5, '[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}, {"hon":[{"a":123},{"b":894}]}]');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (6, NULL);

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (7, 'NULL');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (8, '"NULL"');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (9, true);

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (10, 'true');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (11, '"true"');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (12, false);

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (13, 'false');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (14, '"false"');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (15, 123.456);

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (16, '123.456');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (17, '"123.456"');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (18, asdffggr);

CT-00601, [1:42]Sql syntax error: invalid column name 'ASDFFGGR'
SQL> INSERT INTO json_exists_test VALUES (19, 'asdffggr');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (20, '"asdffggr"');

1 rows affected.

SQL> INSERT INTO json_exists_test VALUES (21, 'This is not well-formed JSON data');

1 rows affected.

SQL> 
SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[0].first') order by id;

NAME                                                            
----------------------------------------------------------------
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}]         
[{"first":"Mary"}, {"last":"Jones"}]                            
[{"first":"Jeff"}, {"last":"Williams"}]                         
[{"first":"Jean"}, {"middle":"Anne"}, {"last":"Brown"}]         
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}, {"hon":[{"a":123},{"b":894}]}]

5 rows fetched.

SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[0].first' false ON ERROR) order by id;

NAME                                                            
----------------------------------------------------------------
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}]         
[{"first":"Mary"}, {"last":"Jones"}]                            
[{"first":"Jeff"}, {"last":"Williams"}]                         
[{"first":"Jean"}, {"middle":"Anne"}, {"last":"Brown"}]         
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}, {"hon":[{"a":123},{"b":894}]}]

5 rows fetched.

SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[0].first' TRUE ON ERROR) order by id; 

NAME                                                            
----------------------------------------------------------------
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}]         
[{"first":"Mary"}, {"last":"Jones"}]                            
[{"first":"Jeff"}, {"last":"Williams"}]                         
[{"first":"Jean"}, {"middle":"Anne"}, {"last":"Brown"}]         
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}, {"hon":[{"a":123},{"b":894}]}]
NULL                                                            
"NULL"                                                          
TRUE                                                            
true                                                            
"true"                                                          
FALSE                                                           
false                                                           
"false"                                                         
123.456                                                         
123.456                                                         
"123.456"                                                       
asdffggr                                                        
"asdffggr"                                                      
This is not well-formed JSON data                               

19 rows fetched.

SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[0].first' error ON ERROR) order by id;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[*].hon[0].a') order by id;

NAME                                                            
----------------------------------------------------------------
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}, {"hon":[{"a":123},{"b":894}]}]

1 rows fetched.

SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[*].hon[0].a' false ON ERROR) order by id;

NAME                                                            
----------------------------------------------------------------
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}, {"hon":[{"a":123},{"b":894}]}]

1 rows fetched.

SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[*].hon[0].a' TRUE ON ERROR) order by id;

NAME                                                            
----------------------------------------------------------------
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}, {"hon":[{"a":123},{"b":894}]}]
NULL                                                            
"NULL"                                                          
TRUE                                                            
true                                                            
"true"                                                          
FALSE                                                           
false                                                           
"false"                                                         
123.456                                                         
123.456                                                         
"123.456"                                                       
asdffggr                                                        
"asdffggr"                                                      
This is not well-formed JSON data                               

15 rows fetched.

SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[*].hon[0].a' error ON ERROR) order by id;

CT-02504, JSON syntax error, expect non-scalar
SQL> --no this path reurn false
SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[0].first1') order by id;

NAME                                                            
----------------------------------------------------------------

0 rows fetched.

SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[0].first12') order by id;

NAME                                                            
----------------------------------------------------------------

0 rows fetched.

SQL> 
SQL> 
SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[1].middle') order by id;

NAME                                                            
----------------------------------------------------------------
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}]         
[{"first":"Jean"}, {"middle":"Anne"}, {"last":"Brown"}]         
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}, {"hon":[{"a":123},{"b":894}]}]

3 rows fetched.

SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[1].middle' false ON ERROR) order by id;

NAME                                                            
----------------------------------------------------------------
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}]         
[{"first":"Jean"}, {"middle":"Anne"}, {"last":"Brown"}]         
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}, {"hon":[{"a":123},{"b":894}]}]

3 rows fetched.

SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[1].middle' TRUE ON ERROR) order by id; 

NAME                                                            
----------------------------------------------------------------
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}]         
[{"first":"Jean"}, {"middle":"Anne"}, {"last":"Brown"}]         
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}, {"hon":[{"a":123},{"b":894}]}]
NULL                                                            
"NULL"                                                          
TRUE                                                            
true                                                            
"true"                                                          
FALSE                                                           
false                                                           
"false"                                                         
123.456                                                         
123.456                                                         
"123.456"                                                       
asdffggr                                                        
"asdffggr"                                                      
This is not well-formed JSON data                               

17 rows fetched.

SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[1].middle' error ON ERROR) order by id;

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> SELECT name FROM json_exists_test WHERE JSON_EXISTS(name, '$[*].last') order by id;

NAME                                                            
----------------------------------------------------------------
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}]         
[{"first":"Mary"}, {"last":"Jones"}]                            
[{"first":"Jeff"}, {"last":"Williams"}]                         
[{"first":"Jean"}, {"middle":"Anne"}, {"last":"Brown"}]         
[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}, {"hon":[{"a":123},{"b":894}]}]

5 rows fetched.

SQL> drop table if exists json_exists_test;

Succeed.

SQL> 
SQL> SELECT 1 from dual where  JSON_EXISTS('[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}]', '$[0].first');

1           
------------
1           

1 rows fetched.

SQL> SELECT 1 from dual where  JSON_EXISTS('[{"first":"John"}, {"first":"Mark"}, {"first":"Smith"}]', '$[0].first');

1           
------------
1           

1 rows fetched.

SQL> 
SQL> SELECT 1 from dual where  JSON_EXISTS('[{"first":"John"}, {"middle":"Mark"}, {"last":"Smith"}]', '$[*].first');

1           
------------
1           

1 rows fetched.

SQL> SELECT 1 from dual where  JSON_EXISTS('[{"first":"John"}, {"first":"Mark"}, {"first":"Smith"}]', '$[*].first');

1           
------------
1           

1 rows fetched.

SQL> 
SQL> 
SQL> 
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS(NULL, '$');

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS(NULL, '$' false on error);

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS(NULL, '$' true on error);

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS(NULL, '$' error on error);

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('NULL', '$');

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('NULL', '$' false on error);

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('NULL', '$' true on error);

1           
------------
1           

1 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('NULL', '$' error on error);

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('"NULL"', '$');

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('"NULL"', '$' false on error);

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('"NULL"', '$' true on error);

1           
------------
1           

1 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('"NULL"', '$' error on error);

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS(123, '$');

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS(123, '$' false on error);

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS(123, '$' true on error);

1           
------------
1           

1 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS(123, '$' error on error);

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('123', '$');

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('123', '$' false on error);

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('123', '$' true on error);

1           
------------
1           

1 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('123', '$' error on error);

CT-02504, JSON syntax error, expect non-scalar
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('"123"', '$');

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('"123"', '$' false on error);

1           
------------

0 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('"123"', '$' true on error);

1           
------------
1           

1 rows fetched.

SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('"123"', '$' error on error);

CT-02504, JSON syntax error, expect non-scalar
SQL> 
SQL> 
SQL> --path error raise error diretly
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('[{"sdfdf":569}]', '$$[0].first');

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('[{"sdfdf":569}]', '[0].first');

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('[{"sdfdf":569}]', '$[].first');

CT-02503, JSON path expression syntax error, array subscript not specified
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('[{"sdfdf":569}]', '$$[$X].first');

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('[{"sdfdf":569}]', '$[0]first');

CT-02503, JSON path expression syntax error, 
SQL> 
SQL> --exist_on_error error raise error diretly
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('[{"sdfdf":569}]', '$[0].first' sdf);

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('[{"sdfdf":569}]', '$[0].first' empty on error);

CT-02501, [1:26]Invalid ON ERROR clause, 
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('[{"sdfdf":569}]', '$[0].first' on on on);

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('[{"sdfdf":569}]', '$[0].first' error sdfdsg);

CT-02501, Invalid RETURNING/ON clause, 
SQL> SELECT 1 FROM dual WHERE JSON_EXISTS('[{"sdfdf":569}]', '$[0].first' hulahula );

CT-02501, Invalid RETURNING/ON clause, 
SQL> 
SQL> 
SQL> ---------------------------------------------------------------------8. json_array test
SQL> select json_array(123, '123', '"123"', 'true', '"true"', 'asfsdf', '"asfsdf"') from dual;

JSON_ARRAY(123, '123', '"123"', 'TRUE', '"TRUE"', 'ASFSDF', '"AS
----------------------------------------------------------------
[123,"123","\"123\"","true","\"true\"","asfsdf","\"asfsdf\""]   

1 rows fetched.

SQL> select json_array(123, '123' format json, '"123"', 'true', '"true"', 'asfsdf', '"asfsdf"') from dual;

JSON_ARRAY(123, '123' FORMAT JSON, '"123"', 'TRUE', '"TRUE"', 'A
----------------------------------------------------------------
[123,123,"\"123\"","true","\"true\"","asfsdf","\"asfsdf\""]     

1 rows fetched.

SQL> select json_array(123, '123', '"123"' format json, 'true', '"true"', 'asfsdf', '"asfsdf"') from dual;

JSON_ARRAY(123, '123', '"123"' FORMAT JSON, 'TRUE', '"TRUE"', 'A
----------------------------------------------------------------
[123,"123","123","true","\"true\"","asfsdf","\"asfsdf\""]       

1 rows fetched.

SQL> select json_array(123, '123', '"123"', 'true', '"true"' format json, 'asfsdf', '"asfsdf"') from dual;

JSON_ARRAY(123, '123', '"123"', 'TRUE', '"TRUE"' FORMAT JSON, 'A
----------------------------------------------------------------
[123,"123","\"123\"","true","true","asfsdf","\"asfsdf\""]       

1 rows fetched.

SQL> select json_array(123, '123', '"123"', 'true' format json, '"true"', 'asfsdf', '"asfsdf"') from dual;

JSON_ARRAY(123, '123', '"123"', 'TRUE' FORMAT JSON, '"TRUE"', 'A
----------------------------------------------------------------
[123,"123","\"123\"",true,"\"true\"","asfsdf","\"asfsdf\""]     

1 rows fetched.

SQL> select json_array(123, '123', '"123"', 'true', '"true"', 'asfsdf' format json, '"asfsdf"') from dual;

CT-02504, [1:59]JSON syntax error, unexpected a found
SQL> select json_array(123, '123', '"123"', 'true', '"true"', 'asfsdf', '"asfsdf"' format json) from dual;

JSON_ARRAY(123, '123', '"123"', 'TRUE', '"TRUE"', 'ASFSDF', '"AS
----------------------------------------------------------------
[123,"123","\"123\"","true","\"true\"","asfsdf","asfsdf"]       

1 rows fetched.

SQL> 
SQL> select json_array(null, 'null', '"null"') from dual;

JSON_ARRAY(NULL, 'NULL', '"NULL"')                              
----------------------------------------------------------------
["null","\"null\""]                                             

1 rows fetched.

SQL> select json_array(null  format json, 'null', '"null"') from dual;

JSON_ARRAY(NULL  FORMAT JSON, 'NULL', '"NULL"')                 
----------------------------------------------------------------
["null","\"null\""]                                             

1 rows fetched.

SQL> select json_array(null, 'null'  format json, '"null"') from dual;

JSON_ARRAY(NULL, 'NULL'  FORMAT JSON, '"NULL"')                 
----------------------------------------------------------------
[null,"\"null\""]                                               

1 rows fetched.

SQL> select json_array(null, 'null', '"null"'  format json) from dual;

JSON_ARRAY(NULL, 'NULL', '"NULL"'  FORMAT JSON)                 
----------------------------------------------------------------
["null","null"]                                                 

1 rows fetched.

SQL> select json_array(null, 'null', '"null"' null on null) from dual;

JSON_ARRAY(NULL, 'NULL', '"NULL"' NULL ON NULL)                 
----------------------------------------------------------------
[null,"null","\"null\""]                                        

1 rows fetched.

SQL> select json_array(null  format json, 'null', '"null"' absent on null) from dual;

JSON_ARRAY(NULL  FORMAT JSON, 'NULL', '"NULL"' ABSENT ON NULL)  
----------------------------------------------------------------
["null","\"null\""]                                             

1 rows fetched.

SQL> select json_array(null, 'null'  format json, '"null"' absent on null) from dual;

JSON_ARRAY(NULL, 'NULL'  FORMAT JSON, '"NULL"' ABSENT ON NULL)  
----------------------------------------------------------------
[null,"\"null\""]                                               

1 rows fetched.

SQL> select json_array(null, 'null', '"null"'  format json absent on null) from dual;

JSON_ARRAY(NULL, 'NULL', '"NULL"'  FORMAT JSON ABSENT ON NULL)  
----------------------------------------------------------------
["null","null"]                                                 

1 rows fetched.

SQL> select json_array(null  format json, 'null', '"null"' null on null) from dual;

JSON_ARRAY(NULL  FORMAT JSON, 'NULL', '"NULL"' NULL ON NULL)    
----------------------------------------------------------------
[null,"null","\"null\""]                                        

1 rows fetched.

SQL> select json_array(null, 'null'  format json, '"null"' null on null) from dual;

JSON_ARRAY(NULL, 'NULL'  FORMAT JSON, '"NULL"' NULL ON NULL)    
----------------------------------------------------------------
[null,null,"\"null\""]                                          

1 rows fetched.

SQL> select json_array(null, 'null', '"null"'  format json null on null) from dual;

JSON_ARRAY(NULL, 'NULL', '"NULL"'  FORMAT JSON NULL ON NULL)    
----------------------------------------------------------------
[null,"null","null"]                                            

1 rows fetched.

SQL> select json_array(null, 'null', '"null"' null on null returning varchar2(200)) from dual;

JSON_ARRAY(NULL, 'NULL', '"NULL"' NULL ON NULL RETURNING VARCHAR
----------------------------------------------------------------
[null,"null","\"null\""]                                        

1 rows fetched.

SQL> select json_array(null  format json, 'null', '"null"' null on null returning varchar2(200)) from dual;

JSON_ARRAY(NULL  FORMAT JSON, 'NULL', '"NULL"' NULL ON NULL RETU
----------------------------------------------------------------
[null,"null","\"null\""]                                        

1 rows fetched.

SQL> select json_array(null, 'null'  format json, '"null"' null on null returning varchar2(200)) from dual;

JSON_ARRAY(NULL, 'NULL'  FORMAT JSON, '"NULL"' NULL ON NULL RETU
----------------------------------------------------------------
[null,null,"\"null\""]                                          

1 rows fetched.

SQL> select json_array(null, 'null', '"null"'  format json null on null returning varchar2(200)) from dual;

JSON_ARRAY(NULL, 'NULL', '"NULL"'  FORMAT JSON NULL ON NULL RETU
----------------------------------------------------------------
[null,"null","null"]                                            

1 rows fetched.

SQL> select json_array(null  format json, 'null', '"null"' absent on null returning varchar2(200)) from dual;

JSON_ARRAY(NULL  FORMAT JSON, 'NULL', '"NULL"' ABSENT ON NULL RE
----------------------------------------------------------------
["null","\"null\""]                                             

1 rows fetched.

SQL> select json_array(null, 'null'  format json, '"null"' absent on null returning varchar2(200)) from dual;

JSON_ARRAY(NULL, 'NULL'  FORMAT JSON, '"NULL"' ABSENT ON NULL RE
----------------------------------------------------------------
[null,"\"null\""]                                               

1 rows fetched.

SQL> select json_array(null, 'null', '"null"'  format json absent on null returning varchar2(200)) from dual;

JSON_ARRAY(NULL, 'NULL', '"NULL"'  FORMAT JSON ABSENT ON NULL RE
----------------------------------------------------------------
["null","null"]                                                 

1 rows fetched.

SQL> 
SQL> 
SQL> ---------------------------------------------------------------------8. json_object test
SQL> select json_object( 'false' is null, 'sdfsd' is 46 returning varchar2(100)) from dual;

JSON_OBJECT( 'FALSE' IS NULL, 'SDFSD' IS 46 RETURNING VARCHAR2(1
----------------------------------------------------------------
{"false":null,"sdfsd":46}                                       

1 rows fetched.

SQL> select json_object( 'false' is null, 'sdfsd' is 46 null on null returning varchar2(100)) from dual;

JSON_OBJECT( 'FALSE' IS NULL, 'SDFSD' IS 46 NULL ON NULL RETURNI
----------------------------------------------------------------
{"false":null,"sdfsd":46}                                       

1 rows fetched.

SQL> select json_object( 'false' is null, 'sdfsd' is 46 absent on null returning varchar2(100)) from dual;

JSON_OBJECT( 'FALSE' IS NULL, 'SDFSD' IS 46 ABSENT ON NULL RETUR
----------------------------------------------------------------
{"sdfsd":46}                                                    

1 rows fetched.

SQL> select json_object( 'false' is null, 'sdfsd' is 'true' returning varchar2(100)) from dual;

JSON_OBJECT( 'FALSE' IS NULL, 'SDFSD' IS 'TRUE' RETURNING VARCHA
----------------------------------------------------------------
{"false":null,"sdfsd":"true"}                                   

1 rows fetched.

SQL> select json_object( 'false' is null, 'sdfsd' is 'true' format json null on null returning varchar2(100)) from dual;

JSON_OBJECT( 'FALSE' IS NULL, 'SDFSD' IS 'TRUE' FORMAT JSON NULL
----------------------------------------------------------------
{"false":null,"sdfsd":true}                                     

1 rows fetched.

SQL> select json_object( 'false' is null, 'sdfsd' is 'true' format json absent on null returning varchar2(100)) from dual;

JSON_OBJECT( 'FALSE' IS NULL, 'SDFSD' IS 'TRUE' FORMAT JSON ABSE
----------------------------------------------------------------
{"sdfsd":true}                                                  

1 rows fetched.

SQL> select json_object(key 'false' is null, 'sdfsd' is 46 returning varchar2(100)) from dual;

JSON_OBJECT(KEY 'FALSE' IS NULL, 'SDFSD' IS 46 RETURNING VARCHAR
----------------------------------------------------------------
{"false":null,"sdfsd":46}                                       

1 rows fetched.

SQL> select json_object(key 'false' is null, 'sdfsd' is 46 null on null returning varchar2(100)) from dual;

JSON_OBJECT(KEY 'FALSE' IS NULL, 'SDFSD' IS 46 NULL ON NULL RETU
----------------------------------------------------------------
{"false":null,"sdfsd":46}                                       

1 rows fetched.

SQL> select json_object(key 'false' is null, 'sdfsd' is 46 absent on null returning varchar2(100)) from dual;

JSON_OBJECT(KEY 'FALSE' IS NULL, 'SDFSD' IS 46 ABSENT ON NULL RE
----------------------------------------------------------------
{"sdfsd":46}                                                    

1 rows fetched.

SQL> select json_object(key 'false' is null, 'sdfsd' is 'true' returning varchar2(100)) from dual;

JSON_OBJECT(KEY 'FALSE' IS NULL, 'SDFSD' IS 'TRUE' RETURNING VAR
----------------------------------------------------------------
{"false":null,"sdfsd":"true"}                                   

1 rows fetched.

SQL> select json_object(key 'false' is null, 'sdfsd' is 'true' format json null on null returning varchar2(100)) from dual;

JSON_OBJECT(KEY 'FALSE' IS NULL, 'SDFSD' IS 'TRUE' FORMAT JSON N
----------------------------------------------------------------
{"false":null,"sdfsd":true}                                     

1 rows fetched.

SQL> select json_object(key 'false' is null, 'sdfsd' is 'true' format json absent on null returning varchar2(100)) from dual;

JSON_OBJECT(KEY 'FALSE' IS NULL, 'SDFSD' IS 'TRUE' FORMAT JSON A
----------------------------------------------------------------
{"sdfsd":true}                                                  

1 rows fetched.

SQL> select json_object(key 'false' : null, 'sdfsd' is 46 null on null returning clob) from dual;

CT-00601, [1:32]Sql syntax error: the word ":" is not correct
SQL> select json_object(key 'false' is null, 'sdfsd' is 46 null on null returning clob) from dual;

JSON_OBJECT(KEY 'FALSE' IS NULL, 'SDFSD' IS 46 NULL ON NULL RETU
----------------------------------------------------------------
{"false":null,"sdfsd":46}                                       

1 rows fetched.

SQL> select json_object( 'false' : null, 'sdfsd' : 46 returning varchar2(100)) from dual;

CT-00601, [1:29]Sql syntax error: the word ":" is not correct
SQL> select json_object( 'false' : null, 'sdfsd' : 46 null on null returning varchar2(100)) from dual;

CT-00601, [1:29]Sql syntax error: the word ":" is not correct
SQL> select json_object( 'false' : null, 'sdfsd' : 46 absent on null returning varchar2(100)) from dual;

CT-00601, [1:29]Sql syntax error: the word ":" is not correct
SQL> select json_object( 'false' : null, 'sdfsd' : 'true' returning varchar2(100)) from dual;

CT-00601, [1:29]Sql syntax error: the word ":" is not correct
SQL> select json_object( 'false' : null, 'sdfsd' : 'true' format json null on null returning varchar2(100)) from dual;

CT-00601, [1:29]Sql syntax error: the word ":" is not correct
SQL> select json_object( 'false' : null, 'sdfsd' : 'true' format json absent on null returning varchar2(100)) from dual;

CT-00601, [1:29]Sql syntax error: the word ":" is not correct
SQL> 
SQL> --error
SQL> select json_object( 'false' is null, 'sdfsd' is 46 null on null returning varchar2(10)) from dual;

CT-02502, Output value too large
SQL> select json_object(key 'false' : null, 'sdfsd' is 46 null on null returning clob) from dual;

CT-00601, [1:32]Sql syntax error: the word ":" is not correct
SQL> 
SQL> 
SQL> select json_value('[2,3,4]', '$[2]') from dual;

JSON_VALUE('[2,3,4]', '$[2]')                                   
----------------------------------------------------------------
4                                                               

1 rows fetched.

SQL> select json_value('[2,3,4]', '$[2]' true on error) from dual;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select json_value('[2,3,4]', '$[2]' false on error) from dual;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> select json_value('[2,3,4]', '$[2]' empty on error) from dual;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY clause, 
SQL> 
SQL> select json_query('[2,3,4]', '$') from dual;

JSON_QUERY('[2,3,4]', '$')                                      
----------------------------------------------------------------
[2,3,4]                                                         

1 rows fetched.

SQL> select json_query('[2,3,4]', '$' true on error) from dual;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY/WITH WRAPPER clause, 
SQL> select json_query('[2,3,4]', '$' false on error) from dual;

CT-02501, [1:8]Invalid RETURNING/ON ERROR/ON EMPTY/WITH WRAPPER clause, 
SQL> select json_query('[2,3,4]', '$' empty on error) from dual;

JSON_QUERY('[2,3,4]', '$' EMPTY ON ERROR)                       
----------------------------------------------------------------
[2,3,4]                                                         

1 rows fetched.

SQL> 
SQL> 
SQL> -------------------------------------------------------------------------------------wrapper clause
SQL> select json_query('[true,123,"fdfd"]','$[*]') from dual;

JSON_QUERY('[TRUE,123,"FDFD"]','$[*]')                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[true,123,"fdfd"]','$[*]' error on error) from dual;

CT-02506, JSON_VALUE evaluated to multiple value
SQL> select json_query('[true,123,"fdfd"]','$[*]' WITHOUT WRAPPER) from dual;

JSON_QUERY('[TRUE,123,"FDFD"]','$[*]' WITHOUT WRAPPER)          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[true,123,"fdfd"]','$[*]' WITHOUT ARRAY WRAPPER) from dual;

JSON_QUERY('[TRUE,123,"FDFD"]','$[*]' WITHOUT ARRAY WRAPPER)    
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> select json_query('[true,123,"fdfd"]','$[*]' WITH WRAPPER) from dual;

JSON_QUERY('[TRUE,123,"FDFD"]','$[*]' WITH WRAPPER)             
----------------------------------------------------------------
[true,123,"fdfd"]                                               

1 rows fetched.

SQL> select json_query('[true,123,"fdfd"]','$[*]' WITH ARRAY WRAPPER) from dual;

JSON_QUERY('[TRUE,123,"FDFD"]','$[*]' WITH ARRAY WRAPPER)       
----------------------------------------------------------------
[true,123,"fdfd"]                                               

1 rows fetched.

SQL> select json_query('[true,123,"fdfd"]','$[*]' WITH UNCONDITIONAL WRAPPER) from dual;

JSON_QUERY('[TRUE,123,"FDFD"]','$[*]' WITH UNCONDITIONAL WRAPPER
----------------------------------------------------------------
[true,123,"fdfd"]                                               

1 rows fetched.

SQL> select json_query('[true,123,"fdfd"]','$[*]' WITH UNCONDITIONAL ARRAY WRAPPER) from dual;

JSON_QUERY('[TRUE,123,"FDFD"]','$[*]' WITH UNCONDITIONAL ARRAY W
----------------------------------------------------------------
[true,123,"fdfd"]                                               

1 rows fetched.

SQL> 
SQL> select json_query('[true,123,"fdfd"]','$' WITH CONDITIONAL WRAPPER) from dual;

JSON_QUERY('[TRUE,123,"FDFD"]','$' WITH CONDITIONAL WRAPPER)    
----------------------------------------------------------------
[true,123,"fdfd"]                                               

1 rows fetched.

SQL> select json_query('[true,123,"fdfd"]','$' WITH CONDITIONAL ARRAY WRAPPER) from dual;

JSON_QUERY('[TRUE,123,"FDFD"]','$' WITH CONDITIONAL ARRAY WRAPPE
----------------------------------------------------------------
[true,123,"fdfd"]                                               

1 rows fetched.

SQL> select json_query('[true,123,"fdfd"]','$' WITH UNCONDITIONAL WRAPPER) from dual;

JSON_QUERY('[TRUE,123,"FDFD"]','$' WITH UNCONDITIONAL WRAPPER)  
----------------------------------------------------------------
[[true,123,"fdfd"]]                                             

1 rows fetched.

SQL> select json_query('[true,123,"fdfd"]','$' WITH UNCONDITIONAL ARRAY WRAPPER) from dual;

JSON_QUERY('[TRUE,123,"FDFD"]','$' WITH UNCONDITIONAL ARRAY WRAP
----------------------------------------------------------------
[[true,123,"fdfd"]]                                             

1 rows fetched.

SQL> select json_query('{"name":123}','$' WITH CONDITIONAL WRAPPER) from dual;

JSON_QUERY('{"NAME":123}','$' WITH CONDITIONAL WRAPPER)         
----------------------------------------------------------------
{"name":123}                                                    

1 rows fetched.

SQL> select json_query('{"name":123}','$' WITH CONDITIONAL ARRAY WRAPPER) from dual;

JSON_QUERY('{"NAME":123}','$' WITH CONDITIONAL ARRAY WRAPPER)   
----------------------------------------------------------------
{"name":123}                                                    

1 rows fetched.

SQL> select json_query('{"name":123}','$' WITH UNCONDITIONAL WRAPPER) from dual;

JSON_QUERY('{"NAME":123}','$' WITH UNCONDITIONAL WRAPPER)       
----------------------------------------------------------------
[{"name":123}]                                                  

1 rows fetched.

SQL> select json_query('{"name":123}','$' WITH UNCONDITIONAL ARRAY WRAPPER) from dual;

JSON_QUERY('{"NAME":123}','$' WITH UNCONDITIONAL ARRAY WRAPPER) 
----------------------------------------------------------------
[{"name":123}]                                                  

1 rows fetched.

SQL> 
SQL> --return null
SQL> select json_query('{"name":123}','$.ddd' WITH  WRAPPER ) from dual;

JSON_QUERY('{"NAME":123}','$.DDD' WITH  WRAPPER )               
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{"name":123}','$.ddd' WITH  WRAPPER error on error) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> select json_query('{"name":123}','$.ddd' WITH  WRAPPER error on error null on empty ) from dual;

JSON_QUERY('{"NAME":123}','$.DDD' WITH  WRAPPER ERROR ON ERROR N
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> 
SQL> 
SQL> --extract multiple values on_empty_clause don't tale effect
SQL> select json_query('[12,23,454,{"B":123},25]', '$[*]' error  on empty) from dual;

JSON_QUERY('[12,23,454,{"B":123},25]', '$[*]' ERROR  ON EMPTY)  
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[12,23,454,{"B":123},25]', '$[*]' null on empty) from dual;

JSON_QUERY('[12,23,454,{"B":123},25]', '$[*]' NULL ON EMPTY)    
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[12,23,454,{"B":123},25]', '$[*]' null  on error error  on empty) from dual;

JSON_QUERY('[12,23,454,{"B":123},25]', '$[*]' NULL  ON ERROR ERR
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[12,23,454,{"B":123},25]', '$[*]' error on error null on empty) from dual;

CT-02506, JSON_VALUE evaluated to multiple value
SQL> 
SQL> select json_value('[12,23,454,{"B":123},25]', '$[*]' error  on empty) from dual;

JSON_VALUE('[12,23,454,{"B":123},25]', '$[*]' ERROR  ON EMPTY)  
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('[12,23,454,{"B":123},25]', '$[*]' null on empty) from dual;

JSON_VALUE('[12,23,454,{"B":123},25]', '$[*]' NULL ON EMPTY)    
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('[12,23,454,{"B":123},25]', '$[*]' null  on error error  on empty) from dual;

JSON_VALUE('[12,23,454,{"B":123},25]', '$[*]' NULL  ON ERROR ERR
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('[12,23,454,{"B":123},25]', '$[*]' error on error null on empty) from dual;

CT-02506, JSON_VALUE evaluated to multiple value
SQL> 
SQL> select  json_query('[{"country":0,"cities":["suzhou","shanghai"],"codes":{"suzhou":0,"shanghai":0}}]', '$[*]' WITH WRAPPER ERROR ON ERROR) from dual;

JSON_QUERY('[{"COUNTRY":0,"CITIES":["SUZHOU","SHANGHAI"],"CODES"
----------------------------------------------------------------
[{"country":0,"cities":["suzhou","shanghai"],"codes":{"suzhou":0,"shanghai":0}}]

1 rows fetched.

SQL> select  json_query('[{"country":0,"cities":["suzhou","shanghai"],"codes":{"suzhou":0,"shanghai":0}}]', '$' WITH WRAPPER ERROR ON ERROR) from dual;

JSON_QUERY('[{"COUNTRY":0,"CITIES":["SUZHOU","SHANGHAI"],"CODES"
----------------------------------------------------------------
[[{"country":0,"cities":["suzhou","shanghai"],"codes":{"suzhou":0,"shanghai":0}}]]

1 rows fetched.

SQL> select  json_query('[{"country":0,"cities":["suzhou","shanghai"],"codes":{"suzhou":0,"shanghai":0}}]', '$' WITH UNCONDITIONAL WRAPPER ERROR ON ERROR) from dual;

JSON_QUERY('[{"COUNTRY":0,"CITIES":["SUZHOU","SHANGHAI"],"CODES"
----------------------------------------------------------------
[[{"country":0,"cities":["suzhou","shanghai"],"codes":{"suzhou":0,"shanghai":0}}]]

1 rows fetched.

SQL> select  json_query('[{"country":0,"cities":["suzhou","shanghai"],"codes":{"suzhou":0,"shanghai":0}}]', '$' WITH CONDITIONAL WRAPPER ERROR ON ERROR) from dual;

JSON_QUERY('[{"COUNTRY":0,"CITIES":["SUZHOU","SHANGHAI"],"CODES"
----------------------------------------------------------------
[{"country":0,"cities":["suzhou","shanghai"],"codes":{"suzhou":0,"shanghai":0}}]

1 rows fetched.

SQL> 
SQL> select 1 from dual where '["true",123,"FDFD"]' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_exists('["true",123,"FDFD"]',' $[*]' error on error);

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '[true,123,"FDFD"]' is json;

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_exists('[true,123,"FDFD"]',' $[*]' error on error);

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where '[TRUE,123,"FDFD"]' is json;

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_exists('[TRUE,123,"FDFD"]',' $[*]' error on error);

CT-02504, [1:40]JSON syntax error, unexpected T found
SQL> 
SQL> 
SQL> 
SQL> 
SQL> --only scaler and SQL variant
SQL> --not jv_array or jv_object
SQL> select 1 from dual where json_exists('{"a":"qwertyui"}', '$?(@.a starts with "4qwe")');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('{"a":"qwertyui"}', '$?(@.a starts with "qwe")');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('{"a":"qwertyui"}', '$?(@.a has substring "qwe")');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('{"a":"qwertyui"}', '$?(@.a has substring "qwde")');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> 
SQL> select 1 from dual where json_exists('{"a":123, "b":123, "c":58}', '$?(@.a in (@.b, @.c))');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]?(exists (@.a))');

CT-02504, [1:116]JSON syntax error, unexpected e found
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]?(exists (@.a[0]))');

CT-02504, [1:116]JSON syntax error, unexpected e found
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]?(exists (@.a[1]))');

CT-02504, [1:116]JSON syntax error, unexpected e found
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]?(exists (@.a[*]))');

CT-02504, [1:116]JSON syntax error, unexpected e found
SQL> 
SQL> 
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]?(@ in (8,9,5))');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]?(@.a in (8,9,5))');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[4]?(@.a in (8,9,5))');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[4].a?(@ in (8,9,5))');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[4].a?(5 in (8,9,5))');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> 
SQL> 
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]?(@.a>5)');

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]?(@.a>10)');

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]?(@.a>10 || @.a < 11)');

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]?((@.a>10)||(@.a < 11))');

1           
------------
1           

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9},{"a":true}]', '$[*]?(@.a>5)' WITH WRAPPER) from dual;

JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A":6},{"A
----------------------------------------------------------------
[{"a":6},{"a":7},{"a":8},{"a":9}]                               

1 rows fetched.

SQL> select length(json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9},{"a":true}]', '$[*]?(@.a>5)' WITH WRAPPER)) from dual;

LENGTH(JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A"
----------------------------------------------------------------
33                                                              

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]?(@.a>7)' WITH WRAPPER) from dual;

JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A":6},{"A
----------------------------------------------------------------
[{"a":8},{"a":9}]                                               

1 rows fetched.

SQL> select length(json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]?(@.a>7)' WITH WRAPPER)) from dual;

LENGTH(JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A"
----------------------------------------------------------------
17                                                              

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]' WITH WRAPPER) from dual;

JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A":6},{"A
----------------------------------------------------------------
[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]

1 rows fetched.

SQL> select length(json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '$[*]' WITH WRAPPER)) from dual;

LENGTH(JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A"
----------------------------------------------------------------
73                                                              

1 rows fetched.

SQL> 
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '         $[*]   ?(@.a>10 || @.a < 11)');

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6},{"a":7},{"a":8},{"a":9}]', '         $[*]   ?      (@.a>10 || @.a < 11)       ');

1           
------------
1           

1 rows fetched.

SQL> 
SQL> 
SQL> --ok
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*].a?( 8 > 5 )');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*].a?(  ( 8 > 5  ) )');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*].a?(   (      ( 8 > 5  )) )');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> --error
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*].a?( (8) > 5 )');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*].a?( 8 > (5) )');

CT-02504, [1:72]JSON syntax error, unexpected ( found
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*].a?( (8) > (5) )');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> 
SQL> --ok
SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?( 5 > @.a)' with wrapper) from dual;

JSON_QUERY('[{"A":1},{"A":2},{"A":3}]', '$[*]?( 5 > @.A)' WITH W
----------------------------------------------------------------
[{"a":1},{"a":2},{"a":3}]                                       

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?( 2 > @.a)' with wrapper) from dual;

JSON_QUERY('[{"A":1},{"A":2},{"A":3}]', '$[*]?( 2 > @.A)' WITH W
----------------------------------------------------------------
[{"a":1}]                                                       

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a > 2)' with wrapper ) from dual;

JSON_QUERY('[{"A":1},{"A":2},{"A":3}]', '$[*]?(@.A > 2)' WITH WR
----------------------------------------------------------------
[{"a":3}]                                                       

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?( 3 == @.a)' with wrapper) from dual;

JSON_QUERY('[{"A":1},{"A":2},{"A":3}]', '$[*]?( 3 == @.A)' WITH 
----------------------------------------------------------------
[{"a":3}]                                                       

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?( 3 >= @.a)' with wrapper) from dual;

JSON_QUERY('[{"A":1},{"A":2},{"A":3}]', '$[*]?( 3 >= @.A)' WITH 
----------------------------------------------------------------
[{"a":1},{"a":2},{"a":3}]                                       

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?( 8 <= @.a)' with wrapper error on empty) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?( @.a >= 8)' with wrapper error on empty) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> select json_query('[{"a":1}]', '$[*]?( 1 != @.a)' with wrapper error on empty) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> select json_query('[{"a":1}]', '$[*]?( 1 <> @.a)' with wrapper error on empty) from dual;

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?( 8 > 5)' with wrapper) from dual;

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> 
SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a > "2")' with wrapper ) from dual;

JSON_QUERY('[{"A":1},{"A":2},{"A":3}]', '$[*]?(@.A > "2")' WITH 
----------------------------------------------------------------
[{"a":3}]                                                       

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a > "1")' with wrapper ) from dual;

JSON_QUERY('[{"A":1},{"A":2},{"A":3}]', '$[*]?(@.A > "1")' WITH 
----------------------------------------------------------------
[{"a":2},{"a":3}]                                               

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a > "4")' with wrapper error on empty) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?( "4" > @.a)' with wrapper ) from dual;

JSON_QUERY('[{"A":1},{"A":2},{"A":3}]', '$[*]?( "4" > @.A)' WITH
----------------------------------------------------------------
[{"a":1},{"a":2},{"a":3}]                                       

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?( "2" > @.a)'  ) from dual;

JSON_QUERY('[{"A":1},{"A":2},{"A":3}]', '$[*]?( "2" > @.A)'  )  
----------------------------------------------------------------
{"a":1}                                                         

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?( "2" > "1")'  with wrapper ) from dual;

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> 
SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?( 3 == @.   a)' with wrapper) from dual;

CT-02503, JSON path expression syntax error, invlid step name
SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?(  @.   a > 2  )' with wrapper) from dual;

CT-02503, JSON path expression syntax error, invlid step name
SQL> select json_query('[{"a":1},{"a":2},{"a":3}]', '$[*]?(  @.   a  >  8)' with wrapper) from dual;

CT-02503, JSON path expression syntax error, invlid step name
SQL> 
SQL> --error
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a (>) 2)');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?((@.a) > 2)');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a > (2))');

CT-02504, [1:74]JSON syntax error, unexpected ( found
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?((@.a) > (2))');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> 
SQL> --ok
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(2 > @.a)');

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?((2 > @.a)   )');

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(((2 > @.a)   ))');

1           
------------
1           

1 rows fetched.

SQL> --error
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?((2) > @.a)');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?((2) > (@.a))');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(2 > (@.a))');

CT-02504, [1:72]JSON syntax error, unexpected ( found
SQL> 
SQL> 
SQL> --ok
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a in (1,2,3))');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> --error
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(2 in (1,2,3))');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> 
SQL> 
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?( exists (@.a))');

CT-02504, [1:68]JSON syntax error, unexpected e found
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?( !(exists (@.a)))');

CT-02504, [1:68]JSON syntax error, unexpected e found
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?( !   (exists (@.a)))');

CT-02504, [1:68]JSON syntax error, unexpected e found
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"b":3}]', '$[*]?( exists (@.a))');

CT-02504, [1:68]JSON syntax error, unexpected e found
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"b":3}]', '$[*]?( !(exists (@.a)))');

CT-02504, [1:68]JSON syntax error, unexpected e found
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"b":3}]', '$[*]?( !   (exists (@.a)))');

CT-02504, [1:68]JSON syntax error, unexpected e found
SQL> 
SQL> 
SQL> --error
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(true > 2)');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(null > 2)');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(false > 2)');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(3 > "12A")');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(true > "12A")');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(null > "12A")');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a == @.a)');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a > 123c)');

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a > {"name":25})');

CT-02504, [1:74]JSON syntax error, unexpected { found
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a > qwert)');

CT-02504, [1:74]JSON syntax error, unexpected q found
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a > [])');

CT-02504, [1:74]JSON syntax error, unexpected [ found
SQL> 
SQL> --ok
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(4 > 2)');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(4 != 2)');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(true >= true)');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(true <= true)');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(true == true)');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(true != false)');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":"bbb"}]', '$[*]?(@.a > "a[2sadsfdsfds")');

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":"bbb"}]', '$[*]?(@.a > "a[2^%]")');

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":"bbb"}]', '$[*]?(@.a > "a[2{}{}90ss[]dsvfd^%]")');

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a > 123)');

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a > 0)');

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":"3.123456"}]', '$[*]?(@.a >= 3)');

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":"3.123456"}]', '$[*]?(@.a >= 4)');

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a != 2)');

1           
------------
1           

1 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":null}]', '$[*]?(@.a > null)');

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":null}]', '$[*]?(@.a >= null)');

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":true}]', '$[*]?(@.a > true)');

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3},{"a":true}]', '$[*]?(@.a >= true)');

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?(@.a > false)');

1           
------------

0 rows fetched.

SQL> select 1 from dual where json_exists('[{"a":1},{"a":2},{"a":3}]', '$[*]?("12B" > "12A")');

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> 
SQL> --filter clause test
SQL> --mixed
SQL> select json_query('{"Aaa":{"A":12, "B":13, "c":[14,15,16,17,18]}}', '$.Aaa.c[1 to 3]' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[15,16,17]                                                      

1 rows fetched.

SQL> select json_query('{"Aaa":{"A":12, "B":13, "c":[14,15,16,17,18]}}', '$.Aaa.c[*]?(@ > 17)'  with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[18]                                                            

1 rows fetched.

SQL> select json_exists('{"Aaa":{"A":12, "B":13, "c":[14,15,16,17,18]}}', '$.Aaa.c[*]?(@ > 18 )') as val from dual;

VAL   
------
FALSE 

1 rows fetched.

SQL> select json_value('{"Aaa":{"A":12, "B":13, "c":[14,15,16,17,18]}}', '$.*[*].A') as val from dual;

VAL                                                             
----------------------------------------------------------------
12                                                              

1 rows fetched.

SQL> select json_query('[23,true]', '$') as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,true]                                                       

1 rows fetched.

SQL> select json_value('[[[24]]]', '$[0][*][to]') as val from dual;

VAL                                                             
----------------------------------------------------------------
24                                                              

1 rows fetched.

SQL> select json_query('[23,true]', '$[*]?(@ == true) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[true]                                                          

1 rows fetched.

SQL> select json_query('[23,true]', '$[*]?(@ > true) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,true]', '$[*]?(@ == false) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,true]', '$[*]?(@ > false) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,true]', '$[*]?(@ > true) ' with wrapper error on error) as val from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> select json_query('[23,true]', '$[*]?(@ > 2) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23]                                                            

1 rows fetched.

SQL> select json_query('[23,true]', '$[*]?(2            < @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23]                                                            

1 rows fetched.

SQL> select json_value('[23,true]', '$[*]?(2            < @) ' ) as val from dual;

VAL                                                             
----------------------------------------------------------------
23                                                              

1 rows fetched.

SQL> select json_query('[23,"asd","bfdferf",25,"dhyhytjt"]', '$[*]?("A"            < @) '  with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["asd","bfdferf","dhyhytjt"]                                    

1 rows fetched.

SQL> select json_query('[23,"asd","bfdferf",25,"dhyhytjt"]', '$[*]?("z"            < @) '  with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,"asd","bfdferf",25,"dhyhytjt"]', '$[*]?(@ > "A"      ) '  with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["asd","bfdferf","dhyhytjt"]                                    

1 rows fetched.

SQL> select json_query('[23,"asd","bfdferf",25,"dhyhytjt"]', '$[*]?(@ > "z"      ) '  with wrapper null on empty) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,"asd","bfdferf",25,"dhyhytjt"]', '$[*]?(@ > "z"      ) '  with wrapper error on empty) as val from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> 
SQL> --single
SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(null == @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[null]                                                          

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(null >= @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(null <= @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(null >  @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(null <  @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(@ == null) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[null]                                                          

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(@ >= null) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(@ <= null) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(@ >  null) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(@ <  null) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?("null" == @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["null"]                                                        

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?("null" >= @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,"null","ASD",65]                                            

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?("null" <= @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["null",true,"zenith"]                                          

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?("null" >  @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,"ASD",65]                                                   

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?("null" <  @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[true,"zenith"]                                                 

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(@ == "null") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["null"]                                                        

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(@ >= "null") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["null",true,"zenith"]                                          

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(@ <= "null") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,"null","ASD",65]                                            

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(@ >  "null") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[true,"zenith"]                                                 

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65]', '$[*]?(@ <  "null") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,"ASD",65]                                                   

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65,{"val":null}]', '$[*]?(@.val ==  null) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[{"val":null}]                                                  

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65,{"val":null}]', '$[*]?(@[*].val[*] ==  null) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[{"val":null}]                                                  

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65,{"val":{"test":null}}]', '$[*]?(@[*].val[*].test ==  null) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[{"val":{"test":null}}]                                         

1 rows fetched.

SQL> 
SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(true == @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[true,"true"]                                                   

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(true >= @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(true <= @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(true >  @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(true <  @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(@ == true) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[true,"true"]                                                   

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(@ >= true) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(@ <= true) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(@ >  true) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(@ <  true) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?("true" == @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[true,"true"]                                                   

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?("true" >= @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,true,"true","ASD",65]                                       

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?("true" <= @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[true,"true","zenith"]                                          

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?("true" >  @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,"ASD",65]                                                   

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?("true" <  @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["zenith"]                                                      

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(@ == "true") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[true,"true"]                                                   

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(@ >= "true") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[true,"true","zenith"]                                          

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(@ <= "true") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,true,"true","ASD",65]                                       

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(@ >  "true") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["zenith"]                                                      

1 rows fetched.

SQL> select json_query('[23,null,true,"true","zenith","ASD",65]', '$[*]?(@ <  "true") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,"ASD",65]                                                   

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65,{"val":true}]', '$[*]?(@.val ==  true) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[{"val":true}]                                                  

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65,{"val":true}]', '$[*]?(@[*].val[*] ==  true) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[{"val":true}]                                                  

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65,{"val":{"test":true}}]', '$[*]?(@[*].val[*].test ==  true) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[{"val":{"test":true}}]                                         

1 rows fetched.

SQL> 
SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(false == @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[false,"false"]                                                 

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(false >= @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(false <= @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(false >  @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(false <  @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(@ == false) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[false,"false"]                                                 

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(@ >= false) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(@ <= false) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(@ >  false) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(@ <  false) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?("false" == @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[false,"false"]                                                 

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?("false" >= @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,false,"false","ASD",65]                                     

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?("false" <= @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[false,"false","zenith"]                                        

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?("false" >  @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,"ASD",65]                                                   

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?("false" <  @) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["zenith"]                                                      

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(@ == "false") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[false,"false"]                                                 

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(@ >= "false") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[false,"false","zenith"]                                        

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(@ <= "false") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,false,"false","ASD",65]                                     

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(@ >  "false") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["zenith"]                                                      

1 rows fetched.

SQL> select json_query('[23,null,false,"false","zenith","ASD",65]', '$[*]?(@ <  "false") ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,"ASD",65]                                                   

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65,{"val":false}]', '$[*]?(@.val ==  false) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[{"val":false}]                                                 

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65,{"val":false}]', '$[*]?(@[*].val[*] ==  false) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[{"val":false}]                                                 

1 rows fetched.

SQL> select json_query('[23,null,"null",true,"zenith","ASD",65,{"val":{"test":false}}]', '$[*]?(@[*].val[*].test ==  false) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[{"val":{"test":false}}]                                        

1 rows fetched.

SQL> 
SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(32.123456 == @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[32.123456,"32.123456"]                                         

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(32.123456 >= @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,32.123456,"32.123456"]                                      

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(32.123456 <= @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[32.123456,"32.123456",100]                                     

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(32.123456 >  @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23]                                                            

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(32.123456 <  @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[100]                                                           

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(@ == 32.123456 ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[32.123456,"32.123456"]                                         

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(@ >= 32.123456 ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[32.123456,"32.123456",100]                                     

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(@ <= 32.123456 ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,32.123456,"32.123456"]                                      

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(@ >  32.123456 ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[100]                                                           

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(@ <  32.123456 ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23]                                                            

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?("32.123456" == @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[32.123456,"32.123456"]                                         

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?("32.123456" >= @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,32.123456,"32.123456",100]                                  

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?("32.123456" <= @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[32.123456,"32.123456","zenith"]                                

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?("32.123456" >  @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,100]                                                        

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?("32.123456" <  @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["zenith"]                                                      

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(@ == "32.123456" ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[32.123456,"32.123456"]                                         

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(@ >= "32.123456" ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[32.123456,"32.123456","zenith"]                                

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(@ <= "32.123456" ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,32.123456,"32.123456",100]                                  

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(@ >  "32.123456" ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["zenith"]                                                      

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith"]', '$[*]?(@ <  "32.123456" ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,100]                                                        

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith",{"val":[1,[34]]}]', '$[*]?(@.val[*][to] <  "38.123456" ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[{"val":[1,[34]]}]                                              

1 rows fetched.

SQL> 
SQL> select json_query('[23,null,32.123456,"sfdfdgfgdbhgfb",100,"zenith"]', '$[*]?("sfdfdgfgdbhgfb" == @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["sfdfdgfgdbhgfb"]                                              

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"sfdfdgfgdbhgfb",100,"zenith"]', '$[*]?("sfdfdgfgdbhgfb" >= @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,32.123456,"sfdfdgfgdbhgfb",100]                             

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"sfdfdgfgdbhgfb",100,"zenith"]', '$[*]?("sfdfdgfgdbhgfb" <= @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["sfdfdgfgdbhgfb","zenith"]                                     

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"sfdfdgfgdbhgfb",100,"zenith"]', '$[*]?("sfdfdgfgdbhgfb" >  @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,32.123456,100]                                              

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"sfdfdgfgdbhgfb",100,"zenith"]', '$[*]?("sfdfdgfgdbhgfb" <  @ ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["zenith"]                                                      

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"sfdfdgfgdbhgfb",100,"zenith"]', '$[*]?(@ == "sfdfdgfgdbhgfb" ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["sfdfdgfgdbhgfb"]                                              

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"sfdfdgfgdbhgfb",100,"zenith"]', '$[*]?(@ >= "sfdfdgfgdbhgfb" ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["sfdfdgfgdbhgfb","zenith"]                                     

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"sfdfdgfgdbhgfb",100,"zenith"]', '$[*]?(@ <= "sfdfdgfgdbhgfb" ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,32.123456,"sfdfdgfgdbhgfb",100]                             

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"sfdfdgfgdbhgfb",100,"zenith"]', '$[*]?(@ >  "sfdfdgfgdbhgfb" ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
["zenith"]                                                      

1 rows fetched.

SQL> select json_query('[23,null,32.123456,"sfdfdgfgdbhgfb",100,"zenith"]', '$[*]?(@ <  "sfdfdgfgdbhgfb" ) ' with wrapper) as val from dual;

VAL                                                             
----------------------------------------------------------------
[23,32.123456,100]                                              

1 rows fetched.

SQL> 
SQL> --error
SQL> select json_query('[23,true]', '$[*]?(@ == @) ' with wrapper) as val from dual;

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select json_query('[23,true]', '$[*]?(@ > @) ' with wrapper) as val from dual;

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select json_query('[23,true]', '$[*]?(@ < @) ' with wrapper) as val from dual;

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select json_query('[23,true]', '$[*]?(true == true) ' with wrapper) as val from dual;

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select json_query('[23,true]', '$[*]?(true >= true) ' with wrapper) as val from dual;

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select json_query('[23,true]', '$[*]?(true == false) ' with wrapper) as val from dual;

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select json_query('[23,true]', '$[*]?(true >= false) ' with wrapper) as val from dual;

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select json_query('[23,true]', '$[*]?(true [] false) ' with wrapper) as val from dual;

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select json_query('[23,true]', '$[*]?(true != [] false) ' with wrapper) as val from dual;

CT-02504, [1:41]JSON syntax error, unexpected [ found
SQL> select json_query('[23,true]', '$[*]?(@123 [] false) ' with wrapper) as val from dual;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> select json_query('[23,true]', '$[*]?(125<> == 125) ') as val from dual;

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select json_query('[23,true]', '$[*]?(125 == 125) ' with wrapper) as val from dual;

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select json_query('[23,true]', '$[*]?(43 == "43") ' with wrapper) as val from dual;

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select json_query('[23,true]', '$[*]?(null >= null) ' with wrapper) as val from dual;

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select json_query('[23,null,32.123456,"32.123456",100,"zenith",{"val":[1,[34]]}]', '$[*]?(@.val[*][to]?(@ > 9) <  "38.123456" ) ' with wrapper) as val from dual;

CT-02503, JSON path expression syntax error, ? must followed by parenthetical expression
SQL> 
SQL> --DTS
SQL> select json_object('false' is null  , 'dsfds' is 123 ) from dual;

JSON_OBJECT('FALSE' IS NULL  , 'DSFDS' IS 123 )                 
----------------------------------------------------------------
{"false":null,"dsfds":123}                                      

1 rows fetched.

SQL> select json_object('false' is 'null' , 'dsfds' is 123 ) from dual;

JSON_OBJECT('FALSE' IS 'NULL' , 'DSFDS' IS 123 )                
----------------------------------------------------------------
{"false":"null","dsfds":123}                                    

1 rows fetched.

SQL> select json_object('false' is null  , 'dsfds' is 123 ) from dual;

JSON_OBJECT('FALSE' IS NULL  , 'DSFDS' IS 123 )                 
----------------------------------------------------------------
{"false":null,"dsfds":123}                                      

1 rows fetched.

SQL> 
SQL> select json_array(1,2,'32432' , null null on null returning clob) from dual;

JSON_ARRAY(1,2,'32432' , NULL NULL ON NULL RETURNING CLOB)      
----------------------------------------------------------------
[1,2,"32432",null]                                              

1 rows fetched.

SQL> select json_array(1,2,'32432' , null null on null) from dual;

JSON_ARRAY(1,2,'32432' , NULL NULL ON NULL)                     
----------------------------------------------------------------
[1,2,"32432",null]                                              

1 rows fetched.

SQL> 
SQL> select json_array(1, null, 2, '32432' null on null returning clob) from dual;

JSON_ARRAY(1, NULL, 2, '32432' NULL ON NULL RETURNING CLOB)     
----------------------------------------------------------------
[1,null,2,"32432"]                                              

1 rows fetched.

SQL> select json_array(1, null, 2, '32432' null on null returning varchar2(100)) from dual;

JSON_ARRAY(1, NULL, 2, '32432' NULL ON NULL RETURNING VARCHAR2(1
----------------------------------------------------------------
[1,null,2,"32432"]                                              

1 rows fetched.

SQL> select json_array(1, null, 2, '32432' null on null) from dual;

JSON_ARRAY(1, NULL, 2, '32432' NULL ON NULL)                    
----------------------------------------------------------------
[1,null,2,"32432"]                                              

1 rows fetched.

SQL> 
SQL> select json_object('sdfsd' is 46, 'false' is null returning clob) from dual;

JSON_OBJECT('SDFSD' IS 46, 'FALSE' IS NULL RETURNING CLOB)      
----------------------------------------------------------------
{"sdfsd":46,"false":null}                                       

1 rows fetched.

SQL> select json_object('sdfsd' is 46, 'false' is null null on null  returning clob) from dual;

JSON_OBJECT('SDFSD' IS 46, 'FALSE' IS NULL NULL ON NULL  RETURNI
----------------------------------------------------------------
{"sdfsd":46,"false":null}                                       

1 rows fetched.

SQL> select json_object( 'false' is null, 'sdfsd' is 46 returning clob) from dual;

JSON_OBJECT( 'FALSE' IS NULL, 'SDFSD' IS 46 RETURNING CLOB)     
----------------------------------------------------------------
{"false":null,"sdfsd":46}                                       

1 rows fetched.

SQL> select json_object( 'false' is null, 'sdfsd' is 46 null on null returning clob) from dual;

JSON_OBJECT( 'FALSE' IS NULL, 'SDFSD' IS 46 NULL ON NULL RETURNI
----------------------------------------------------------------
{"false":null,"sdfsd":46}                                       

1 rows fetched.

SQL> 
SQL> select json_object('sdfsd' is 46, 'false' is null returning varchar2(100)) from dual;

JSON_OBJECT('SDFSD' IS 46, 'FALSE' IS NULL RETURNING VARCHAR2(10
----------------------------------------------------------------
{"sdfsd":46,"false":null}                                       

1 rows fetched.

SQL> select json_object('sdfsd' is 46, 'false' is null null on null  returning varchar2(100)) from dual;

JSON_OBJECT('SDFSD' IS 46, 'FALSE' IS NULL NULL ON NULL  RETURNI
----------------------------------------------------------------
{"sdfsd":46,"false":null}                                       

1 rows fetched.

SQL> select json_object( 'false' is null, 'sdfsd' is 46 returning varchar2(100)) from dual;

JSON_OBJECT( 'FALSE' IS NULL, 'SDFSD' IS 46 RETURNING VARCHAR2(1
----------------------------------------------------------------
{"false":null,"sdfsd":46}                                       

1 rows fetched.

SQL> select json_object( 'false' is null, 'sdfsd' is 46 null on null returning varchar2(100)) from dual;

JSON_OBJECT( 'FALSE' IS NULL, 'SDFSD' IS 46 NULL ON NULL RETURNI
----------------------------------------------------------------
{"false":null,"sdfsd":46}                                       

1 rows fetched.

SQL> 
SQL> select json_array(123, null format json null on null returning varchar2(200)) as val from dual;

VAL                                                             
----------------------------------------------------------------
[123,null]                                                      

1 rows fetched.

SQL> select json_array(123, null format json null on null returning clob) as val from dual;

VAL                                                             
----------------------------------------------------------------
[123,null]                                                      

1 rows fetched.

SQL> select json_object('name' is 123, 'b' is null returning clob) as val from dual;

VAL                                                             
----------------------------------------------------------------
{"name":123,"b":null}                                           

1 rows fetched.

SQL> 
SQL> select json_value('[]','$.saaaaaaaaaaaaaaaaaaasasadxsadcsafcdddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd') as val from dual;

CT-02503, JSON path expression syntax error, the current length(94) of step name has exceeded maximum length(68)
SQL> select json_value('[]','$.saaaaaaaaaaaaaaaaaaasasadxsadcsafcddddddddddddddddddddddddddddddddddd') as val from dual;

CT-02503, JSON path expression syntax error, the current length(69) of step name has exceeded maximum length(68)
SQL> select length('saaaaaaaaaaaaaaaaaaasasadxsadcsafcddddddddddddddddddddddddddddddddddd') as val from dual;

VAL                 
--------------------
69                  

1 rows fetched.

SQL> select json_value('[]','$.saaaaaaaaaaaaaaaaaaasasadxsadcsafcdddddddddddddddddddddddddddddddddd') as val from dual;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select length('saaaaaaaaaaaaaaaaaaasasadxsadcsafcdddddddddddddddddddddddddddddddddd') as val from dual;

VAL                 
--------------------
68                  

1 rows fetched.

SQL> select json_value('{"saaaaaaaaaaaaaaaaaaasasadxsadcsafcdddddddddddddddddddddddddddddddddd":123}', '$.saaaaaaaaaaaaaaaaaaasasadxsadcsafcdddddddddddddddddddddddddddddddddd') as val from dual;

VAL                                                             
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> 
SQL> drop table if exists t1_json_null_insert;

Succeed.

SQL> create table t1_json_null_insert (c1 varchar2(1024) check (c1 is json));

Succeed.

SQL> insert into t1_json_null_insert values (NULL);

1 rows affected.

SQL> 
SQL> drop table if exists t1_json_null_insert;

Succeed.

SQL> create table t1_json_null_insert (c1 varchar2(1024)  check (c1 is not json));

Succeed.

SQL> insert into t1_json_null_insert values (NULL);

1 rows affected.

SQL> drop table if exists t1_json_null_insert;

Succeed.

SQL> 
SQL> --====================================================================================
SQL> --right, step_name without "" must contains digit or letter or _
SQL> select json_value('{"_":"dsds43"}', '$._') from dual;

JSON_VALUE('{"_":"DSDS43"}', '$._')                             
----------------------------------------------------------------
dsds43                                                          

1 rows fetched.

SQL> select json_value('{"_1":"dsds43"}', '$._1') from dual;

JSON_VALUE('{"_1":"DSDS43"}', '$._1')                           
----------------------------------------------------------------
dsds43                                                          

1 rows fetched.

SQL> select json_value('{"a_1":"dsds43"}', '$.a_1') from dual;

JSON_VALUE('{"A_1":"DSDS43"}', '$.A_1')                         
----------------------------------------------------------------
dsds43                                                          

1 rows fetched.

SQL> 
SQL> select json_value('{"a1":"dsds43"}', '$.a') from dual;

JSON_VALUE('{"A1":"DSDS43"}', '$.A')                            
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"a1":"dsds43"}', '$.a1') from dual;

JSON_VALUE('{"A1":"DSDS43"}', '$.A1')                           
----------------------------------------------------------------
dsds43                                                          

1 rows fetched.

SQL> select json_value('{"a_1":"dsds43"}', '$.a_1') from dual;

JSON_VALUE('{"A_1":"DSDS43"}', '$.A_1')                         
----------------------------------------------------------------
dsds43                                                          

1 rows fetched.

SQL> select json_value('{"a_1":"dsds43"}', '$.a\"_1') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> 
SQL> select json_value('{"1a":"dsds43"}', '$."1a"') from dual;

JSON_VALUE('{"1A":"DSDS43"}', '$."1A"')                         
----------------------------------------------------------------
dsds43                                                          

1 rows fetched.

SQL> select json_value('{"a a":123}', '$."a a"') from dual;

JSON_VALUE('{"A A":123}', '$."A A"')                            
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> 
SQL> --error
SQL> select json_value('{"1":"dsds43"}', '$.1') from dual;

CT-02503, JSON path expression syntax error, first char of step name without " wrapper can't be digit
SQL> select json_value('{"1a":"dsds43"}', '$.1a') from dual;

CT-02503, JSON path expression syntax error, first char of step name without " wrapper can't be digit
SQL> select json_value('{"1":"dsds43"}', '$.a!') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> select json_value('{"1":"dsds43"}', '$."a!"') from dual;

JSON_VALUE('{"1":"DSDS43"}', '$."A!"')                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"a a":123}', '$.a a') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> 
SQL> --====================================================================================
SQL> select json_value('{"aaa":"??????"}','$.aaa?(@ == "??????")') from dual;

JSON_VALUE('{"AAA":"??????"}','$.AAA?(@ == "??????")')          
----------------------------------------------------------------
??????                                                          

1 rows fetched.

SQL> select json_query('{"aaa":"??????"}','$?(@.aaa == "??????")') from dual;

JSON_QUERY('{"AAA":"??????"}','$?(@.AAA == "??????")')          
----------------------------------------------------------------
{"aaa":"??????"}                                                

1 rows fetched.

SQL> select json_value('{"aaa":"???\"???"}','$.aaa?(@ == "???\"???")') from dual;

JSON_VALUE('{"AAA":"???\"???"}','$.AAA?(@ == "???\"???")')      
----------------------------------------------------------------
???"???                                                         

1 rows fetched.

SQL> select json_value('{"aaa":"\"???\"???\""}','$.aaa?(@ == "\"???\"???\"")') from dual;

JSON_VALUE('{"AAA":"\"???\"???\""}','$.AAA?(@ == "\"???\"???\"")
----------------------------------------------------------------
"???"???"                                                       

1 rows fetched.

SQL> select json_value('{"aaa":"\"??...?\"???\""}','$.aaa?(@ == "\"??...?\"???\"")') from dual;

JSON_VALUE('{"AAA":"\"??...?\"???\""}','$.AAA?(@ == "\"??...?\"?
----------------------------------------------------------------
"??...?"???"                                                    

1 rows fetched.

SQL> select length(json_value('{"aaa":"\"??.\b\r\t..?\"???\""}','$.aaa?(@ == "\"??.\b\r\t..?\"???\"")')) from dual;

LENGTH(JSON_VALUE('{"AAA":"\"??.\B\R\T..?\"???\""}','$.AAA?(@ ==
----------------------------------------------------------------
15                                                              

1 rows fetched.

SQL> 
SQL> --right
SQL> select json_value('{"a a":123}', '$."a a"') from dual;

JSON_VALUE('{"A A":123}', '$."A A"')                            
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> select json_value('{"a a":123}', '$."a a"     [  *  ]') from dual;

JSON_VALUE('{"A A":123}', '$."A A"     [  *  ]')                
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> select json_value('{" a a ":123}', '$." a a "') from dual;

JSON_VALUE('{" A A ":123}', '$." A A "')                        
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> select json_value('{" a \t a ":123}', '$." a \t a "') from dual;

JSON_VALUE('{" A \T A ":123}', '$." A \T A "')                  
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> select json_value('{"\" a a \"":123}', '$."\" a a \""') from dual;

JSON_VALUE('{"\" A A \"":123}', '$."\" A A \""')                
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> select json_value('{" a \t  \" a ":123}', '$." a \t  \" a "') from dual;

JSON_VALUE('{" A \T  \" A ":123}', '$." A \T  \" A "')          
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> select json_value('{" a \t..  \" a ":123}', '$." a \t..  \" a "[0]') from dual;

JSON_VALUE('{" A \T..  \" A ":123}', '$." A \T..  \" A "[0]')   
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> select json_value('{" a \t..  \" a ":123}', '$  .   " a \t..  \" a "  [0]') from dual;

JSON_VALUE('{" A \T..  \" A ":123}', '$  .   " A \T..  \" A "  [
----------------------------------------------------------------
123                                                             

1 rows fetched.

SQL> select json_value('{" a \t..  \" a ":{"    b \\ \b \\ \r   \t":321}}', '$." a \t..  \" a "."    b \\ \b \\ \r   \t"') from dual;

JSON_VALUE('{" A \T..  \" A ":{"    B \\ \B \\ \R   \T":321}}', 
----------------------------------------------------------------
321                                                             

1 rows fetched.

SQL> select json_value('{" a \t..  \" a ":{"    b \\ \b \\ \r   \t":321}}', '$   .  " a \t..  \" a "  .  "    b \\ \b \\ \r   \t"') from dual;

JSON_VALUE('{" A \T..  \" A ":{"    B \\ \B \\ \R   \T":321}}', 
----------------------------------------------------------------
321                                                             

1 rows fetched.

SQL> 
SQL> --error
SQL> select json_value('{"a a":123}', '$." a a "') from dual;

JSON_VALUE('{"A A":123}', '$." A A "')                          
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"a a":123}', '$." a a " ""') from dual;

CT-02503, JSON path expression syntax error, Invalid step name
SQL> select json_value('{" a a ":123}', '$." a a    "') from dual;

JSON_VALUE('{" A A ":123}', '$." A A    "')                     
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{" a a ":123}', '$.\" a a    "') from dual;

CT-02503, JSON path expression syntax error, Invalid step name
SQL> select json_value('{" a a ":123}', '$.\" a a    \"') from dual;

CT-02503, JSON path expression syntax error, unexpected char in step name without " wrapper
SQL> 
SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6}]', '$[*]?(@.a > 2 && @.a < 6)' with wrapper);

JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A":6}]', 
----------------------------------------------------------------
[{"a":3},{"a":4},{"a":5}]                                       

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6}]', '$[*]?(!@.a > 3)' with wrapper);

JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A":6}]', 
----------------------------------------------------------------
[{"a":1},{"a":2},{"a":3}]                                       

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6}]', '$[*]?((!(@.a < 5)))' with wrapper);

JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A":6}]', 
----------------------------------------------------------------
[{"a":5},{"a":6}]                                               

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6}]', '$[*]?(@.a > 4 || @.a < 2)' with wrapper);

JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A":6}]', 
----------------------------------------------------------------
[{"a":1},{"a":5},{"a":6}]                                       

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6}]', '$[*]?(!(@.a > 4 || @.a < 2 ))' with wrapper);

JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A":6}]', 
----------------------------------------------------------------
[{"a":2},{"a":3},{"a":4}]                                       

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6}]', '$[*]?(@.a == 4 || @.a == 2 && @.a != 5)' with wrapper);

JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A":6}]', 
----------------------------------------------------------------
[{"a":2},{"a":4}]                                               

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6}]', '$[*]?(@.a > 2 && !    @.a >  3)' with wrapper);

JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A":6}]', 
----------------------------------------------------------------
[{"a":3}]                                                       

1 rows fetched.

SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6}]', '$[*]?((@.a == 4) || !(((@.a <= 5))))' with wrapper);

JSON_QUERY('[{"A":1},{"A":2},{"A":3},{"A":4},{"A":5},{"A":6}]', 
----------------------------------------------------------------
[{"a":4},{"a":6}]                                               

1 rows fetched.

SQL> 
SQL> --error
SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6}]', '$[*]?((!&&(@.a < 5)))' with wrapper);

CT-02504, [1:74]JSON syntax error, unexpected & found
SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6}]', '$[*]?((!!(@.a < 5)))' with wrapper);

CT-02504, [1:74]JSON syntax error, unexpected ! found
SQL> select json_query('[{"a":1},{"a":2},{"a":3},{"a":4},{"a":5},{"a":6}]', '$[*]?((!(6)(@.a < 5)))' with wrapper);

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> 
SQL> --====================================================================================inner func test
SQL> --type()
SQL> select json_value('{"name":"jackon"}','$.name.type()') from dual;

JSON_VALUE('{"NAME":"JACKON"}','$.NAME.TYPE()')                 
----------------------------------------------------------------
string                                                          

1 rows fetched.

SQL> select json_value('{"name":123}','$.name.type()') from dual;

JSON_VALUE('{"NAME":123}','$.NAME.TYPE()')                      
----------------------------------------------------------------
number                                                          

1 rows fetched.

SQL> select json_value('{"name":true}','$.name.type()') from dual;

JSON_VALUE('{"NAME":TRUE}','$.NAME.TYPE()')                     
----------------------------------------------------------------
boolean                                                         

1 rows fetched.

SQL> select json_value('{"name":null}','$.name.type()') from dual;

JSON_VALUE('{"NAME":NULL}','$.NAME.TYPE()')                     
----------------------------------------------------------------
null                                                            

1 rows fetched.

SQL> select json_value('{"name":[]}','$.name.type()') from dual;

JSON_VALUE('{"NAME":[]}','$.NAME.TYPE()')                       
----------------------------------------------------------------
array                                                           

1 rows fetched.

SQL> select json_value('{"name":{"sdds":15}}','$.name.type()') from dual;

JSON_VALUE('{"NAME":{"SDDS":15}}','$.NAME.TYPE()')              
----------------------------------------------------------------
object                                                          

1 rows fetched.

SQL> select json_value('{"name":"jackon"}','$.name.type()?(21 > 1)') from dual;

CT-02503, JSON path expression syntax error, path filter - invalid comparison
SQL> select json_value('{"name":"jackon"}','$.name.()') from dual;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> select json_value('{"name":"jackon"}','$.name.type(34)') from dual;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> select json_value('{"name":"jackon"}','.type()') from dual;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> select json_value('{"name":"jackon"}','type()') from dual;

CT-02503, JSON path expression syntax error, path must start with $ character
SQL> select json_value('{"name":[]}','$.name.typex""x()') from dual;

CT-02503, JSON path expression syntax error, Invalid json func
SQL> 
SQL> select json_value('{"name":"jackon"}','$.type()') from dual;

JSON_VALUE('{"NAME":"JACKON"}','$.TYPE()')                      
----------------------------------------------------------------
object                                                          

1 rows fetched.

SQL> select json_query('{"name":"jackon"}','$.type()') from dual;

JSON_QUERY('{"NAME":"JACKON"}','$.TYPE()')                      
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{"name":"jackon"}','$.type()' with wrapper) from dual;

JSON_QUERY('{"NAME":"JACKON"}','$.TYPE()' WITH WRAPPER)         
----------------------------------------------------------------
["object"]                                                      

1 rows fetched.

SQL> select json_value('{"name":"jackon"}','$.type()?(@.name == "jackon")') from dual;

JSON_VALUE('{"NAME":"JACKON"}','$.TYPE()?(@.NAME == "JACKON")') 
----------------------------------------------------------------
object                                                          

1 rows fetched.

SQL> select json_value('{"name":"jackon"}','$.type()?(@.name == "object")') from dual;

JSON_VALUE('{"NAME":"JACKON"}','$.TYPE()?(@.NAME == "OBJECT")') 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"name":"jackon"}','$.name.type()?(@ == "jackon")') from dual;

JSON_VALUE('{"NAME":"JACKON"}','$.NAME.TYPE()?(@ == "JACKON")') 
----------------------------------------------------------------
string                                                          

1 rows fetched.

SQL> select json_value('{"name":"jackon"}','$.name.type()?(@ == "string")') from dual;

JSON_VALUE('{"NAME":"JACKON"}','$.NAME.TYPE()?(@ == "STRING")') 
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_value('{"name":"jackon"}','$.name?(@.type() == "string")') from dual;

CT-02503, JSON path expression syntax error, path filter - unexpected comparison operator
SQL> select json_value('{"name":"jackon"}','$.name.type()') from dual;

JSON_VALUE('{"NAME":"JACKON"}','$.NAME.TYPE()')                 
----------------------------------------------------------------
string                                                          

1 rows fetched.

SQL> select json_value('{"name":"jackon"}','$.name?(@ == "jackon")' error on error) from dual;

JSON_VALUE('{"NAME":"JACKON"}','$.NAME?(@ == "JACKON")' ERROR ON
----------------------------------------------------------------
jackon                                                          

1 rows fetched.

SQL> select json_value('{"name":"jackon"}','$.name.type()?(@ == "jackon")' error on error) from dual;

JSON_VALUE('{"NAME":"JACKON"}','$.NAME.TYPE()?(@ == "JACKON")' E
----------------------------------------------------------------
string                                                          

1 rows fetched.

SQL> select json_value('{"name":"jackon"}','$.name.type()?(@ == "string")' error on error) from dual;

CT-02506, JSON_VALUE evaluated to no value
SQL> 
SQL> select 1 from dual where json_exists('{"name":"jackon"}','$.name.size()');

CT-02503, JSON path expression syntax error, Invalid json func
SQL> 
SQL> select json_query('[1,2,3,4,5,6]','$[*].type()?(@ >2 && @ < 6)' with wrapper) from dual;

JSON_QUERY('[1,2,3,4,5,6]','$[*].TYPE()?(@ >2 && @ < 6)' WITH WR
----------------------------------------------------------------
["number","number","number"]                                    

1 rows fetched.

SQL> select json_query('[1,"2",3,true,5,{"fdsfds":"dsfsd"}]','$[*].type()' with wrapper) from dual;

JSON_QUERY('[1,"2",3,TRUE,5,{"FDSFDS":"DSFSD"}]','$[*].TYPE()' W
----------------------------------------------------------------
["number","string","number","boolean","number","object"]        

1 rows fetched.

SQL> select json_query('[1,"2",3,true,5,{"fdsfds":"dsfsd"}]','$[*].type()?(@ > 0)' with wrapper) from dual;

JSON_QUERY('[1,"2",3,TRUE,5,{"FDSFDS":"DSFSD"}]','$[*].TYPE()?(@
----------------------------------------------------------------
["number","string","number","number"]                           

1 rows fetched.

SQL> select json_query('[1,"2",3,true,5,{"fdsfds":"dsfsd"}]','$[*].  type    (    )    ?(@ > 0)' with wrapper) from dual;

JSON_QUERY('[1,"2",3,TRUE,5,{"FDSFDS":"DSFSD"}]','$[*].  TYPE   
----------------------------------------------------------------
["number","string","number","number"]                           

1 rows fetched.

SQL> 
SQL> -- DTS202012040HX3EEP0G00
SQL> select json_query('{"AAA":{"A":12, "B":13, "C":[14,15,16,17,18]}}', '$.AAA.C[*]?(@ > 17)' with 
  2 array       wrapper) as val from sys_dummy;

VAL                                                             
----------------------------------------------------------------
[18]                                                            

1 rows fetched.

SQL> select json_query('{"AAA":{"A":12, "B":13, "C":[14,15,16,17,18]}}', '$.AAA.C[*]?(@ > 17)' with 
  2 wrapper) as val from sys_dummy;

VAL                                                             
----------------------------------------------------------------
[18]                                                            

1 rows fetched.

SQL> select json_query('{"AAA":{"A":12, "B":13, "C":[14,15,16,17,18]}}', '$.AAA.C[*]?(@ > 17)' with 
  2 unconditional       wrapper) as val from sys_dummy;

VAL                                                             
----------------------------------------------------------------
[18]                                                            

1 rows fetched.

SQL> select json_query('{"AAA":{"A":12, "B":13, "C":[14,15,16,17,18]}}', '$.AAA.C[*]?(@ > 17)' null
  2 on       error) as val from sys_dummy;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{"AAA":{"A":12, "B":13, "C":[14,15,16,17,18]}}', '$.AAA.C[*]?(@ > 17)' empty       array
  2 on       error) as val from sys_dummy;

VAL                                                             
----------------------------------------------------------------
[]                                                              

1 rows fetched.

SQL> select json_query('{"AAA":{"A":12, "B":13, "C":[14,15,16,17,18]}}', '$.AAA.C[*]?(@ > 17)' null
  2  on       empty) as val from sys_dummy;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_query('{"AAA":{"A":12, "B":13, "C":[14,15,16,17,18]}}', '$.AAA.C[*]?(@ > 17)' empty       
  2 object
  3     on       empty) as val from sys_dummy;

VAL                                                             
----------------------------------------------------------------
                                                                

1 rows fetched.

SQL> select json_array(null  format json, 'null', '"null"' absent
  2  on       null) as val from sys_dummy;

VAL                                                             
----------------------------------------------------------------
["null","\"null\""]                                             

1 rows fetched.

SQL>  select json_array(null  format json, 'null', '"null"' null       
  2  on       null) as val from sys_dummy;

VAL                                                             
----------------------------------------------------------------
[null,"null","\"null\""]                                        

1 rows fetched.

SQL> select json_array(null  format json, 'null', '"null"' absent 
  2 on null returning       
  3  varchar2(200)) as val from sys_dummy;

VAL                                                             
----------------------------------------------------------------
["null","\"null\""]                                             

1 rows fetched.

SQL> select 1 from sys_dummy where json_exists('NULL', '$' false        
  2 on        error);

1           
------------

0 rows fetched.

SQL> 
SQL> select json_value('{"":"fgbgf"}', '$.""' error on error);

JSON_VALUE('{"":"FGBGF"}', '$.""' ERROR ON ERROR)               
----------------------------------------------------------------
fgbgf                                                           

1 rows fetched.

SQL> select json_value('{"":{"":{"":{"":"fgbgf"}}}}', '$."".""."".""' error on error);

JSON_VALUE('{"":{"":{"":{"":"FGBGF"}}}}', '$."".""."".""' ERROR 
----------------------------------------------------------------
fgbgf                                                           

1 rows fetched.

SQL> 
SQL> select json_query('[{"":[null],"":{}},[1,2],[1]]','$[*].""' with conditional wrapper error on error);

JSON_QUERY('[{"":[NULL],"":{}},[1,2],[1]]','$[*].""' WITH CONDIT
----------------------------------------------------------------
[[null],{}]                                                     

1 rows fetched.

SQL> select json_query('[{"":[null],"":{}},[1,2],[1]]','$[*].""[*]' with conditional wrapper error on error);

JSON_QUERY('[{"":[NULL],"":{}},[1,2],[1]]','$[*].""[*]' WITH CON
----------------------------------------------------------------
[null,{}]                                                       

1 rows fetched.

SQL> select json_query('[{"":[null],"":{}},[1,2],[1]]','$.*' with conditional wrapper error on error);

JSON_QUERY('[{"":[NULL],"":{}},[1,2],[1]]','$.*' WITH CONDITIONA
----------------------------------------------------------------
[[null],{},[1,2],[1]]                                           

1 rows fetched.

SQL> select json_query('[{"":[null],"":{}},[1,2],[1]]','$.*[*]' with conditional wrapper error on error);

JSON_QUERY('[{"":[NULL],"":{}},[1,2],[1]]','$.*[*]' WITH CONDITI
----------------------------------------------------------------
[null,{},1,2,1]                                                 

1 rows fetched.

SQL> select json_query('[{"":[null],"":{}},[1,2],[1]]','$[*][*]' with conditional wrapper error on error);

JSON_QUERY('[{"":[NULL],"":{}},[1,2],[1]]','$[*][*]' WITH CONDIT
----------------------------------------------------------------
[null,{},1,2,1]                                                 

1 rows fetched.

SQL> select json_query('[{"":[null],"":{}},[1,2],[1]]','$[*].*[*]' with conditional wrapper error on error);

JSON_QUERY('[{"":[NULL],"":{}},[1,2],[1]]','$[*].*[*]' WITH COND
----------------------------------------------------------------
[null,{},1,2,1]                                                 

1 rows fetched.

SQL> 


