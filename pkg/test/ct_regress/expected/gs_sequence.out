

SQL> conn / as  sysdba

connected.

SQL> drop sequence if exists seq_0011;

Succeed.

SQL> drop sequence if exists seq_0012;

Succeed.

SQL> create sequence seq_0012 increment by -9223372036854775808 start with 0 maxvalue 9223372036854775807 minvalue -9223372036854775808 NOCACHE ;

Succeed.

SQL> create sequence seq_0011 increment by -9 start with 0 maxvalue 9223372036854775807 minvalue -10 NOCACHE;

Succeed.

SQL> alter sequence seq_0011 increment by -9223372036854775808  maxvalue 9223372036854775807 minvalue -9223372036854775808 NOCACHE ;

Succeed.

SQL> drop sequence if exists seq_0011;

Succeed.

SQL> drop sequence if exists seq_0012;

Succeed.

SQL> CONN / AS SYSDBA

connected.

SQL> DROP SEQUENCE IF EXISTS QUE_TEST11;

Succeed.

SQL> CREATE SEQUENCE QUE_TEST11 INCREMENT BY -1 MAXVALUE -10 START WITH -15;

Succeed.

SQL> ALTER SEQUENCE QUE_TEST11 MAXVALUE -5;

Succeed.

SQL> DROP SEQUENCE IF EXISTS QUE_TEST11;

Succeed.

SQL> DROP USER IF EXISTS PRI_SEQUENCE;

Succeed.

SQL> CREATE USER PRI_SEQUENCE IDENTIFIED BY CANTIAN_234;

Succeed.

SQL> GRANT CONNECT, CREATE SEQUENCE TO PRI_SEQUENCE;

Succeed.

SQL> CONN PRI_SEQUENCE/CANTIAN_234@127.0.0.1:1611

connected.

SQL> CREATE SEQUENCE PRI_SEQUENCE1.QUE_TEST11 INCREMENT BY -1 MAXVALUE -10 START WITH -15;

CT-01001, Permissions were insufficient
SQL> ALTER SEQUENCE PRI_SEQUENCE1.QUE_TEST11 MAXVALUE -5;

CT-01001, Permissions were insufficient
SQL> CONN / AS SYSDBA

connected.

SQL> DROP USER IF EXISTS PRI_SEQUENCE;

Succeed.

SQL> CONN / AS SYSDBA

connected.

SQL> DROP SEQUENCE IF EXISTS PFA_SEQ_TEST;

Succeed.

SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 1  INCREMENT BY 10 START WITH 1 MAXVALUE 1.0E9 MINVALUE 1 NOCYCLE CACHE 20 ORDER;

CT-00601, [1:58]Sql syntax error: duplicate INCREMENT specifications
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 10  START WITH 1 START WITH 2 MAXVALUE 1.0E9 MINVALUE 1 NOCYCLE CACHE 20 ORDER;

CT-00601, [1:68]Sql syntax error: duplicate START specifications
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 10  START WITH 1 MAXVALUE 1.0E9 MAXVALUE 1.0E8 MINVALUE 1 NOCYCLE CACHE 20 ORDER;

CT-00601, [1:86]Sql syntax error: duplicate MAXVALUE specifications
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 10  START WITH 10 MAXVALUE 1.0E9 MINVALUE 1 MINVALUE 10 NOCYCLE CACHE 20 ORDER;

CT-00601, [1:98]Sql syntax error: duplicate MINVALUE specifications
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 10  START WITH 1 MAXVALUE 1.0E9 MINVALUE 1 NOCYCLE NOCYCLE CACHE 20 ORDER;

CT-00601, [1:104]Sql syntax error: duplicate or conflicting CYCLE/NOCYCLE specifications
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 10  START WITH 1 MAXVALUE 1.0E9 MINVALUE 1 NOCYCLE CYCLE CACHE 20 ORDER;

CT-00601, [1:102]Sql syntax error: duplicate or conflicting CYCLE/NOCYCLE specifications
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 10  START WITH 1 MAXVALUE 1.0E9 MINVALUE 1 NOCYCLE NOCACHE NOCACHE ORDER;

CT-00601, [1:112]Sql syntax error: duplicate NO_CACHE specifications
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 10  START WITH 1 MAXVALUE 1.0E9 MINVALUE 1 NOCYCLE CACHE 20 CACHE 30 ORDER;

CT-00601, [1:111]Sql syntax error: duplicate CACHE specifications
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 10  START WITH 1 MAXVALUE 1.0E9 MINVALUE 1 NOCYCLE CACHE 20 ORDER ORDER;

CT-00601, [1:116]Sql syntax error: duplicate or conflicting ORDER/NOORDER specifications
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 10  START WITH 1 MAXVALUE 1.0E9 MINVALUE 1 NOCYCLE CACHE 20 ORDER NOORDER;

CT-00601, [1:118]Sql syntax error: duplicate or conflicting ORDER/NOORDER specifications
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 10  START WITH 1 MAXVALUE 1.0E9 MINVALUE 1 NOCYCLE CACHE 20 NOORDER NOORDER;

CT-00601, [1:120]Sql syntax error: duplicate or conflicting ORDER/NOORDER specifications
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 10  START WITH 1 MAXVALUE 1.0E9 MINVALUE 1 NOCYCLE CACHE 20 ORDER NOMAXVALUE NOMAXVALUE ;

CT-00601, [1:133]Sql syntax error: duplicate NO_MAXVALUE specifications
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 10  START WITH 1 MAXVALUE 1.0E9 MINVALUE 1 NOCYCLE CACHE 20 ORDER NOMINVALUE NOMINVALUE ;

CT-00601, [1:133]Sql syntax error: duplicate NO_MINVALUE specifications
SQL> -- invalid cases
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 1.123123 START    WITH 1 MAXVALUE 1.0E9 MINVALUE 1 NOCYCLE CACHE 20 ORDER;

CT-00601, [1:45]Sql syntax error: sequence INCREMENT must be a bigint
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 1.00 START WITH 1.0001 MAXVALUE 1.0E9 MINVALUE 1 NOCYCLE CACHE 20 ORDER;

CT-00601, [1:61]Sql syntax error: sequence START WITH must be a bigint
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 1.00 START WITH 1. MAXVALUE 1.000000000000000000000000001E9 MINVALUE 1 NOCYCLE CACHE 20 ORDER;

CT-00601, [1:73]Sql syntax error: sequence MAXVALUE must be a bigint
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 1.00 START WITH 1. MAXVALUE 1.0000000E17 MINVALUE 0.002 NOCYCLE CACHE 20 ORDER;

CT-00601, [1:95]Sql syntax error: sequence MINVALUE must be a bigint
SQL> CREATE  SEQUENCE PFA_SEQ_TEST  INCREMENT BY 1.00 START WITH 1. MAXVALUE 1.0000000E17 MINVALUE 2 NOCYCLE CACHE 0.0200001E2 ORDER;

CT-00601, [1:111]Sql syntax error: sequence CACHE must be a bigint
SQL> 
SQL> -- normal case
SQL> drop sequence if exists PFA_SEQ_TEST_N;

Succeed.

SQL> CREATE  SEQUENCE PFA_SEQ_TEST_N  INCREMENT BY 1.00 START WITH 1.01E10 MAXVALUE 1.000000000000000000000000001E30 MINVALUE 1 NOCYCLE CACHE 20 ORDER;

Succeed.

SQL> CREATE  SEQUENCE PFA_SEQ_TEST_N  INCREMENT BY 1.00 START WITH 1.01E10 MAXVALUE 1.000000000000000000000000001E30 MINVALUE 1 NOCYCLE CACHE 20 ORDER;

CT-01301, SYS.PFA_SEQ_TEST_N already exists
SQL> 
SQL> CREATE SEQUENCE  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBBB64 START WITH 10;

Succeed.

SQL> SELECT AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBBB64.NEXTVAL FROM DUAL;

NEXTVAL             
--------------------
10                  

1 rows fetched.

SQL> DROP SEQUENCE  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBBB64;

Succeed.

SQL> 
SQL> --DTS2018070911143
SQL> drop sequence if exists slient_mode_seque_007;

Succeed.

SQL> CREATE SEQUENCE slient_mode_seque_007 START WITH 10 MAXVALUE 20 INCREMENT BY 1 CYCLE;

CT-00804, Invalid sequence because number to CACHE must be less than one cycle
SQL> CREATE SEQUENCE slient_mode_seque_007 START WITH 10 MAXVALUE 20 INCREMENT BY 1 CYCLE CACHE 1;

CT-00804, Invalid sequence because CACHE value must be larger than 1
SQL> CREATE SEQUENCE slient_mode_seque_007 START WITH 10 MAXVALUE 20 INCREMENT BY 1 CYCLE CACHE 19; 

Succeed.

SQL> drop sequence if exists slient_mode_seque_008;

Succeed.

SQL> CREATE SEQUENCE slient_mode_seque_008 START WITH 10 MAXVALUE 20 INCREMENT BY 3 CYCLE CACHE 7;

Succeed.

SQL> CREATE SEQUENCE slient_mode_seque_008 START WITH 10 MAXVALUE 20 INCREMENT BY 3 CYCLE CACHE 8; 

CT-00804, Invalid sequence because number to CACHE must be less than one cycle
SQL> drop sequence slient_mode_seque_007;

Succeed.

SQL> drop sequence slient_mode_seque_008;

Succeed.

SQL> 
SQL> -- CREATE SEQUENCE 
SQL> -- ����CURRVAL 
SQL> DROP SEQUENCE if exists seq1;

Succeed.

SQL> DROP SEQUENCE if exists seq2;

Succeed.

SQL> 
SQL> CREATE SEQUENCE seq1 INCREMENT BY 1  NOCACHE NOCYCLE;        

Succeed.

SQL> select SEQ1.CURRVAL FROM DUAL;    

CT-00804, Invalid sequence because sequence CURRVAL is not defined in this session
SQL> select SEQ1.NEXTVAL FROM DUAL;   

NEXTVAL             
--------------------
1                   

1 rows fetched.

SQL> select SEQ1.CURRVAL FROM DUAL; 

CURRVAL             
--------------------
1                   

1 rows fetched.

SQL> select SEQ1.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
2                   

1 rows fetched.

SQL> select SEQ1.CURRVAL FROM DUAL;

CURRVAL             
--------------------
2                   

1 rows fetched.

SQL> rollback;

Succeed.

SQL> select SEQ1.CURRVAL FROM DUAL;

CURRVAL             
--------------------
2                   

1 rows fetched.

SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> -- ����ָ��ֵ�����Χ 
SQL> CREATE SEQUENCE seq1  MAXVALUE 999999999999999999 INCREMENT BY 1  NOCACHE NOCYCLE;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    999999999999999999   1                    0                    0            0            1                   

1 rows fetched.

SQL> DROP SEQUENCE SEQ1;

Succeed.

SQL> CREATE SEQUENCE seq1  MAXVALUE 1000000000000000000 INCREMENT BY 1  NOCACHE NOCYCLE;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    1000000000000000000  1                    0                    0            0            1                   

1 rows fetched.

SQL> DROP SEQUENCE SEQ1; 

Succeed.

SQL> 
SQL> -- ����ָ��ֵ����С��Χ
SQL> CREATE SEQUENCE seq1  MINVALUE -999999999999999999 INCREMENT BY 1  NOCACHE NOCYCLE;    

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             -999999999999999999  9223372036854775807  1                    0                    0            0            -999999999999999999 

1 rows fetched.

SQL> DROP sequence seq1;

Succeed.

SQL> CREATE SEQUENCE seq1  MINVALUE -1000000000000000000 INCREMENT BY 1  NOCACHE NOCYCLE;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             -1000000000000000000 9223372036854775807  1                    0                    0            0            -1000000000000000000

1 rows fetched.

SQL> DROP sequence seq1;

Succeed.

SQL> -- ����Ĭ��ֵ
SQL> CREATE SEQUENCE seq1;    

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER, FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

CT-00601, [1:84]Sql syntax error: invalid expression
SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> -- ���Ը�ֵ����
SQL> CREATE SEQUENCE seq1  START WITH -3 INCREMENT BY -1; 

Succeed.

SQL> select SEQ1.CURRVAL  FROM DUAL ; 

CT-00804, Invalid sequence because sequence CURRVAL is not defined in this session
SQL> select SEQ1.NEXTVAL  FROM DUAL ;   

NEXTVAL             
--------------------
-3                  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;  

NEXTVAL             
--------------------
-4                  

1 rows fetched.

SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> -- ����NOCYCLE������MAXVALUEʱ
SQL> CREATE SEQUENCE seq1  START WITH 4 MAXVALUE 10 INCREMENT BY  3 NOCYCLE;

Succeed.

SQL> select SEQ1.NEXTVAL  FROM DUAL ; 

NEXTVAL             
--------------------
4                   

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ; 

NEXTVAL             
--------------------
7                   

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ; 

NEXTVAL             
--------------------
10                  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ; 

CT-00804, Invalid sequence because sequence NEXTVAL exceeds MAXVALUE
SQL> select SEQ1.NEXTVAL  FROM DUAL ; 

CT-00804, Invalid sequence because sequence NEXTVAL exceeds MAXVALUE
SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> -- ����NOCYCLE������MINVALUEʱ
SQL> CREATE SEQUENCE seq1  MINVALUE -10 INCREMENT BY -4 NOCYCLE;

Succeed.

SQL> select SEQ1.NEXTVAL  FROM DUAL ; 

NEXTVAL             
--------------------
-1                  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ; 

NEXTVAL             
--------------------
-5                  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
-9                  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;  

CT-00804, Invalid sequence because sequence NEXTVAL goes below MINVALUE
SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> -- ���Բ���ֵ�����Χ��Ĭ����NOCYCLE
SQL> CREATE SEQUENCE seq1  START WITH 10 MAXVALUE 20 INCREMENT BY 4 CYCLE;

CT-00804, Invalid sequence because number to CACHE must be less than one cycle
SQL> select SEQ1.NEXTVAL  FROM DUAL ; 

CT-00848, [1:8]The sequence SYS.SEQ1 does not exist.
SQL> select SEQ1.NEXTVAL  FROM DUAL ; 

CT-00848, [1:8]The sequence SYS.SEQ1 does not exist.
SQL> select SEQ1.NEXTVAL  FROM DUAL ; 

CT-00848, [1:8]The sequence SYS.SEQ1 does not exist.
SQL> select SEQ1.NEXTVAL  FROM DUAL ;

CT-00848, [1:8]The sequence SYS.SEQ1 does not exist.
SQL> drop sequence seq1;

CT-00848, The sequence SYS.SEQ1 does not exist.
SQL> 
SQL> CREATE SEQUENCE seq1 MINVALUE -10 INCREMENT BY -5 CYCLE;

CT-00804, Invalid sequence because number to CACHE must be less than one cycle
SQL> select SEQ1.NEXTVAL  FROM DUAL ;

CT-00848, [1:8]The sequence SYS.SEQ1 does not exist.
SQL> select SEQ1.NEXTVAL  FROM DUAL ; 

CT-00848, [1:8]The sequence SYS.SEQ1 does not exist.
SQL> select SEQ1.NEXTVAL  FROM DUAL ; 

CT-00848, [1:8]The sequence SYS.SEQ1 does not exist.
SQL> select SEQ1.NEXTVAL  FROM DUAL ;

CT-00848, [1:8]The sequence SYS.SEQ1 does not exist.
SQL> drop sequence seq1;

CT-00848, The sequence SYS.SEQ1 does not exist.
SQL> 
SQL> -- ���Է�����
SQL> CREATE SEQUENCE seq1  INCREMENT BY 8.8;

CT-00601, [1:36]Sql syntax error: sequence INCREMENT must be a bigint
SQL> CREATE SEQUENCE seq1  MAXVALUE 888.88; 

CT-00601, [1:32]Sql syntax error: sequence MAXVALUE must be a bigint
SQL> CREATE SEQUENCE seq1  MINVALUE -888.88; 

CT-00601, [1:32]Sql syntax error: sequence MINVALUE must be a bigint
SQL> CREATE SEQUENCE seq1  CACHE 8.8;      

CT-00601, [1:29]Sql syntax error: sequence CACHE must be a bigint
SQL> CREATE SEQUENCE seq1  START WITH 8.8;

CT-00601, [1:34]Sql syntax error: sequence START WITH must be a bigint
SQL> 
SQL> -- ���� INCREMENT �� MAX-MIN�й�
SQL> CREATE SEQUENCE seq1  INCREMENT BY 0;

CT-00804, [1:36]Invalid sequence because sequence INCREMENT must be a non-zero integer
SQL> CREATE SEQUENCE seq1  MAXVALUE 30 MINVALUE 2 INCREMENT BY  30;

CT-00601, Sql syntax error: INCREMENT must be less than MAX value minus MIN value
SQL> 
SQL> 
SQL> -- ����START WITH �� MAX MIN�й�
SQL> CREATE SEQUENCE seq1 START WITH 12; 

Succeed.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;  

NEXTVAL             
--------------------
12                  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;  

NEXTVAL             
--------------------
13                  

1 rows fetched.

SQL> drop sequence seq1;

Succeed.

SQL> CREATE SEQUENCE seq1 START WITH 5  MAXVALUE 9 ; 

Succeed.

SQL> drop sequence seq1;

Succeed.

SQL> CREATE SEQUENCE seq1 START WITH -10 MINVALUE 9 INCREMENT BY -1; 

CT-00601, Sql syntax error: MINVALUE must less than MAXVALUE
SQL> 
SQL> -- NOMAXVALUE
SQL> CREATE SEQUENCE seq1  NOMAXVALUE  INCREMENT BY 20;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    9223372036854775807  20                   20                   0            0            1                   

1 rows fetched.

SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> CREATE SEQUENCE seq1  NOMAXVALUE  INCREMENT BY -10;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             -9223372036854775808 -1                   -10                  20                   0            0            -1                  

1 rows fetched.

SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> CREATE SEQUENCE seq1  NOMAXVALUE  INCREMENT BY 20  CYCLE;

CT-00601, Sql syntax error: ascending sequences that CYCLE must specify MAXVALUE
SQL> CREATE SEQUENCE seq1  NOMINVALUE  INCREMENT BY -10 CYCLE;

CT-00601, Sql syntax error: descending sequences that CYCLE must specify MINVALUE
SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------

0 rows fetched.

SQL> drop sequence seq1;

CT-00848, The sequence SYS.SEQ1 does not exist.
SQL> 
SQL> -- NOMINVALUE �� CYCLE �й�
SQL> CREATE SEQUENCE seq1  NOMINVALUE INCREMENT BY 10;

Succeed.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
1                   

1 rows fetched.

SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> CREATE SEQUENCE seq1  NOMINVALUE INCREMENT BY -10;

Succeed.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
-1                  

1 rows fetched.

SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> CREATE SEQUENCE seq1  NOMINVALUE INCREMENT BY -10  CYCLE;

CT-00601, Sql syntax error: descending sequences that CYCLE must specify MINVALUE
SQL> 
SQL> CREATE SEQUENCE seq1  NOMINVALUE INCREMENT BY 10 CYCLE;

CT-00601, Sql syntax error: ascending sequences that CYCLE must specify MAXVALUE
SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------

0 rows fetched.

SQL> drop sequence seq1;

CT-00848, The sequence SYS.SEQ1 does not exist.
SQL> 
SQL> -- CACHE size test
SQL> CREATE SEQUENCE seq1 ; 

Succeed.

SQL> SELECT NAME, CACHESIZE, CYCLE_FLAG  FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             CACHESIZE            CYCLE_FLAG  
---------------------------------------------------------------- -------------------- ------------
SEQ1                                                             20                   0           

1 rows fetched.

SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> CREATE SEQUENCE seq1  CACHE 128;

Succeed.

SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> CREATE SEQUENCE seq1  CACHE 999999999999999999;

Succeed.

SQL> SELECT NAME, CACHESIZE, CYCLE_FLAG  FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             CACHESIZE            CYCLE_FLAG  
---------------------------------------------------------------- -------------------- ------------
SEQ1                                                             999999999999999999   0           

1 rows fetched.

SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> create sequence seq4 start with 3000000001 cache 18446744073709551616;

Succeed.

SQL> create sequence seq4 start with 3000000001 cache 9999999999999999999;

CT-01301, SYS.SEQ4 already exists
SQL> 
SQL> -- OK too 
SQL> CREATE SEQUENCE seq2  CACHE 1000000000000000000;

Succeed.

SQL> SELECT NAME, CACHESIZE, CYCLE_FLAG  FROM SYS_SEQUENCES WHERE NAME = 'SEQ2';

NAME                                                             CACHESIZE            CYCLE_FLAG  
---------------------------------------------------------------- -------------------- ------------
SEQ2                                                             1000000000000000000  0           

1 rows fetched.

SQL> drop sequence seq2;

Succeed.

SQL> 
SQL> CREATE SEQUENCE seq1 CACHE 0;

CT-00804, Invalid sequence because CACHE value must be larger than 1
SQL> drop sequence seq1;

CT-00848, The sequence SYS.SEQ1 does not exist.
SQL> 
SQL> CREATE SEQUENCE seq1 CACHE -1;

CT-00804, Invalid sequence because CACHE value must be larger than 1
SQL> 
SQL> CREATE SEQUENCE seq1 CACHE -9223372036854775807;

CT-00804, Invalid sequence because CACHE value must be larger than 1
SQL> 
SQL> --(CEIL (MAXVALUE - MINVALUE)) / ABS (INCREMENT)
SQL> CREATE SEQUENCE seq1  MINVALUE  100  MAXVALUE 990 INCREMENT BY 13 CACHE 70 CYCLE; 

CT-00804, Invalid sequence because number to CACHE must be less than one cycle
SQL> CREATE SEQUENCE seq1  MINVALUE  100  MAXVALUE 990 INCREMENT BY 13 CACHE 69 CYCLE; 

Succeed.

SQL> CREATE SEQUENCE seq1  MINVALUE  100  MAXVALUE 990 INCREMENT BY 13 CACHE 68; 

CT-01301, SYS.SEQ1 already exists
SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> -- ORDER
SQL> CREATE SEQUENCE seq1 NOCACHE NOORDER;

Succeed.

SQL> drop sequence seq1;

Succeed.

SQL> CREATE SEQUENCE seq1 NOCACHE ORDER;

Succeed.

SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> -- ALTER SEQUENCE
SQL> CREATE SEQUENCE seq1;

Succeed.

SQL> ALTER SEQUENCE seq2;

CT-00848, The sequence SYS.SEQ2 does not exist.
SQL> ALTER SEQUENCE seq1;  

CT-00804, Invalid sequence because no options specified for alter sequence
SQL> ALTER SEQUENCE seq2 NOMINVALUE; 

CT-00848, The sequence SYS.SEQ2 does not exist.
SQL> 
SQL> -- �޸�START WITH
SQL> ALTER SEQUENCE seq1 START WITH 2; 

CT-00601, Sql syntax error: cannot alter starting sequence number 
SQL> 
SQL> -- �޸� INCREMENT
SQL> ALTER SEQUENCE seq1 INCREMENT BY -2;

Succeed.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

CT-00804, Invalid sequence because sequence NEXTVAL goes below MINVALUE
SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    9223372036854775807  -2                   20                   0            0            -2                  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

CT-00804, Invalid sequence because sequence NEXTVAL goes below MINVALUE
SQL> select SEQ1.NEXTVAL  FROM DUAL ;

CT-00804, Invalid sequence because sequence NEXTVAL goes below MINVALUE
SQL> drop sequence seq1;

Succeed.

SQL> create sequence seq1 ;

Succeed.

SQL> select seq1.nextval from dual;

NEXTVAL             
--------------------
1                   

1 rows fetched.

SQL> alter sequence seq1 increment by 2;

Succeed.

SQL> select name , Last_number from SYS_SEQUENCES where name ='SEQ1';

NAME                                                             LAST_NUMBER         
---------------------------------------------------------------- --------------------
SEQ1                                                             3                   

1 rows fetched.

SQL> alter sequence seq1 cache 30;

Succeed.

SQL> select name , Last_number from SYS_SEQUENCES where name ='SEQ1';

NAME                                                             LAST_NUMBER         
---------------------------------------------------------------- --------------------
SEQ1                                                             3                   

1 rows fetched.

SQL> alter sequence seq1 cache 40 increment by 3;

Succeed.

SQL> select name , Last_number from SYS_SEQUENCES where name ='SEQ1';

NAME                                                             LAST_NUMBER         
---------------------------------------------------------------- --------------------
SEQ1                                                             4                   

1 rows fetched.

SQL> select seq1.nextval from dual;

NEXTVAL             
--------------------
4                   

1 rows fetched.

SQL> select name , Last_number from SYS_SEQUENCES where name ='SEQ1';

NAME                                                             LAST_NUMBER         
---------------------------------------------------------------- --------------------
SEQ1                                                             124                 

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1  START WITH 10 MAXVALUE 40 INCREMENT BY 1 CYCLE;

CT-00601, Sql syntax error: cannot alter starting sequence number 
SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
7                   

1 rows fetched.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    9223372036854775807  3                    40                   0            0            124                 

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
10                  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
13                  

1 rows fetched.

SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> -- �޸�MAXVALUE
SQL> CREATE SEQUENCE seq1 ;

Succeed.

SQL> ALTER SEQUENCE seq1 MAXVALUE  1000;

Succeed.

SQL> ALTER SEQUENCE seq1 INCREMENT BY 20;

Succeed.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
20                  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
40                  

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 MAXVALUE  200;

Succeed.

SQL> ALTER SEQUENCE seq1 MAXVALUE  30;

CT-00804, Invalid sequence because MAXVALUE cannot be made to below the current value
SQL> 
SQL> ALTER SEQUENCE seq1 NOMAXVALUE;

Succeed.

SQL> 
SQL> -- �޸�MINVALUE
SQL> ALTER SEQUENCE seq1 MAXVALUE  -1000;

CT-00601, Sql syntax error: MINVALUE must less than MAXVALUE
SQL> ALTER SEQUENCE seq1 INCREMENT BY -10;

Succeed.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
30                  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
20                  

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 MINVALUE  200;

CT-00804, Invalid sequence because MINVALUE cannot be made to exceed the current value
SQL> ALTER SEQUENCE seq1 MINVALUE  -30;

Succeed.

SQL> ALTER SEQUENCE seq1 NOMINVALUE;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             -9223372036854775808 9223372036854775807  -10                  20                   0            0            0                   

1 rows fetched.

SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> -- ����CYCLE
SQL> CREATE sequence seq1;

Succeed.

SQL> ALTER SEQUENCE seq1 MINVALUE 1 MAXVALUE 10;

Succeed.

SQL> ALTER SEQUENCE seq1 CYCLE;

CT-00804, Invalid sequence because number to CACHE must be less than one cycle
SQL> ALTER SEQUENCE seq1 MINVALUE 1 MAXVALUE 100 CYCLE;

Succeed.

SQL> 
SQL> ALTER SEQUENCE seq1 CACHE 10;

Succeed.

SQL> ALTER SEQUENCE seq1 CACHE 100;

CT-00804, Invalid sequence because number to CACHE must be less than one cycle
SQL> 
SQL> ALTER SEQUENCE seq1 ORDER;

Succeed.

SQL> ALTER SEQUENCE seq1 NOORDER;

Succeed.

SQL> 
SQL> DROP SEQUENCE seq1;

Succeed.

SQL> 
SQL> -- ����LASTNUMBER 
SQL> CREATE SEQUENCE seq1 MAXVALUE 40 INCREMENT BY 1 NOCYCLE NOCACHE;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    40                   1                    0                    0            0            1                   

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
1                   

1 rows fetched.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    40                   1                    0                    0            0            2                   

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 MAXVALUE 50 INCREMENT BY 1 CYCLE;        

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    50                   1                    0                    1            0            2                   

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 MAXVALUE 60 CYCLE CACHE 20; 

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    60                   1                    20                   1            0            2                   

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
2                   

1 rows fetched.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    60                   1                    20                   1            0            22                  

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 INCREMENT BY 12 NOCYCLE;

Succeed.

SQL> ALTER SEQUENCE seq1 MAXVALUE 100 INCREMENT BY 12 CACHE 10 NOCYCLE; 

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1'; 

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    100                  12                   10                   0            0            14                  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
14                  

1 rows fetched.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    100                  12                   10                   0            0            110                 

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 INCREMENT BY -12 NOCYCLE;					

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    100                  -12                  10                   0            0            2                   

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
2                   

1 rows fetched.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    100                  -12                  10                   0            0            -10                 

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

CT-00804, Invalid sequence because sequence NEXTVAL goes below MINVALUE
SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    100                  -12                  10                   0            0            -10                 

1 rows fetched.

SQL> 
SQL> DROP SEQUENCE seq1;

Succeed.

SQL> -----------
SQL> 
SQL> CREATE SEQUENCE seq1 MAXVALUE 30 INCREMENT BY 2 NOCYCLE CACHE 10;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    30                   2                    10                   0            0            1                   

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;    

NEXTVAL             
--------------------
1                   

1 rows fetched.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    30                   2                    10                   0            0            21                  

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 MAXVALUE 30 INCREMENT BY 1 CYCLE;     

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    30                   1                    10                   1            0            2                   

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 INCREMENT BY 1 CYCLE NOCACHE; 

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1'; 

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    30                   1                    0                    1            0            2                   

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 INCREMENT BY 10;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    30                   10                   0                    1            0            11                  

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 INCREMENT BY -10;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    30                   -10                  0                    1            0            -9                  

1 rows fetched.

SQL> DROP SEQUENCE seq1;

Succeed.

SQL> 
SQL> CREATE SEQUENCE seq1 START WITH 18 MAXVALUE 20 INCREMENT BY 1 NOCYCLE CACHE 10;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1'; 

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    20                   1                    10                   0            0            18                  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
18                  

1 rows fetched.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    20                   1                    10                   0            0            21                  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
19                  

1 rows fetched.

SQL> DROP SEQUENCE seq1;

Succeed.

SQL> ---------------
SQL> CREATE SEQUENCE seq1 MAXVALUE 20 INCREMENT BY 1 CYCLE NOCACHE;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    20                   1                    0                    1            0            1                   

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
1                   

1 rows fetched.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1'; 

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    20                   1                    0                    1            0            2                   

1 rows fetched.

SQL> 
SQL> 
SQL> ALTER SEQUENCE seq1 MAXVALUE 200 INCREMENT BY 1 CYCLE CACHE 30; 

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    200                  1                    30                   1            0            2                   

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 INCREMENT BY 2;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    200                  2                    30                   1            0            3                   

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 INCREMENT BY -2;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    200                  -2                   30                   1            0            -1                  

1 rows fetched.

SQL> DROP SEQUENCE seq1;

Succeed.

SQL> 
SQL> CREATE SEQUENCE seq1 MAXVALUE 30 INCREMENT BY 1 CYCLE CACHE 8;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    30                   1                    8                    1            0            1                   

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL ;

NEXTVAL             
--------------------
1                   

1 rows fetched.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    30                   1                    8                    1            0            9                   

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 INCREMENT BY 1 NOCYCLE;  

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    30                   1                    8                    0            0            2                   

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 INCREMENT BY 1 NOCACHE;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    30                   1                    0                    0            0            2                   

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 INCREMENT BY 10;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    30                   10                   0                    0            0            11                  

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 INCREMENT BY -10;

Succeed.

SQL> SELECT NAME, MINVAL, MAXVAL, STEP, CACHESIZE, CYCLE_FLAG, ORDER_FLAG, LAST_NUMBER FROM SYS_SEQUENCES WHERE NAME = 'SEQ1';

NAME                                                             MINVAL               MAXVAL               STEP                 CACHESIZE            CYCLE_FLAG   ORDER_FLAG   LAST_NUMBER         
---------------------------------------------------------------- -------------------- -------------------- -------------------- -------------------- ------------ ------------ --------------------
SEQ1                                                             1                    30                   -10                  0                    0            0            -9                  

1 rows fetched.

SQL> 
SQL> ALTER SEQUENCE seq1 CACHE 18446744073709551616;

Succeed.

SQL> 
SQL> DROP SEQUENCE seq1;

Succeed.

SQL> 
SQL> -- ����SCHEMA�µ�����
SQL> CREATE USER SEQ_TEST IDENTIFIED BY Root123456789;

Succeed.

SQL> CREATE SEQUENCE SEQ_TEST.seq1 MAXVALUE 30 INCREMENT BY 2 CYCLE CACHE 9;

Succeed.

SQL> select SEQ_TEST.SEQ1.NEXTVAL FROM DUAL;

NEXTVAL             
--------------------
1                   

1 rows fetched.

SQL> select SEQ_TEST.SEQ1.CURRVAL FROM DUAL;

CURRVAL             
--------------------
1                   

1 rows fetched.

SQL> ALTER SEQUENCE SEQ_TEST.seq1 INCREMENT BY  3;

Succeed.

SQL> 
SQL> select sEq_teSt.Seq1.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
4                   

1 rows fetched.

SQL> select SeQ_TeST.SeQ1.CURRVAL FROM DUAL;

CURRVAL             
--------------------
4                   

1 rows fetched.

SQL> 
SQL> select sEq_teSt.Seq1.NEXTVAL FROM DUAL;

NEXTVAL             
--------------------
7                   

1 rows fetched.

SQL> select sEq_teSt.Seq1.CURRVAL FROM DUAL;

CURRVAL             
--------------------
7                   

1 rows fetched.

SQL> 
SQL> DROP SEQUENCE SEQ_TEST.seq1;

Succeed.

SQL> drop sequence if exists SEQ_TEST.seq2;

Succeed.

SQL> DROP USER SEQ_TEST;

Succeed.

SQL> -- seq3 not exists
SQL> drop sequence if exists seq3;

Succeed.

SQL> 
SQL> CREATE SEQUENCE seq1  MAXVALUE 999999999999999999 MINVALUE -999999999999999999  START WITH 999999999999999996 INCREMENT BY 999999999999999990  CACHE 999999999999999995 NOCYCLE;

CT-00804, Invalid sequence because CACHE multiply abs of STEP must be less than DEFAULT MAXVALUE
SQL> drop sequence seq1;

CT-00848, The sequence SYS.SEQ1 does not exist.
SQL> 
SQL> -- test overflow 
SQL> CREATE SEQUENCE seq1  MAXVALUE 999999999999999999 MINVALUE -999999999999999999  START WITH 999999999999999996 INCREMENT BY -999999999999999990  CACHE 999999999999999995 NOCYCLE;

Succeed.

SQL> CREATE SEQUENCE seq1  MAXVALUE 999999999999999999 MINVALUE -999999999999999999  START WITH 999999999999999996 INCREMENT BY -999999999999999990  NOCACHE NOCYCLE;

CT-01301, SYS.SEQ1 already exists
SQL> select SEQ1.NEXTVAL  FROM DUAL;

NEXTVAL             
--------------------
999999999999999996  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL;

NEXTVAL             
--------------------
6                   

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL;

NEXTVAL             
--------------------
-999999999999999984 

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL;

CT-00804, Invalid sequence because sequence NEXTVAL goes below MINVALUE
SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> CREATE SEQUENCE seq1  MAXVALUE 999999999999999999 MINVALUE -999999999999999999  START WITH 999999999999999990 INCREMENT BY 999999999999999990  NOCACHE NOCYCLE;

Succeed.

SQL> select SEQ1.NEXTVAL  FROM DUAL;

NEXTVAL             
--------------------
999999999999999990  

1 rows fetched.

SQL> select SEQ1.NEXTVAL  FROM DUAL;

CT-00804, Invalid sequence because sequence NEXTVAL exceeds MAXVALUE
SQL> drop sequence seq1;

Succeed.

SQL> 
SQL> CREATE SEQUENCE SEQUENCE ;

Succeed.

SQL> select SEQUENCE.NEXTVAL FROM DUAL;

NEXTVAL             
--------------------
1                   

1 rows fetched.

SQL> select sequence.NEXTVAL FROM DUAL;

NEXTVAL             
--------------------
2                   

1 rows fetched.

SQL> select sequence.CURRVAL FROM DUAL;

CURRVAL             
--------------------
2                   

1 rows fetched.

SQL> drop sequence SEQUENCE;

Succeed.

SQL> 
SQL> -- DTS2018072011785
SQL> drop sequence if exists seq_t_view_dspresc;

Succeed.

SQL> create sequence seq_t_view_dspresc
  2 minvalue 9223372036854775806
  3 maxvalue 99999999999999999999
  4 start with 9223372036854775806
  5 increment by 1
  6 cache 20
  7 cycle
  8 order;

CT-00804, Invalid sequence because number to CACHE must be less than one cycle
SQL> 
SQL> drop sequence if exists seq_t_view_dspresc;

Succeed.

SQL> create sequence seq_t_view_dspresc
  2 minvalue -9223372036854775807
  3 maxvalue 99999999999999999999
  4 start with -9223372036854775807
  5 increment by 1
  6 cache 20;

Succeed.

SQL> DROP SEQUENCE IF EXISTS TEST_PART_SEQ;

Succeed.

SQL> CREATE SEQUENCE TEST_PART_SEQ INCREMENT BY 1  NOCACHE NOCYCLE;

Succeed.

SQL> DROP TABLE IF EXISTS TEST_PART_SEQ_T1;

Succeed.

SQL> CREATE TABLE TEST_PART_SEQ_T1(F1 INT, F2 INT, F3 INT)
  2 PARTITION BY RANGE(F1)
  3 (
  4  PARTITION P1 VALUES LESS THAN(10),
  5  PARTITION P4 VALUES LESS THAN(MAXVALUE)
  6 );

Succeed.

SQL> INSERT INTO TEST_PART_SEQ_T1 VALUES(TEST_PART_SEQ.NEXTVAL,10,10);

1 rows affected.

SQL> INSERT INTO TEST_PART_SEQ_T1 VALUES(TEST_PART_SEQ.NEXTVAL,20,20);

1 rows affected.

SQL> SELECT * FROM TEST_PART_SEQ_T1 ORDER BY F1;

F1           F2           F3          
------------ ------------ ------------
1            10           10          
2            20           20          

2 rows fetched.

SQL> DROP SEQUENCE IF EXISTS TEST_PART_SEQ;

Succeed.

SQL> DROP TABLE IF EXISTS TEST_PART_SEQ_T1;

Succeed.

SQL> 
SQL> DROP SEQUENCE IF EXISTS TEST_SEQ_1;

Succeed.

SQL> CREATE SEQUENCE TEST_SEQ_1 START WITH 1 MINVALUE 1 MAXVALUE 99999999999999999999;

Succeed.

SQL> DROP TABLE IF EXISTS TEST_SEQ_T1;

Succeed.

SQL> CREATE TABLE TEST_SEQ_T1(F1 INT, F2 INT, F3 INT);

Succeed.

SQL> SELECT TEST_SEQ_1.nextval, TEST_SEQ_1.nextval, TEST_SEQ_1.currval from dual;

NEXTVAL              NEXTVAL              CURRVAL             
-------------------- -------------------- --------------------
1                    1                    1                   

1 rows fetched.

SQL> SELECT TEST_SEQ_1.currval, TEST_SEQ_1.nextval, TEST_SEQ_1.currval from dual;

CURRVAL              NEXTVAL              CURRVAL             
-------------------- -------------------- --------------------
2                    2                    2                   

1 rows fetched.

SQL> insert into TEST_SEQ_T1 values(TEST_SEQ_1.nextval,TEST_SEQ_1.nextval,TEST_SEQ_1.nextval);

1 rows affected.

SQL> select * from TEST_SEQ_T1;

F1           F2           F3          
------------ ------------ ------------
3            3            3           

1 rows fetched.

SQL> commit;

Succeed.

SQL> 
SQL> DROP TABLE IF EXISTS TEST_SEQ_T1;

Succeed.

SQL> DROP SEQUENCE IF EXISTS TEST_SEQ_1;

Succeed.

SQL> 
SQL> drop sequence if exists s_sequence_00025;

Succeed.

SQL> create sequence s_sequence_00025 increment by 10;

Succeed.

SQL> 
SQL> drop table if exists t_sysdate_systimestamp_base;

Succeed.

SQL> create table t_sysdate_systimestamp_base(id int);

Succeed.

SQL> insert into t_sysdate_systimestamp_base values(1);

1 rows affected.

SQL> insert into t_sysdate_systimestamp_base values(4);

1 rows affected.

SQL> commit;

Succeed.

SQL> 
SQL> drop table if exists t_sequence_00025;

Succeed.

SQL> create table t_sequence_00025(id int,
  2 c1 int default s_sequence_00025.nextval,
  3 c2 int default s_sequence_00025.nextval,
  4 c3 int default s_sequence_00025.currval,
  5 c4 int default s_sequence_00025.currval);

Succeed.

SQL> 
SQL> insert into t_sequence_00025(id) select * from t_sysdate_systimestamp_base;

2 rows affected.

SQL> select * from t_sequence_00025 order by 1;

ID           C1           C2           C3           C4          
------------ ------------ ------------ ------------ ------------
1            1            1            1            1           
4            11           11           11           11          

2 rows fetched.

SQL> drop table t_sequence_00025;

Succeed.

SQL> drop table t_sysdate_systimestamp_base;

Succeed.

SQL> 
SQL> drop sequence if exists s_sequence_00018;

Succeed.

SQL> drop table if exists t_sequence_00018;

Succeed.

SQL> create sequence s_sequence_00018 increment by 10;

Succeed.

SQL> create table t_sequence_00018 as select s_sequence_00018.nextval c1,s_sequence_00018.currval c2,s_sequence_00018.nextval c3,s_sequence_00018.currval c4 from dual;

Succeed.

SQL> select * from t_sequence_00018;

C1                   C2                   C3                   C4                  
-------------------- -------------------- -------------------- --------------------
1                    1                    1                    1                   

1 rows fetched.

SQL> select s_sequence_00018.currval c1,s_sequence_00018.nextval c2,s_sequence_00018.currval c3,s_sequence_00018.nextval c4 from dual;

C1                   C2                   C3                   C4                  
-------------------- -------------------- -------------------- --------------------
11                   11                   11                   11                  

1 rows fetched.

SQL> drop table t_sequence_00018;

Succeed.

SQL> drop sequence s_sequence_00018;

Succeed.

SQL> 
SQL> drop table if exists seq_check;

Succeed.

SQL> create table seq_check(val int);

Succeed.

SQL> 
SQL> declare
  2 i int;
  3 begin
  4 	for i in 1 ..2100
  5 	loop
  6 	execute immediate 'create sequence seq_'||i||' start with '||i||'';
  7 	end loop;
  8 end;
  9 /

PL/SQL procedure successfully completed.

SQL> 
SQL> declare
  2 i int;
  3 begin
  4 	for i in 1 ..2100
  5 	loop
  6 	execute immediate 'insert into seq_check values(seq_'||i||'.nextval)';
  7 	end loop;
  8 	commit;
  9 end;
 10 /

PL/SQL procedure successfully completed.

SQL> 
SQL> declare
  2 i int;
  3 begin
  4 	for i in 1 ..2100
  5 	loop
  6 	execute immediate 'drop sequence seq_'||i||'';
  7 	end loop;
  8 	for i in 3000 ..3100
  9 	loop
 10 	execute immediate 'create sequence seq_'||i||' start with '||i||'';
 11 	end loop;
 12 end;
 13 /

PL/SQL procedure successfully completed.

SQL> 
SQL> declare
  2 i int;
  3 begin	
  4 	for i in 3000 ..3100
  5 	loop
  6 	execute immediate 'insert into seq_check values(seq_'||i||'.nextval)';
  7 	end loop;
  8 	commit;
  9 	for i in 3000 ..3100
 10 	loop
 11 	execute immediate 'drop sequence seq_'||i||'';
 12 	end loop;
 13 end;
 14 /

PL/SQL procedure successfully completed.

SQL> 
SQL> select sum(val) from seq_check;

SUM(VAL)            
--------------------
2514100             

1 rows fetched.

SQL> drop table seq_check;

Succeed.

SQL> 
SQL> --DTS2019013000524  drop seq error
SQL> drop user if exists nebula cascade;

Succeed.

SQL> create sequence nebula.strg_indx_coalesce_tbl_002_seq;

CT-00781, The user NEBULA does not exist.
SQL> 
SQL> --DTS2019082907255   core
SQL> drop table if exists tbl_base;

Succeed.

SQL> create table tbl_base(id int not null,c_bigint bigint);

Succeed.

SQL> DROP SEQUENCE IF EXISTS seq_001;

Succeed.

SQL> create sequence seq_001 start with 1 increment by 1 MAXVALUE 40000000 MINVALUE -40000000 NOCYCLE distribute by groupid(1,2,3);

CT-00601, Sql syntax error: syntax error in sequence statement
SQL> create sequence seq_001 start with 1 increment by 1 MAXVALUE 40000000 MINVALUE -40000000 NOCYCLE;

Succeed.

SQL> insert into tbl_base values ( 0,seq_001.nextval);

1 rows affected.

SQL> insert into tbl_base values ( 1,seq_001.nextval);

1 rows affected.

SQL> insert into tbl_base values ( 2,seq_001.nextval);

1 rows affected.

SQL> insert into tbl_base values ( 3,seq_001.nextval);

1 rows affected.

SQL> insert into tbl_base values ( 4,seq_001.nextval);

1 rows affected.

SQL> insert into tbl_base values ( 5,seq_001.nextval);

1 rows affected.

SQL>
SQL> commit;

Succeed.

SQL> select id,c_bigint from tbl_base order by id limit seq_001.nextval-9000 offset seq_001.nextval;

CT-00601, [1:80]Sql syntax error: unexpected sequence occurs

SQL>
SQL> --DTS2019090205460
SQL> drop SEQUENCE ADDZCL_TEST11;

CT-00848, The sequence SYS.ADDZCL_TEST11 does not exist.
SQL> CREATE SEQUENCE ADDZCL_TEST11 START WITH 1 INCREMENT BY 3 MINVALUE 1 MAXVALUE 100 CYCLE CACHE 10;

Succeed.

SQL> ALTER SEQUENCE ADDZCL_TEST11 INCREMENT BY 3 MINVALUE 1 NOMAXVALUE CYCLE CACHE 10;

CT-00804, Invalid sequence because cycle must specify maxvalue
SQL> ALTER SEQUENCE ADDZCL_TEST11 INCREMENT BY 3 MINVALUE 1 NOMAXVALUE CYCLE;

CT-00804, Invalid sequence because cycle must specify maxvalue
SQL> ALTER SEQUENCE ADDZCL_TEST11 INCREMENT BY -3 NOMINVALUE MAXVALUE 30 CYCLE;

CT-00804, Invalid sequence because cycle must specify minvalue
SQL> drop SEQUENCE ADDZCL_TEST11;

Succeed.

SQL> --DTS2019082909787 sequence error
SQL> drop sequence seq4;

Succeed.

SQL> drop table if exists tbv_base;

Succeed.

SQL> create table tbv_base(id int not null,c_bigint number(38));

Succeed.

SQL> DROP SEQUENCE IF EXISTS seq_9787;

Succeed.

SQL> create sequence seq_9787 increment by 2 start with 1 maxvalue 80000 nocycle;

Succeed.

SQL> insert into tbv_base values ( 0,seq_9787.nextval );

1 rows affected.

SQL> insert into tbv_base values ( 1,seq_9787.nextval);

1 rows affected.

SQL> insert into tbv_base values ( 2,seq_9787.nextval);

1 rows affected.

SQL> insert into tbv_base values ( 3,seq_9787.nextval);

1 rows affected.

SQL> insert into tbv_base values ( 4,seq_9787.nextval);

1 rows affected.

SQL> insert into tbv_base values ( 5,seq_9787.nextval);

1 rows affected.

SQL> create or replace view view_sequence_9787 as select seq_9787.nextval as c1 from tbv_base;

CT-00601, [1:51]Sql syntax error: unexpected sequence occurs
SQL> 
SQL> drop sequence if exists seq1;

Succeed.

SQL> create sequence seq1;

Succeed.

SQL> alter sequence seq1 nomaxvalue maxvalue 100;

CT-00601, Sql syntax error: duplicate or conflicting MAX/NOMAXVAL specifications
SQL> alter sequence seq1 nominvalue minvalue 1;

CT-00601, Sql syntax error: duplicate or conflicting MINVAL/NOMINVAL specifications
SQL> alter sequence seq1 nocache cache 100;

CT-00601, Sql syntax error: duplicate or conflicting CACHE/NOCACHE specifications
SQL> 
SQL> drop table if exists t_count_base_001;

Succeed.

SQL> create table t_count_base_001(id int,deptno int,name varchar(20),sal int);

Succeed.

SQL> insert into t_count_base_001 values(1,1,'1aa',120);

1 rows affected.

SQL> insert into t_count_base_001 values(2,1,'2aa',300);

1 rows affected.

SQL> insert into t_count_base_001 values(3,1,'3aa',100);

1 rows affected.

SQL> insert into t_count_base_001 values(4,1,'4aa',99);

1 rows affected.

SQL> insert into t_count_base_001 values(5,1,'5aa',90);

1 rows affected.

SQL> DROP SEQUENCE if exists seq_auto_extend; 

Succeed.

SQL> CREATE SEQUENCE seq_auto_extend START WITH 10 MAXVALUE 200 INCREMENT BY 2 CYCLE;

Succeed.

SQL> --this three nort supprt 
SQL> select count(distinct id) over(partition by seq_auto_extend.nextval) from t_count_base_001 where id<5;

CT-00601, [1:45]Sql syntax error: unexpected sequence occurs
SQL> select count(distinct seq_auto_extend.nextval) over() from t_count_base_001 where id<5;

CT-00601, [1:23]Sql syntax error: unexpected sequence occurs
SQL> select count(distinct seq_auto_extend.nextval) over(partition by seq_auto_extend.nextval) from t_count_base_001 where id<5;

CT-00601, [1:66]Sql syntax error: unexpected sequence occurs
SQL> --support
SQL> select id, seq_auto_extend.nextval, count(distinct id) over() from t_count_base_001 where id<5 order by 1;
ID           NEXTVAL              COUNT(DISTINCT ID) OVER()
------------ -------------------- -------------------------
1            10                   4                        
2            12                   4                        
3            14                   4                        
4            16                   4                        

4 rows fetched.

SQL>
SQL> --DTS2019102300607
SQL> drop sequence if exists sxj_seq_001;

Succeed.

SQL> create sequence sxj_seq_001 increment by -9223372036854775807 start with 0 maxvalue 9223372036854775807 minvalue -9223372036854775807;

Succeed.

SQL> select sxj_seq_001.nextval from dual;

NEXTVAL             
--------------------
0                   

1 rows fetched.

SQL> select sxj_seq_001.nextval from dual;

NEXTVAL             
--------------------
-9223372036854775807

1 rows fetched.

SQL> select sxj_seq_001.nextval from dual;
CT-00804, Invalid sequence because sequence NEXTVAL goes below MINVALUE
SQL> 
SQL> --DTS2019120615580
SQL> drop sequence if exists XXX0;

Succeed.

SQL> CREATE SEQUENCE XXX0 INCREMENT BY 5 START WITH 0 MAXVALUE 10 MINVALUE 0 CYCLE  NOCACHE;

Succeed.

SQL> SELECT XXX0.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
0                   

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX0';

LAST_NUMBER         
--------------------
5                   

1 rows fetched.

SQL> SELECT XXX0.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
5                   

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX0';

LAST_NUMBER         
--------------------
10                  

1 rows fetched.

SQL> SELECT XXX0.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
10                  

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX0';

LAST_NUMBER         
--------------------
0                   

1 rows fetched.

SQL> SELECT XXX0.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
0                   

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX0';

LAST_NUMBER         
--------------------
5                   

1 rows fetched.

SQL> SELECT XXX0.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
5                   

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX0';

LAST_NUMBER         
--------------------
10                  

1 rows fetched.

SQL> SELECT XXX0.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
10                  

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX0';

LAST_NUMBER         
--------------------
0                   

1 rows fetched.

SQL> drop sequence XXX0;

Succeed.

SQL> 
SQL> drop sequence if exists XXX1;

Succeed.

SQL> CREATE SEQUENCE XXX1 INCREMENT BY 4 START WITH 0 MAXVALUE 5 MINVALUE -5 CYCLE  CACHE 2;

Succeed.

SQL> SELECT XXX1.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
0                   

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX1';

LAST_NUMBER         
--------------------
-5                  

1 rows fetched.

SQL> SELECT XXX1.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
4                   

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX1';

LAST_NUMBER         
--------------------
-5                  

1 rows fetched.

SQL> SELECT XXX1.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
-5                  

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX1';

LAST_NUMBER         
--------------------
3                   

1 rows fetched.

SQL> SELECT XXX1.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
-1                  

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX1';

LAST_NUMBER         
--------------------
3                   

1 rows fetched.

SQL> SELECT XXX1.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
3                   

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX1';

LAST_NUMBER         
--------------------
-1                  

1 rows fetched.

SQL> SELECT XXX1.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
-5                  

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX1';

LAST_NUMBER         
--------------------
-1                  

1 rows fetched.

SQL> drop sequence XXX1;

Succeed.

SQL> 
SQL> drop sequence if exists XXX2;

Succeed.

SQL> CREATE SEQUENCE XXX2 INCREMENT BY -5 START WITH 0 MAXVALUE 10 MINVALUE -10 CYCLE NOCACHE;

Succeed.

SQL> SELECT XXX2.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
0                   

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX2';

LAST_NUMBER         
--------------------
-5                  

1 rows fetched.

SQL> SELECT XXX2.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
-5                  

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX2';

LAST_NUMBER         
--------------------
-10                 

1 rows fetched.

SQL> SELECT XXX2.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
-10                 

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX2';

LAST_NUMBER         
--------------------
10                  

1 rows fetched.

SQL> SELECT XXX2.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
10                  

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX2';

LAST_NUMBER         
--------------------
5                   

1 rows fetched.

SQL> SELECT XXX2.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
5                   

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX2';

LAST_NUMBER         
--------------------
0                   

1 rows fetched.

SQL> SELECT XXX2.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
0                   

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX2';

LAST_NUMBER         
--------------------
-5                  

1 rows fetched.

SQL> drop sequence XXX2;

Succeed.

SQL> 
SQL> drop sequence if exists XXX3;

Succeed.

SQL> CREATE SEQUENCE XXX3 INCREMENT BY -5 START WITH 0 MAXVALUE 10 MINVALUE -10 CYCLE CACHE 2;

Succeed.

SQL> SELECT XXX3.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
0                   

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX3';

LAST_NUMBER         
--------------------
-10                 

1 rows fetched.

SQL> SELECT XXX3.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
-5                  

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX3';

LAST_NUMBER         
--------------------
-10                 

1 rows fetched.

SQL> SELECT XXX3.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
-10                 

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX3';

LAST_NUMBER         
--------------------
5                   

1 rows fetched.

SQL> SELECT XXX3.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
10                  

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX3';

LAST_NUMBER         
--------------------
5                   

1 rows fetched.

SQL> SELECT XXX3.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
5                   

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX3';

LAST_NUMBER         
--------------------
-5                  

1 rows fetched.

SQL> SELECT XXX3.NEXTVAL FROM DUAL; 

NEXTVAL             
--------------------
0                   

1 rows fetched.

SQL> SELECT last_number FROM all_sequences WHERE SEQUENCE_NAME='XXX3';

LAST_NUMBER         
--------------------
-5                  

1 rows fetched.

SQL> drop sequence XXX3;
Succeed.

SQL> 
SQL> 
SQL> --test single sql for seq soft parse
SQL> drop sequence if exists seq_soft_parse;

Succeed.

SQL> create sequence seq_soft_parse;

Succeed.

SQL> select seq_soft_parse.nextval from sys_dummy;

NEXTVAL             
--------------------
1                   

1 rows fetched.

SQL> drop table if exists tab_seq_save_parse_time;

Succeed.

SQL> create table tab_seq_save_parse_time as select PARSE_TIME as save_time from dv_sqls where sql_text like 'select seq_soft_parse.nextval%' and valid=1;

Succeed.

SQL> select seq_soft_parse.nextval from sys_dummy;

NEXTVAL             
--------------------
2                   

1 rows fetched.

SQL> select parse_calls, PARSE_TIME-(select save_time from tab_seq_save_parse_time) from dv_sqls where sql_text like 'select seq_soft_parse.nextval%' and valid=1;

PARSE_CALLS          PARSE_TIME-(SELECT SAVE_TIME FROM TAB_SEQ_SAVE_PARSE_TIME)
-------------------- ----------------------------------------------------------
2                    0                                                         

1 rows fetched.

SQL> 
SQL> --test anonymous for seq soft parse
SQL> drop sequence if exists seq_soft_parse_anon;

Succeed.

SQL> create sequence seq_soft_parse_anon;

Succeed.

SQL> 
SQL> declare
  2 tmp1 int;
  3 begin
  4 select seq_soft_parse_anon.nextval into tmp1 from sys_dummy;
  5 end;
  6 /

PL/SQL procedure successfully completed.

SQL> 
SQL> declare
  2 tmp2 int;
  3 begin
  4 select seq_soft_parse_anon.nextval into tmp2 from sys_dummy;
  5 end;
  6 /

PL/SQL procedure successfully completed.

SQL> 
SQL> declare
  2 tmp1 int;
  3 begin
  4 select seq_soft_parse_anon.nextval into tmp1 from sys_dummy;
  5 end;
  6 /

PL/SQL procedure successfully completed.

SQL> select parse_calls,valid from dv_sqls where sql_text like 'select seq_soft_parse_anon.nextval%' order by 1,2;

PARSE_CALLS          VALID       
-------------------- ------------
2                    1           

1 rows fetched.

SQL> select parse_calls,valid from DV_ANONYMOUS where sql_text like '%seq_soft_parse_anon.nextval%' order by 1,2;
PARSE_CALLS          VALID       
-------------------- ------------
1                    1           
2                    1           

2 rows fetched.




